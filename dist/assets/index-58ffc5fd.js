var PB=Object.defineProperty;var NB=(n,e,t)=>e in n?PB(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var Me=(n,e,t)=>(NB(n,typeof e!="symbol"?e+"":e,t),t),_3=(n,e,t)=>{if(!e.has(n))throw TypeError("Cannot "+t)};var h=(n,e,t)=>(_3(n,e,"read from private field"),t?t.call(n):e.get(n)),_=(n,e,t)=>{if(e.has(n))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(n):e.set(n,t)},L=(n,e,t,r)=>(_3(n,e,"write to private field"),r?r.call(n,t):e.set(n,t),t);var ci=(n,e,t,r)=>({set _(i){L(n,e,i,t)},get _(){return h(n,e,r)}}),B=(n,e,t)=>(_3(n,e,"access private method"),t);function TB(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(n,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();var Hee=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Tg(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var mR={exports:{}},XA={},gR={exports:{}},At={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d2=Symbol.for("react.element"),LB=Symbol.for("react.portal"),kB=Symbol.for("react.fragment"),RB=Symbol.for("react.strict_mode"),IB=Symbol.for("react.profiler"),MB=Symbol.for("react.provider"),FB=Symbol.for("react.context"),DB=Symbol.for("react.forward_ref"),OB=Symbol.for("react.suspense"),jB=Symbol.for("react.memo"),BB=Symbol.for("react.lazy"),bT=Symbol.iterator;function $B(n){return n===null||typeof n!="object"?null:(n=bT&&n[bT]||n["@@iterator"],typeof n=="function"?n:null)}var vR={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},yR=Object.assign,bR={};function Lg(n,e,t){this.props=n,this.context=e,this.refs=bR,this.updater=t||vR}Lg.prototype.isReactComponent={};Lg.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};Lg.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function wR(){}wR.prototype=Lg.prototype;function U4(n,e,t){this.props=n,this.context=e,this.refs=bR,this.updater=t||vR}var H4=U4.prototype=new wR;H4.constructor=U4;yR(H4,Lg.prototype);H4.isPureReactComponent=!0;var wT=Array.isArray,xR=Object.prototype.hasOwnProperty,q4={current:null},AR={key:!0,ref:!0,__self:!0,__source:!0};function SR(n,e,t){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)xR.call(e,r)&&!AR.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=t;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(n&&n.defaultProps)for(r in a=n.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:d2,type:n,key:s,ref:o,props:i,_owner:q4.current}}function zB(n,e){return{$$typeof:d2,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function W4(n){return typeof n=="object"&&n!==null&&n.$$typeof===d2}function VB(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var xT=/\/+/g;function P3(n,e){return typeof n=="object"&&n!==null&&n.key!=null?VB(""+n.key):e.toString(36)}function ob(n,e,t,r,i){var s=typeof n;(s==="undefined"||s==="boolean")&&(n=null);var o=!1;if(n===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(n.$$typeof){case d2:case LB:o=!0}}if(o)return o=n,i=i(o),n=r===""?"."+P3(o,0):r,wT(i)?(t="",n!=null&&(t=n.replace(xT,"$&/")+"/"),ob(i,e,t,"",function(c){return c})):i!=null&&(W4(i)&&(i=zB(i,t+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(xT,"$&/")+"/")+n)),e.push(i)),1;if(o=0,r=r===""?".":r+":",wT(n))for(var a=0;a<n.length;a++){s=n[a];var l=r+P3(s,a);o+=ob(s,e,t,l,i)}else if(l=$B(n),typeof l=="function")for(n=l.call(n),a=0;!(s=n.next()).done;)s=s.value,l=r+P3(s,a++),o+=ob(s,e,t,l,i);else if(s==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function b5(n,e,t){if(n==null)return n;var r=[],i=0;return ob(n,r,"","",function(s){return e.call(t,s,i++)}),r}function UB(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var xi={current:null},ab={transition:null},HB={ReactCurrentDispatcher:xi,ReactCurrentBatchConfig:ab,ReactCurrentOwner:q4};function ER(){throw Error("act(...) is not supported in production builds of React.")}At.Children={map:b5,forEach:function(n,e,t){b5(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return b5(n,function(){e++}),e},toArray:function(n){return b5(n,function(e){return e})||[]},only:function(n){if(!W4(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};At.Component=Lg;At.Fragment=kB;At.Profiler=IB;At.PureComponent=U4;At.StrictMode=RB;At.Suspense=OB;At.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=HB;At.act=ER;At.cloneElement=function(n,e,t){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var r=yR({},n.props),i=n.key,s=n.ref,o=n._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=q4.current),e.key!==void 0&&(i=""+e.key),n.type&&n.type.defaultProps)var a=n.type.defaultProps;for(l in e)xR.call(e,l)&&!AR.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=t;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:d2,type:n.type,key:i,ref:s,props:r,_owner:o}};At.createContext=function(n){return n={$$typeof:FB,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:MB,_context:n},n.Consumer=n};At.createElement=SR;At.createFactory=function(n){var e=SR.bind(null,n);return e.type=n,e};At.createRef=function(){return{current:null}};At.forwardRef=function(n){return{$$typeof:DB,render:n}};At.isValidElement=W4;At.lazy=function(n){return{$$typeof:BB,_payload:{_status:-1,_result:n},_init:UB}};At.memo=function(n,e){return{$$typeof:jB,type:n,compare:e===void 0?null:e}};At.startTransition=function(n){var e=ab.transition;ab.transition={};try{n()}finally{ab.transition=e}};At.unstable_act=ER;At.useCallback=function(n,e){return xi.current.useCallback(n,e)};At.useContext=function(n){return xi.current.useContext(n)};At.useDebugValue=function(){};At.useDeferredValue=function(n){return xi.current.useDeferredValue(n)};At.useEffect=function(n,e){return xi.current.useEffect(n,e)};At.useId=function(){return xi.current.useId()};At.useImperativeHandle=function(n,e,t){return xi.current.useImperativeHandle(n,e,t)};At.useInsertionEffect=function(n,e){return xi.current.useInsertionEffect(n,e)};At.useLayoutEffect=function(n,e){return xi.current.useLayoutEffect(n,e)};At.useMemo=function(n,e){return xi.current.useMemo(n,e)};At.useReducer=function(n,e,t){return xi.current.useReducer(n,e,t)};At.useRef=function(n){return xi.current.useRef(n)};At.useState=function(n){return xi.current.useState(n)};At.useSyncExternalStore=function(n,e,t){return xi.current.useSyncExternalStore(n,e,t)};At.useTransition=function(){return xi.current.useTransition()};At.version="18.3.1";gR.exports=At;var I=gR.exports;const et=Tg(I),G4=TB({__proto__:null,default:et},[I]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qB=I,WB=Symbol.for("react.element"),GB=Symbol.for("react.fragment"),XB=Object.prototype.hasOwnProperty,YB=qB.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,KB={key:!0,ref:!0,__self:!0,__source:!0};function CR(n,e,t){var r,i={},s=null,o=null;t!==void 0&&(s=""+t),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)XB.call(e,r)&&!KB.hasOwnProperty(r)&&(i[r]=e[r]);if(n&&n.defaultProps)for(r in e=n.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:WB,type:n,key:s,ref:o,props:i,_owner:YB.current}}XA.Fragment=GB;XA.jsx=CR;XA.jsxs=CR;mR.exports=XA;var T=mR.exports,UE={},_R={exports:{}},xs={},PR={exports:{}},NR={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(Y,se){var de=Y.length;Y.push(se);e:for(;0<de;){var be=de-1>>>1,D=Y[be];if(0<i(D,se))Y[be]=se,Y[de]=D,de=be;else break e}}function t(Y){return Y.length===0?null:Y[0]}function r(Y){if(Y.length===0)return null;var se=Y[0],de=Y.pop();if(de!==se){Y[0]=de;e:for(var be=0,D=Y.length,G=D>>>1;be<G;){var Z=2*(be+1)-1,re=Y[Z],oe=Z+1,ie=Y[oe];if(0>i(re,de))oe<D&&0>i(ie,re)?(Y[be]=ie,Y[oe]=de,be=oe):(Y[be]=re,Y[Z]=de,be=Z);else if(oe<D&&0>i(ie,de))Y[be]=ie,Y[oe]=de,be=oe;else break e}}return se}function i(Y,se){var de=Y.sortIndex-se.sortIndex;return de!==0?de:Y.id-se.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,d=null,p=3,f=!1,y=!1,g=!1,x=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(Y){for(var se=t(c);se!==null;){if(se.callback===null)r(c);else if(se.startTime<=Y)r(c),se.sortIndex=se.expirationTime,e(l,se);else break;se=t(c)}}function C(Y){if(g=!1,S(Y),!y)if(t(l)!==null)y=!0,Q(N);else{var se=t(c);se!==null&&ne(C,se.startTime-Y)}}function N(Y,se){y=!1,g&&(g=!1,v(k),k=-1),f=!0;var de=p;try{for(S(se),d=t(l);d!==null&&(!(d.expirationTime>se)||Y&&!M());){var be=d.callback;if(typeof be=="function"){d.callback=null,p=d.priorityLevel;var D=be(d.expirationTime<=se);se=n.unstable_now(),typeof D=="function"?d.callback=D:d===t(l)&&r(l),S(se)}else r(l);d=t(l)}if(d!==null)var G=!0;else{var Z=t(c);Z!==null&&ne(C,Z.startTime-se),G=!1}return G}finally{d=null,p=de,f=!1}}var $=!1,R=null,k=-1,W=5,X=-1;function M(){return!(n.unstable_now()-X<W)}function j(){if(R!==null){var Y=n.unstable_now();X=Y;var se=!0;try{se=R(!0,Y)}finally{se?K():($=!1,R=null)}}else $=!1}var K;if(typeof w=="function")K=function(){w(j)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,le=U.port2;U.port1.onmessage=j,K=function(){le.postMessage(null)}}else K=function(){x(j,0)};function Q(Y){R=Y,$||($=!0,K())}function ne(Y,se){k=x(function(){Y(n.unstable_now())},se)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(Y){Y.callback=null},n.unstable_continueExecution=function(){y||f||(y=!0,Q(N))},n.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):W=0<Y?Math.floor(1e3/Y):5},n.unstable_getCurrentPriorityLevel=function(){return p},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(Y){switch(p){case 1:case 2:case 3:var se=3;break;default:se=p}var de=p;p=se;try{return Y()}finally{p=de}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(Y,se){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var de=p;p=Y;try{return se()}finally{p=de}},n.unstable_scheduleCallback=function(Y,se,de){var be=n.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?be+de:be):de=be,Y){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=de+D,Y={id:u++,callback:se,priorityLevel:Y,startTime:de,expirationTime:D,sortIndex:-1},de>be?(Y.sortIndex=de,e(c,Y),t(l)===null&&Y===t(c)&&(g?(v(k),k=-1):g=!0,ne(C,de-be))):(Y.sortIndex=D,e(l,Y),y||f||(y=!0,Q(N))),Y},n.unstable_shouldYield=M,n.unstable_wrapCallback=function(Y){var se=p;return function(){var de=p;p=se;try{return Y.apply(this,arguments)}finally{p=de}}}})(NR);PR.exports=NR;var JB=PR.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QB=I,bs=JB;function Ie(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var TR=new Set,v1={};function nf(n,e){gg(n,e),gg(n+"Capture",e)}function gg(n,e){for(v1[n]=e,n=0;n<e.length;n++)TR.add(e[n])}var Vl=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),HE=Object.prototype.hasOwnProperty,ZB=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,AT={},ST={};function e9(n){return HE.call(ST,n)?!0:HE.call(AT,n)?!1:ZB.test(n)?ST[n]=!0:(AT[n]=!0,!1)}function t9(n,e,t,r){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function n9(n,e,t,r){if(e===null||typeof e>"u"||t9(n,e,t,r))return!0;if(r)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ai(n,e,t,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var jr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){jr[n]=new Ai(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];jr[e]=new Ai(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){jr[n]=new Ai(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){jr[n]=new Ai(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){jr[n]=new Ai(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){jr[n]=new Ai(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){jr[n]=new Ai(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){jr[n]=new Ai(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){jr[n]=new Ai(n,5,!1,n.toLowerCase(),null,!1,!1)});var X4=/[\-:]([a-z])/g;function Y4(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(X4,Y4);jr[e]=new Ai(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(X4,Y4);jr[e]=new Ai(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(X4,Y4);jr[e]=new Ai(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){jr[n]=new Ai(n,1,!1,n.toLowerCase(),null,!1,!1)});jr.xlinkHref=new Ai("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){jr[n]=new Ai(n,1,!1,n.toLowerCase(),null,!0,!0)});function K4(n,e,t,r){var i=jr.hasOwnProperty(e)?jr[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(n9(e,t,i,r)&&(t=null),r||i===null?e9(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):i.mustUseProperty?n[i.propertyName]=t===null?i.type===3?!1:"":t:(e=i.attributeName,r=i.attributeNamespace,t===null?n.removeAttribute(e):(i=i.type,t=i===3||i===4&&t===!0?"":""+t,r?n.setAttributeNS(r,e,t):n.setAttribute(e,t))))}var Kl=QB.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w5=Symbol.for("react.element"),ip=Symbol.for("react.portal"),sp=Symbol.for("react.fragment"),J4=Symbol.for("react.strict_mode"),qE=Symbol.for("react.profiler"),LR=Symbol.for("react.provider"),kR=Symbol.for("react.context"),Q4=Symbol.for("react.forward_ref"),WE=Symbol.for("react.suspense"),GE=Symbol.for("react.suspense_list"),Z4=Symbol.for("react.memo"),yc=Symbol.for("react.lazy"),RR=Symbol.for("react.offscreen"),ET=Symbol.iterator;function h0(n){return n===null||typeof n!="object"?null:(n=ET&&n[ET]||n["@@iterator"],typeof n=="function"?n:null)}var An=Object.assign,N3;function R0(n){if(N3===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);N3=e&&e[1]||""}return`
`+N3+n}var T3=!1;function L3(n,e){if(!n||T3)return"";T3=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(n,[],e)}else{try{e.call()}catch(c){r=c}n.call(e.prototype)}else{try{throw Error()}catch(c){r=c}n()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return n.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",n.displayName)),l}while(1<=o&&0<=a);break}}}finally{T3=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?R0(n):""}function r9(n){switch(n.tag){case 5:return R0(n.type);case 16:return R0("Lazy");case 13:return R0("Suspense");case 19:return R0("SuspenseList");case 0:case 2:case 15:return n=L3(n.type,!1),n;case 11:return n=L3(n.type.render,!1),n;case 1:return n=L3(n.type,!0),n;default:return""}}function XE(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case sp:return"Fragment";case ip:return"Portal";case qE:return"Profiler";case J4:return"StrictMode";case WE:return"Suspense";case GE:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case kR:return(n.displayName||"Context")+".Consumer";case LR:return(n._context.displayName||"Context")+".Provider";case Q4:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case Z4:return e=n.displayName||null,e!==null?e:XE(n.type)||"Memo";case yc:e=n._payload,n=n._init;try{return XE(n(e))}catch{}}return null}function i9(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return XE(e);case 8:return e===J4?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function _u(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function IR(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function s9(n){var e=IR(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),r=""+n[e];if(!n.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var i=t.get,s=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function x5(n){n._valueTracker||(n._valueTracker=s9(n))}function MR(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),r="";return n&&(r=IR(n)?n.checked?"true":"false":n.value),n=r,n!==t?(e.setValue(n),!0):!1}function sw(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function YE(n,e){var t=e.checked;return An({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??n._wrapperState.initialChecked})}function CT(n,e){var t=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;t=_u(e.value!=null?e.value:t),n._wrapperState={initialChecked:r,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function FR(n,e){e=e.checked,e!=null&&K4(n,"checked",e,!1)}function KE(n,e){FR(n,e);var t=_u(e.value),r=e.type;if(t!=null)r==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(r==="submit"||r==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?JE(n,e.type,t):e.hasOwnProperty("defaultValue")&&JE(n,e.type,_u(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function _T(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function JE(n,e,t){(e!=="number"||sw(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}var I0=Array.isArray;function Ep(n,e,t,r){if(n=n.options,e){e={};for(var i=0;i<t.length;i++)e["$"+t[i]]=!0;for(t=0;t<n.length;t++)i=e.hasOwnProperty("$"+n[t].value),n[t].selected!==i&&(n[t].selected=i),i&&r&&(n[t].defaultSelected=!0)}else{for(t=""+_u(t),e=null,i=0;i<n.length;i++){if(n[i].value===t){n[i].selected=!0,r&&(n[i].defaultSelected=!0);return}e!==null||n[i].disabled||(e=n[i])}e!==null&&(e.selected=!0)}}function QE(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Ie(91));return An({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function PT(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(Ie(92));if(I0(t)){if(1<t.length)throw Error(Ie(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:_u(t)}}function DR(n,e){var t=_u(e.value),r=_u(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),r!=null&&(n.defaultValue=""+r)}function NT(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function OR(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ZE(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?OR(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var A5,jR=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,r,i){MSApp.execUnsafeLocalFunction(function(){return n(e,t,r,i)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(A5=A5||document.createElement("div"),A5.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=A5.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function y1(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var n1={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},o9=["Webkit","ms","Moz","O"];Object.keys(n1).forEach(function(n){o9.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),n1[e]=n1[n]})});function BR(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||n1.hasOwnProperty(n)&&n1[n]?(""+e).trim():e+"px"}function $R(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var r=t.indexOf("--")===0,i=BR(t,e[t],r);t==="float"&&(t="cssFloat"),r?n.setProperty(t,i):n[t]=i}}var a9=An({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function eC(n,e){if(e){if(a9[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Ie(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Ie(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Ie(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Ie(62))}}function tC(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var nC=null;function eP(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var rC=null,Cp=null,_p=null;function TT(n){if(n=p2(n)){if(typeof rC!="function")throw Error(Ie(280));var e=n.stateNode;e&&(e=ZA(e),rC(n.stateNode,n.type,e))}}function zR(n){Cp?_p?_p.push(n):_p=[n]:Cp=n}function VR(){if(Cp){var n=Cp,e=_p;if(_p=Cp=null,TT(n),e)for(n=0;n<e.length;n++)TT(e[n])}}function UR(n,e){return n(e)}function HR(){}var k3=!1;function qR(n,e,t){if(k3)return n(e,t);k3=!0;try{return UR(n,e,t)}finally{k3=!1,(Cp!==null||_p!==null)&&(HR(),VR())}}function b1(n,e){var t=n.stateNode;if(t===null)return null;var r=ZA(t);if(r===null)return null;t=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(n=n.type,r=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!r;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(Ie(231,e,typeof t));return t}var iC=!1;if(Vl)try{var f0={};Object.defineProperty(f0,"passive",{get:function(){iC=!0}}),window.addEventListener("test",f0,f0),window.removeEventListener("test",f0,f0)}catch{iC=!1}function l9(n,e,t,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(t,c)}catch(u){this.onError(u)}}var r1=!1,ow=null,aw=!1,sC=null,c9={onError:function(n){r1=!0,ow=n}};function u9(n,e,t,r,i,s,o,a,l){r1=!1,ow=null,l9.apply(c9,arguments)}function d9(n,e,t,r,i,s,o,a,l){if(u9.apply(this,arguments),r1){if(r1){var c=ow;r1=!1,ow=null}else throw Error(Ie(198));aw||(aw=!0,sC=c)}}function rf(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function WR(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function LT(n){if(rf(n)!==n)throw Error(Ie(188))}function h9(n){var e=n.alternate;if(!e){if(e=rf(n),e===null)throw Error(Ie(188));return e!==n?null:n}for(var t=n,r=e;;){var i=t.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){t=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===t)return LT(i),n;if(s===r)return LT(i),e;s=s.sibling}throw Error(Ie(188))}if(t.return!==r.return)t=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===t){o=!0,t=i,r=s;break}if(a===r){o=!0,r=i,t=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===t){o=!0,t=s,r=i;break}if(a===r){o=!0,r=s,t=i;break}a=a.sibling}if(!o)throw Error(Ie(189))}}if(t.alternate!==r)throw Error(Ie(190))}if(t.tag!==3)throw Error(Ie(188));return t.stateNode.current===t?n:e}function GR(n){return n=h9(n),n!==null?XR(n):null}function XR(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=XR(n);if(e!==null)return e;n=n.sibling}return null}var YR=bs.unstable_scheduleCallback,kT=bs.unstable_cancelCallback,f9=bs.unstable_shouldYield,p9=bs.unstable_requestPaint,$n=bs.unstable_now,m9=bs.unstable_getCurrentPriorityLevel,tP=bs.unstable_ImmediatePriority,KR=bs.unstable_UserBlockingPriority,lw=bs.unstable_NormalPriority,g9=bs.unstable_LowPriority,JR=bs.unstable_IdlePriority,YA=null,Pa=null;function v9(n){if(Pa&&typeof Pa.onCommitFiberRoot=="function")try{Pa.onCommitFiberRoot(YA,n,void 0,(n.current.flags&128)===128)}catch{}}var Io=Math.clz32?Math.clz32:w9,y9=Math.log,b9=Math.LN2;function w9(n){return n>>>=0,n===0?32:31-(y9(n)/b9|0)|0}var S5=64,E5=4194304;function M0(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function cw(n,e){var t=n.pendingLanes;if(t===0)return 0;var r=0,i=n.suspendedLanes,s=n.pingedLanes,o=t&268435455;if(o!==0){var a=o&~i;a!==0?r=M0(a):(s&=o,s!==0&&(r=M0(s)))}else o=t&~i,o!==0?r=M0(o):s!==0&&(r=M0(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=t&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=r;0<e;)t=31-Io(e),i=1<<t,r|=n[t],e&=~i;return r}function x9(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function A9(n,e){for(var t=n.suspendedLanes,r=n.pingedLanes,i=n.expirationTimes,s=n.pendingLanes;0<s;){var o=31-Io(s),a=1<<o,l=i[o];l===-1?(!(a&t)||a&r)&&(i[o]=x9(a,e)):l<=e&&(n.expiredLanes|=a),s&=~a}}function oC(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function QR(){var n=S5;return S5<<=1,!(S5&4194240)&&(S5=64),n}function R3(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function h2(n,e,t){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-Io(e),n[e]=t}function S9(n,e){var t=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var r=n.eventTimes;for(n=n.expirationTimes;0<t;){var i=31-Io(t),s=1<<i;e[i]=0,r[i]=-1,n[i]=-1,t&=~s}}function nP(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var r=31-Io(t),i=1<<r;i&e|n[r]&e&&(n[r]|=e),t&=~i}}var zt=0;function ZR(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var eI,rP,tI,nI,rI,aC=!1,C5=[],mu=null,gu=null,vu=null,w1=new Map,x1=new Map,xc=[],E9="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function RT(n,e){switch(n){case"focusin":case"focusout":mu=null;break;case"dragenter":case"dragleave":gu=null;break;case"mouseover":case"mouseout":vu=null;break;case"pointerover":case"pointerout":w1.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":x1.delete(e.pointerId)}}function p0(n,e,t,r,i,s){return n===null||n.nativeEvent!==s?(n={blockedOn:e,domEventName:t,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=p2(e),e!==null&&rP(e)),n):(n.eventSystemFlags|=r,e=n.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),n)}function C9(n,e,t,r,i){switch(e){case"focusin":return mu=p0(mu,n,e,t,r,i),!0;case"dragenter":return gu=p0(gu,n,e,t,r,i),!0;case"mouseover":return vu=p0(vu,n,e,t,r,i),!0;case"pointerover":var s=i.pointerId;return w1.set(s,p0(w1.get(s)||null,n,e,t,r,i)),!0;case"gotpointercapture":return s=i.pointerId,x1.set(s,p0(x1.get(s)||null,n,e,t,r,i)),!0}return!1}function iI(n){var e=md(n.target);if(e!==null){var t=rf(e);if(t!==null){if(e=t.tag,e===13){if(e=WR(t),e!==null){n.blockedOn=e,rI(n.priority,function(){tI(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function lb(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=lC(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t===null){t=n.nativeEvent;var r=new t.constructor(t.type,t);nC=r,t.target.dispatchEvent(r),nC=null}else return e=p2(t),e!==null&&rP(e),n.blockedOn=t,!1;e.shift()}return!0}function IT(n,e,t){lb(n)&&t.delete(e)}function _9(){aC=!1,mu!==null&&lb(mu)&&(mu=null),gu!==null&&lb(gu)&&(gu=null),vu!==null&&lb(vu)&&(vu=null),w1.forEach(IT),x1.forEach(IT)}function m0(n,e){n.blockedOn===e&&(n.blockedOn=null,aC||(aC=!0,bs.unstable_scheduleCallback(bs.unstable_NormalPriority,_9)))}function A1(n){function e(i){return m0(i,n)}if(0<C5.length){m0(C5[0],n);for(var t=1;t<C5.length;t++){var r=C5[t];r.blockedOn===n&&(r.blockedOn=null)}}for(mu!==null&&m0(mu,n),gu!==null&&m0(gu,n),vu!==null&&m0(vu,n),w1.forEach(e),x1.forEach(e),t=0;t<xc.length;t++)r=xc[t],r.blockedOn===n&&(r.blockedOn=null);for(;0<xc.length&&(t=xc[0],t.blockedOn===null);)iI(t),t.blockedOn===null&&xc.shift()}var Pp=Kl.ReactCurrentBatchConfig,uw=!0;function P9(n,e,t,r){var i=zt,s=Pp.transition;Pp.transition=null;try{zt=1,iP(n,e,t,r)}finally{zt=i,Pp.transition=s}}function N9(n,e,t,r){var i=zt,s=Pp.transition;Pp.transition=null;try{zt=4,iP(n,e,t,r)}finally{zt=i,Pp.transition=s}}function iP(n,e,t,r){if(uw){var i=lC(n,e,t,r);if(i===null)V3(n,e,r,dw,t),RT(n,r);else if(C9(i,n,e,t,r))r.stopPropagation();else if(RT(n,r),e&4&&-1<E9.indexOf(n)){for(;i!==null;){var s=p2(i);if(s!==null&&eI(s),s=lC(n,e,t,r),s===null&&V3(n,e,r,dw,t),s===i)break;i=s}i!==null&&r.stopPropagation()}else V3(n,e,r,null,t)}}var dw=null;function lC(n,e,t,r){if(dw=null,n=eP(r),n=md(n),n!==null)if(e=rf(n),e===null)n=null;else if(t=e.tag,t===13){if(n=WR(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return dw=n,null}function sI(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(m9()){case tP:return 1;case KR:return 4;case lw:case g9:return 16;case JR:return 536870912;default:return 16}default:return 16}}var hu=null,sP=null,cb=null;function oI(){if(cb)return cb;var n,e=sP,t=e.length,r,i="value"in hu?hu.value:hu.textContent,s=i.length;for(n=0;n<t&&e[n]===i[n];n++);var o=t-n;for(r=1;r<=o&&e[t-r]===i[s-r];r++);return cb=i.slice(n,1<r?1-r:void 0)}function ub(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function _5(){return!0}function MT(){return!1}function As(n){function e(t,r,i,s,o){this._reactName=t,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in n)n.hasOwnProperty(a)&&(t=n[a],this[a]=t?t(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?_5:MT,this.isPropagationStopped=MT,this}return An(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=_5)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=_5)},persist:function(){},isPersistent:_5}),e}var kg={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},oP=As(kg),f2=An({},kg,{view:0,detail:0}),T9=As(f2),I3,M3,g0,KA=An({},f2,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:aP,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==g0&&(g0&&n.type==="mousemove"?(I3=n.screenX-g0.screenX,M3=n.screenY-g0.screenY):M3=I3=0,g0=n),I3)},movementY:function(n){return"movementY"in n?n.movementY:M3}}),FT=As(KA),L9=An({},KA,{dataTransfer:0}),k9=As(L9),R9=An({},f2,{relatedTarget:0}),F3=As(R9),I9=An({},kg,{animationName:0,elapsedTime:0,pseudoElement:0}),M9=As(I9),F9=An({},kg,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),D9=As(F9),O9=An({},kg,{data:0}),DT=As(O9),j9={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},B9={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$9={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function z9(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=$9[n])?!!e[n]:!1}function aP(){return z9}var V9=An({},f2,{key:function(n){if(n.key){var e=j9[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=ub(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?B9[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:aP,charCode:function(n){return n.type==="keypress"?ub(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?ub(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),U9=As(V9),H9=An({},KA,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),OT=As(H9),q9=An({},f2,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:aP}),W9=As(q9),G9=An({},kg,{propertyName:0,elapsedTime:0,pseudoElement:0}),X9=As(G9),Y9=An({},KA,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),K9=As(Y9),J9=[9,13,27,32],lP=Vl&&"CompositionEvent"in window,i1=null;Vl&&"documentMode"in document&&(i1=document.documentMode);var Q9=Vl&&"TextEvent"in window&&!i1,aI=Vl&&(!lP||i1&&8<i1&&11>=i1),jT=String.fromCharCode(32),BT=!1;function lI(n,e){switch(n){case"keyup":return J9.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function cI(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var op=!1;function Z9(n,e){switch(n){case"compositionend":return cI(e);case"keypress":return e.which!==32?null:(BT=!0,jT);case"textInput":return n=e.data,n===jT&&BT?null:n;default:return null}}function e$(n,e){if(op)return n==="compositionend"||!lP&&lI(n,e)?(n=oI(),cb=sP=hu=null,op=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return aI&&e.locale!=="ko"?null:e.data;default:return null}}var t$={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $T(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!t$[n.type]:e==="textarea"}function uI(n,e,t,r){zR(r),e=hw(e,"onChange"),0<e.length&&(t=new oP("onChange","change",null,t,r),n.push({event:t,listeners:e}))}var s1=null,S1=null;function n$(n){xI(n,0)}function JA(n){var e=cp(n);if(MR(e))return n}function r$(n,e){if(n==="change")return e}var dI=!1;if(Vl){var D3;if(Vl){var O3="oninput"in document;if(!O3){var zT=document.createElement("div");zT.setAttribute("oninput","return;"),O3=typeof zT.oninput=="function"}D3=O3}else D3=!1;dI=D3&&(!document.documentMode||9<document.documentMode)}function VT(){s1&&(s1.detachEvent("onpropertychange",hI),S1=s1=null)}function hI(n){if(n.propertyName==="value"&&JA(S1)){var e=[];uI(e,S1,n,eP(n)),qR(n$,e)}}function i$(n,e,t){n==="focusin"?(VT(),s1=e,S1=t,s1.attachEvent("onpropertychange",hI)):n==="focusout"&&VT()}function s$(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return JA(S1)}function o$(n,e){if(n==="click")return JA(e)}function a$(n,e){if(n==="input"||n==="change")return JA(e)}function l$(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var Fo=typeof Object.is=="function"?Object.is:l$;function E1(n,e){if(Fo(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),r=Object.keys(e);if(t.length!==r.length)return!1;for(r=0;r<t.length;r++){var i=t[r];if(!HE.call(e,i)||!Fo(n[i],e[i]))return!1}return!0}function UT(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function HT(n,e){var t=UT(n);n=0;for(var r;t;){if(t.nodeType===3){if(r=n+t.textContent.length,n<=e&&r>=e)return{node:t,offset:e-n};n=r}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=UT(t)}}function fI(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?fI(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function pI(){for(var n=window,e=sw();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=sw(n.document)}return e}function cP(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function c$(n){var e=pI(),t=n.focusedElem,r=n.selectionRange;if(e!==t&&t&&t.ownerDocument&&fI(t.ownerDocument.documentElement,t)){if(r!==null&&cP(t)){if(e=r.start,n=r.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var i=t.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!n.extend&&s>r&&(i=r,r=s,s=i),i=HT(t,s);var o=HT(t,r);i&&o&&(n.rangeCount!==1||n.anchorNode!==i.node||n.anchorOffset!==i.offset||n.focusNode!==o.node||n.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),n.removeAllRanges(),s>r?(n.addRange(e),n.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var u$=Vl&&"documentMode"in document&&11>=document.documentMode,ap=null,cC=null,o1=null,uC=!1;function qT(n,e,t){var r=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;uC||ap==null||ap!==sw(r)||(r=ap,"selectionStart"in r&&cP(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),o1&&E1(o1,r)||(o1=r,r=hw(cC,"onSelect"),0<r.length&&(e=new oP("onSelect","select",null,e,t),n.push({event:e,listeners:r}),e.target=ap)))}function P5(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var lp={animationend:P5("Animation","AnimationEnd"),animationiteration:P5("Animation","AnimationIteration"),animationstart:P5("Animation","AnimationStart"),transitionend:P5("Transition","TransitionEnd")},j3={},mI={};Vl&&(mI=document.createElement("div").style,"AnimationEvent"in window||(delete lp.animationend.animation,delete lp.animationiteration.animation,delete lp.animationstart.animation),"TransitionEvent"in window||delete lp.transitionend.transition);function QA(n){if(j3[n])return j3[n];if(!lp[n])return n;var e=lp[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in mI)return j3[n]=e[t];return n}var gI=QA("animationend"),vI=QA("animationiteration"),yI=QA("animationstart"),bI=QA("transitionend"),wI=new Map,WT="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ju(n,e){wI.set(n,e),nf(e,[n])}for(var B3=0;B3<WT.length;B3++){var $3=WT[B3],d$=$3.toLowerCase(),h$=$3[0].toUpperCase()+$3.slice(1);ju(d$,"on"+h$)}ju(gI,"onAnimationEnd");ju(vI,"onAnimationIteration");ju(yI,"onAnimationStart");ju("dblclick","onDoubleClick");ju("focusin","onFocus");ju("focusout","onBlur");ju(bI,"onTransitionEnd");gg("onMouseEnter",["mouseout","mouseover"]);gg("onMouseLeave",["mouseout","mouseover"]);gg("onPointerEnter",["pointerout","pointerover"]);gg("onPointerLeave",["pointerout","pointerover"]);nf("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));nf("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));nf("onBeforeInput",["compositionend","keypress","textInput","paste"]);nf("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));nf("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));nf("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var F0="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),f$=new Set("cancel close invalid load scroll toggle".split(" ").concat(F0));function GT(n,e,t){var r=n.type||"unknown-event";n.currentTarget=t,d9(r,e,void 0,n),n.currentTarget=null}function xI(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var r=n[t],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;GT(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;GT(i,a,c),s=l}}}if(aw)throw n=sC,aw=!1,sC=null,n}function sn(n,e){var t=e[mC];t===void 0&&(t=e[mC]=new Set);var r=n+"__bubble";t.has(r)||(AI(e,n,2,!1),t.add(r))}function z3(n,e,t){var r=0;e&&(r|=4),AI(t,n,r,e)}var N5="_reactListening"+Math.random().toString(36).slice(2);function C1(n){if(!n[N5]){n[N5]=!0,TR.forEach(function(t){t!=="selectionchange"&&(f$.has(t)||z3(t,!1,n),z3(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[N5]||(e[N5]=!0,z3("selectionchange",!1,e))}}function AI(n,e,t,r){switch(sI(e)){case 1:var i=P9;break;case 4:i=N9;break;default:i=iP}t=i.bind(null,e,t,n),i=void 0,!iC||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?n.addEventListener(e,t,{capture:!0,passive:i}):n.addEventListener(e,t,!0):i!==void 0?n.addEventListener(e,t,{passive:i}):n.addEventListener(e,t,!1)}function V3(n,e,t,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=md(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}qR(function(){var c=s,u=eP(t),d=[];e:{var p=wI.get(n);if(p!==void 0){var f=oP,y=n;switch(n){case"keypress":if(ub(t)===0)break e;case"keydown":case"keyup":f=U9;break;case"focusin":y="focus",f=F3;break;case"focusout":y="blur",f=F3;break;case"beforeblur":case"afterblur":f=F3;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=FT;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=k9;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=W9;break;case gI:case vI:case yI:f=M9;break;case bI:f=X9;break;case"scroll":f=T9;break;case"wheel":f=K9;break;case"copy":case"cut":case"paste":f=D9;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=OT}var g=(e&4)!==0,x=!g&&n==="scroll",v=g?p!==null?p+"Capture":null:p;g=[];for(var w=c,S;w!==null;){S=w;var C=S.stateNode;if(S.tag===5&&C!==null&&(S=C,v!==null&&(C=b1(w,v),C!=null&&g.push(_1(w,C,S)))),x)break;w=w.return}0<g.length&&(p=new f(p,y,null,t,u),d.push({event:p,listeners:g}))}}if(!(e&7)){e:{if(p=n==="mouseover"||n==="pointerover",f=n==="mouseout"||n==="pointerout",p&&t!==nC&&(y=t.relatedTarget||t.fromElement)&&(md(y)||y[Ul]))break e;if((f||p)&&(p=u.window===u?u:(p=u.ownerDocument)?p.defaultView||p.parentWindow:window,f?(y=t.relatedTarget||t.toElement,f=c,y=y?md(y):null,y!==null&&(x=rf(y),y!==x||y.tag!==5&&y.tag!==6)&&(y=null)):(f=null,y=c),f!==y)){if(g=FT,C="onMouseLeave",v="onMouseEnter",w="mouse",(n==="pointerout"||n==="pointerover")&&(g=OT,C="onPointerLeave",v="onPointerEnter",w="pointer"),x=f==null?p:cp(f),S=y==null?p:cp(y),p=new g(C,w+"leave",f,t,u),p.target=x,p.relatedTarget=S,C=null,md(u)===c&&(g=new g(v,w+"enter",y,t,u),g.target=S,g.relatedTarget=x,C=g),x=C,f&&y)t:{for(g=f,v=y,w=0,S=g;S;S=Vf(S))w++;for(S=0,C=v;C;C=Vf(C))S++;for(;0<w-S;)g=Vf(g),w--;for(;0<S-w;)v=Vf(v),S--;for(;w--;){if(g===v||v!==null&&g===v.alternate)break t;g=Vf(g),v=Vf(v)}g=null}else g=null;f!==null&&XT(d,p,f,g,!1),y!==null&&x!==null&&XT(d,x,y,g,!0)}}e:{if(p=c?cp(c):window,f=p.nodeName&&p.nodeName.toLowerCase(),f==="select"||f==="input"&&p.type==="file")var N=r$;else if($T(p))if(dI)N=a$;else{N=s$;var $=i$}else(f=p.nodeName)&&f.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(N=o$);if(N&&(N=N(n,c))){uI(d,N,t,u);break e}$&&$(n,p,c),n==="focusout"&&($=p._wrapperState)&&$.controlled&&p.type==="number"&&JE(p,"number",p.value)}switch($=c?cp(c):window,n){case"focusin":($T($)||$.contentEditable==="true")&&(ap=$,cC=c,o1=null);break;case"focusout":o1=cC=ap=null;break;case"mousedown":uC=!0;break;case"contextmenu":case"mouseup":case"dragend":uC=!1,qT(d,t,u);break;case"selectionchange":if(u$)break;case"keydown":case"keyup":qT(d,t,u)}var R;if(lP)e:{switch(n){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else op?lI(n,t)&&(k="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(k="onCompositionStart");k&&(aI&&t.locale!=="ko"&&(op||k!=="onCompositionStart"?k==="onCompositionEnd"&&op&&(R=oI()):(hu=u,sP="value"in hu?hu.value:hu.textContent,op=!0)),$=hw(c,k),0<$.length&&(k=new DT(k,n,null,t,u),d.push({event:k,listeners:$}),R?k.data=R:(R=cI(t),R!==null&&(k.data=R)))),(R=Q9?Z9(n,t):e$(n,t))&&(c=hw(c,"onBeforeInput"),0<c.length&&(u=new DT("onBeforeInput","beforeinput",null,t,u),d.push({event:u,listeners:c}),u.data=R))}xI(d,e)})}function _1(n,e,t){return{instance:n,listener:e,currentTarget:t}}function hw(n,e){for(var t=e+"Capture",r=[];n!==null;){var i=n,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=b1(n,t),s!=null&&r.unshift(_1(n,s,i)),s=b1(n,e),s!=null&&r.push(_1(n,s,i))),n=n.return}return r}function Vf(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function XT(n,e,t,r,i){for(var s=e._reactName,o=[];t!==null&&t!==r;){var a=t,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=b1(t,s),l!=null&&o.unshift(_1(t,l,a))):i||(l=b1(t,s),l!=null&&o.push(_1(t,l,a)))),t=t.return}o.length!==0&&n.push({event:e,listeners:o})}var p$=/\r\n?/g,m$=/\u0000|\uFFFD/g;function YT(n){return(typeof n=="string"?n:""+n).replace(p$,`
`).replace(m$,"")}function T5(n,e,t){if(e=YT(e),YT(n)!==e&&t)throw Error(Ie(425))}function fw(){}var dC=null,hC=null;function fC(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var pC=typeof setTimeout=="function"?setTimeout:void 0,g$=typeof clearTimeout=="function"?clearTimeout:void 0,KT=typeof Promise=="function"?Promise:void 0,v$=typeof queueMicrotask=="function"?queueMicrotask:typeof KT<"u"?function(n){return KT.resolve(null).then(n).catch(y$)}:pC;function y$(n){setTimeout(function(){throw n})}function U3(n,e){var t=e,r=0;do{var i=t.nextSibling;if(n.removeChild(t),i&&i.nodeType===8)if(t=i.data,t==="/$"){if(r===0){n.removeChild(i),A1(e);return}r--}else t!=="$"&&t!=="$?"&&t!=="$!"||r++;t=i}while(t);A1(e)}function yu(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function JT(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var Rg=Math.random().toString(36).slice(2),Aa="__reactFiber$"+Rg,P1="__reactProps$"+Rg,Ul="__reactContainer$"+Rg,mC="__reactEvents$"+Rg,b$="__reactListeners$"+Rg,w$="__reactHandles$"+Rg;function md(n){var e=n[Aa];if(e)return e;for(var t=n.parentNode;t;){if(e=t[Ul]||t[Aa]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=JT(n);n!==null;){if(t=n[Aa])return t;n=JT(n)}return e}n=t,t=n.parentNode}return null}function p2(n){return n=n[Aa]||n[Ul],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function cp(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(Ie(33))}function ZA(n){return n[P1]||null}var gC=[],up=-1;function Bu(n){return{current:n}}function an(n){0>up||(n.current=gC[up],gC[up]=null,up--)}function en(n,e){up++,gC[up]=n.current,n.current=e}var Pu={},ii=Bu(Pu),$i=Bu(!1),Gh=Pu;function vg(n,e){var t=n.type.contextTypes;if(!t)return Pu;var r=n.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in t)i[s]=e[s];return r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=i),i}function zi(n){return n=n.childContextTypes,n!=null}function pw(){an($i),an(ii)}function QT(n,e,t){if(ii.current!==Pu)throw Error(Ie(168));en(ii,e),en($i,t)}function SI(n,e,t){var r=n.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return t;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Ie(108,i9(n)||"Unknown",i));return An({},t,r)}function mw(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Pu,Gh=ii.current,en(ii,n),en($i,$i.current),!0}function ZT(n,e,t){var r=n.stateNode;if(!r)throw Error(Ie(169));t?(n=SI(n,e,Gh),r.__reactInternalMemoizedMergedChildContext=n,an($i),an(ii),en(ii,n)):an($i),en($i,t)}var nl=null,eS=!1,H3=!1;function EI(n){nl===null?nl=[n]:nl.push(n)}function x$(n){eS=!0,EI(n)}function $u(){if(!H3&&nl!==null){H3=!0;var n=0,e=zt;try{var t=nl;for(zt=1;n<t.length;n++){var r=t[n];do r=r(!0);while(r!==null)}nl=null,eS=!1}catch(i){throw nl!==null&&(nl=nl.slice(n+1)),YR(tP,$u),i}finally{zt=e,H3=!1}}return null}var dp=[],hp=0,gw=null,vw=0,Vs=[],Us=0,Xh=null,Dl=1,Ol="";function rd(n,e){dp[hp++]=vw,dp[hp++]=gw,gw=n,vw=e}function CI(n,e,t){Vs[Us++]=Dl,Vs[Us++]=Ol,Vs[Us++]=Xh,Xh=n;var r=Dl;n=Ol;var i=32-Io(r)-1;r&=~(1<<i),t+=1;var s=32-Io(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Dl=1<<32-Io(e)+i|t<<i|r,Ol=s+n}else Dl=1<<s|t<<i|r,Ol=n}function uP(n){n.return!==null&&(rd(n,1),CI(n,1,0))}function dP(n){for(;n===gw;)gw=dp[--hp],dp[hp]=null,vw=dp[--hp],dp[hp]=null;for(;n===Xh;)Xh=Vs[--Us],Vs[Us]=null,Ol=Vs[--Us],Vs[Us]=null,Dl=Vs[--Us],Vs[Us]=null}var vs=null,ms=null,pn=!1,To=null;function _I(n,e){var t=Hs(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=n,e=n.deletions,e===null?(n.deletions=[t],n.flags|=16):e.push(t)}function eL(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,vs=n,ms=yu(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,vs=n,ms=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=Xh!==null?{id:Dl,overflow:Ol}:null,n.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=Hs(18,null,null,0),t.stateNode=e,t.return=n,n.child=t,vs=n,ms=null,!0):!1;default:return!1}}function vC(n){return(n.mode&1)!==0&&(n.flags&128)===0}function yC(n){if(pn){var e=ms;if(e){var t=e;if(!eL(n,e)){if(vC(n))throw Error(Ie(418));e=yu(t.nextSibling);var r=vs;e&&eL(n,e)?_I(r,t):(n.flags=n.flags&-4097|2,pn=!1,vs=n)}}else{if(vC(n))throw Error(Ie(418));n.flags=n.flags&-4097|2,pn=!1,vs=n}}}function tL(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;vs=n}function L5(n){if(n!==vs)return!1;if(!pn)return tL(n),pn=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!fC(n.type,n.memoizedProps)),e&&(e=ms)){if(vC(n))throw PI(),Error(Ie(418));for(;e;)_I(n,e),e=yu(e.nextSibling)}if(tL(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(Ie(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){ms=yu(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}ms=null}}else ms=vs?yu(n.stateNode.nextSibling):null;return!0}function PI(){for(var n=ms;n;)n=yu(n.nextSibling)}function yg(){ms=vs=null,pn=!1}function hP(n){To===null?To=[n]:To.push(n)}var A$=Kl.ReactCurrentBatchConfig;function v0(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(Ie(309));var r=t.stateNode}if(!r)throw Error(Ie(147,n));var i=r,s=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof n!="string")throw Error(Ie(284));if(!t._owner)throw Error(Ie(290,n))}return n}function k5(n,e){throw n=Object.prototype.toString.call(e),Error(Ie(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function nL(n){var e=n._init;return e(n._payload)}function NI(n){function e(v,w){if(n){var S=v.deletions;S===null?(v.deletions=[w],v.flags|=16):S.push(w)}}function t(v,w){if(!n)return null;for(;w!==null;)e(v,w),w=w.sibling;return null}function r(v,w){for(v=new Map;w!==null;)w.key!==null?v.set(w.key,w):v.set(w.index,w),w=w.sibling;return v}function i(v,w){return v=Au(v,w),v.index=0,v.sibling=null,v}function s(v,w,S){return v.index=S,n?(S=v.alternate,S!==null?(S=S.index,S<w?(v.flags|=2,w):S):(v.flags|=2,w)):(v.flags|=1048576,w)}function o(v){return n&&v.alternate===null&&(v.flags|=2),v}function a(v,w,S,C){return w===null||w.tag!==6?(w=J3(S,v.mode,C),w.return=v,w):(w=i(w,S),w.return=v,w)}function l(v,w,S,C){var N=S.type;return N===sp?u(v,w,S.props.children,C,S.key):w!==null&&(w.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===yc&&nL(N)===w.type)?(C=i(w,S.props),C.ref=v0(v,w,S),C.return=v,C):(C=vb(S.type,S.key,S.props,null,v.mode,C),C.ref=v0(v,w,S),C.return=v,C)}function c(v,w,S,C){return w===null||w.tag!==4||w.stateNode.containerInfo!==S.containerInfo||w.stateNode.implementation!==S.implementation?(w=Q3(S,v.mode,C),w.return=v,w):(w=i(w,S.children||[]),w.return=v,w)}function u(v,w,S,C,N){return w===null||w.tag!==7?(w=Hh(S,v.mode,C,N),w.return=v,w):(w=i(w,S),w.return=v,w)}function d(v,w,S){if(typeof w=="string"&&w!==""||typeof w=="number")return w=J3(""+w,v.mode,S),w.return=v,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case w5:return S=vb(w.type,w.key,w.props,null,v.mode,S),S.ref=v0(v,null,w),S.return=v,S;case ip:return w=Q3(w,v.mode,S),w.return=v,w;case yc:var C=w._init;return d(v,C(w._payload),S)}if(I0(w)||h0(w))return w=Hh(w,v.mode,S,null),w.return=v,w;k5(v,w)}return null}function p(v,w,S,C){var N=w!==null?w.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return N!==null?null:a(v,w,""+S,C);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case w5:return S.key===N?l(v,w,S,C):null;case ip:return S.key===N?c(v,w,S,C):null;case yc:return N=S._init,p(v,w,N(S._payload),C)}if(I0(S)||h0(S))return N!==null?null:u(v,w,S,C,null);k5(v,S)}return null}function f(v,w,S,C,N){if(typeof C=="string"&&C!==""||typeof C=="number")return v=v.get(S)||null,a(w,v,""+C,N);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case w5:return v=v.get(C.key===null?S:C.key)||null,l(w,v,C,N);case ip:return v=v.get(C.key===null?S:C.key)||null,c(w,v,C,N);case yc:var $=C._init;return f(v,w,S,$(C._payload),N)}if(I0(C)||h0(C))return v=v.get(S)||null,u(w,v,C,N,null);k5(w,C)}return null}function y(v,w,S,C){for(var N=null,$=null,R=w,k=w=0,W=null;R!==null&&k<S.length;k++){R.index>k?(W=R,R=null):W=R.sibling;var X=p(v,R,S[k],C);if(X===null){R===null&&(R=W);break}n&&R&&X.alternate===null&&e(v,R),w=s(X,w,k),$===null?N=X:$.sibling=X,$=X,R=W}if(k===S.length)return t(v,R),pn&&rd(v,k),N;if(R===null){for(;k<S.length;k++)R=d(v,S[k],C),R!==null&&(w=s(R,w,k),$===null?N=R:$.sibling=R,$=R);return pn&&rd(v,k),N}for(R=r(v,R);k<S.length;k++)W=f(R,v,k,S[k],C),W!==null&&(n&&W.alternate!==null&&R.delete(W.key===null?k:W.key),w=s(W,w,k),$===null?N=W:$.sibling=W,$=W);return n&&R.forEach(function(M){return e(v,M)}),pn&&rd(v,k),N}function g(v,w,S,C){var N=h0(S);if(typeof N!="function")throw Error(Ie(150));if(S=N.call(S),S==null)throw Error(Ie(151));for(var $=N=null,R=w,k=w=0,W=null,X=S.next();R!==null&&!X.done;k++,X=S.next()){R.index>k?(W=R,R=null):W=R.sibling;var M=p(v,R,X.value,C);if(M===null){R===null&&(R=W);break}n&&R&&M.alternate===null&&e(v,R),w=s(M,w,k),$===null?N=M:$.sibling=M,$=M,R=W}if(X.done)return t(v,R),pn&&rd(v,k),N;if(R===null){for(;!X.done;k++,X=S.next())X=d(v,X.value,C),X!==null&&(w=s(X,w,k),$===null?N=X:$.sibling=X,$=X);return pn&&rd(v,k),N}for(R=r(v,R);!X.done;k++,X=S.next())X=f(R,v,k,X.value,C),X!==null&&(n&&X.alternate!==null&&R.delete(X.key===null?k:X.key),w=s(X,w,k),$===null?N=X:$.sibling=X,$=X);return n&&R.forEach(function(j){return e(v,j)}),pn&&rd(v,k),N}function x(v,w,S,C){if(typeof S=="object"&&S!==null&&S.type===sp&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case w5:e:{for(var N=S.key,$=w;$!==null;){if($.key===N){if(N=S.type,N===sp){if($.tag===7){t(v,$.sibling),w=i($,S.props.children),w.return=v,v=w;break e}}else if($.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===yc&&nL(N)===$.type){t(v,$.sibling),w=i($,S.props),w.ref=v0(v,$,S),w.return=v,v=w;break e}t(v,$);break}else e(v,$);$=$.sibling}S.type===sp?(w=Hh(S.props.children,v.mode,C,S.key),w.return=v,v=w):(C=vb(S.type,S.key,S.props,null,v.mode,C),C.ref=v0(v,w,S),C.return=v,v=C)}return o(v);case ip:e:{for($=S.key;w!==null;){if(w.key===$)if(w.tag===4&&w.stateNode.containerInfo===S.containerInfo&&w.stateNode.implementation===S.implementation){t(v,w.sibling),w=i(w,S.children||[]),w.return=v,v=w;break e}else{t(v,w);break}else e(v,w);w=w.sibling}w=Q3(S,v.mode,C),w.return=v,v=w}return o(v);case yc:return $=S._init,x(v,w,$(S._payload),C)}if(I0(S))return y(v,w,S,C);if(h0(S))return g(v,w,S,C);k5(v,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,w!==null&&w.tag===6?(t(v,w.sibling),w=i(w,S),w.return=v,v=w):(t(v,w),w=J3(S,v.mode,C),w.return=v,v=w),o(v)):t(v,w)}return x}var bg=NI(!0),TI=NI(!1),yw=Bu(null),bw=null,fp=null,fP=null;function pP(){fP=fp=bw=null}function mP(n){var e=yw.current;an(yw),n._currentValue=e}function bC(n,e,t){for(;n!==null;){var r=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),n===t)break;n=n.return}}function Np(n,e){bw=n,fP=fp=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&e&&(Bi=!0),n.firstContext=null)}function Ws(n){var e=n._currentValue;if(fP!==n)if(n={context:n,memoizedValue:e,next:null},fp===null){if(bw===null)throw Error(Ie(308));fp=n,bw.dependencies={lanes:0,firstContext:n}}else fp=fp.next=n;return e}var gd=null;function gP(n){gd===null?gd=[n]:gd.push(n)}function LI(n,e,t,r){var i=e.interleaved;return i===null?(t.next=t,gP(e)):(t.next=i.next,i.next=t),e.interleaved=t,Hl(n,r)}function Hl(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}var bc=!1;function vP(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function kI(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Bl(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function bu(n,e,t){var r=n.updateQueue;if(r===null)return null;if(r=r.shared,kt&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Hl(n,t)}return i=r.interleaved,i===null?(e.next=e,gP(r)):(e.next=i.next,i.next=e),r.interleaved=e,Hl(n,t)}function db(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,nP(n,t)}}function rL(n,e){var t=n.updateQueue,r=n.alternate;if(r!==null&&(r=r.updateQueue,t===r)){var i=null,s=null;if(t=t.firstBaseUpdate,t!==null){do{var o={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};s===null?i=s=o:s=s.next=o,t=t.next}while(t!==null);s===null?i=s=e:s=s.next=e}else i=s=e;t={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function ww(n,e,t,r){var i=n.updateQueue;bc=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var u=n.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,u=c=l=null,a=s;do{var p=a.lane,f=a.eventTime;if((r&p)===p){u!==null&&(u=u.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=n,g=a;switch(p=e,f=t,g.tag){case 1:if(y=g.payload,typeof y=="function"){d=y.call(f,d,p);break e}d=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=g.payload,p=typeof y=="function"?y.call(f,d,p):y,p==null)break e;d=An({},d,p);break e;case 2:bc=!0}}a.callback!==null&&a.lane!==0&&(n.flags|=64,p=i.effects,p===null?i.effects=[a]:p.push(a))}else f={eventTime:f,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=f,l=d):u=u.next=f,o|=p;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;p=a,a=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(1);if(u===null&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Kh|=o,n.lanes=o,n.memoizedState=d}}function iL(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var r=n[e],i=r.callback;if(i!==null){if(r.callback=null,r=t,typeof i!="function")throw Error(Ie(191,i));i.call(r)}}}var m2={},Na=Bu(m2),N1=Bu(m2),T1=Bu(m2);function vd(n){if(n===m2)throw Error(Ie(174));return n}function yP(n,e){switch(en(T1,e),en(N1,n),en(Na,m2),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:ZE(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=ZE(e,n)}an(Na),en(Na,e)}function wg(){an(Na),an(N1),an(T1)}function RI(n){vd(T1.current);var e=vd(Na.current),t=ZE(e,n.type);e!==t&&(en(N1,n),en(Na,t))}function bP(n){N1.current===n&&(an(Na),an(N1))}var bn=Bu(0);function xw(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var q3=[];function wP(){for(var n=0;n<q3.length;n++)q3[n]._workInProgressVersionPrimary=null;q3.length=0}var hb=Kl.ReactCurrentDispatcher,W3=Kl.ReactCurrentBatchConfig,Yh=0,xn=null,ar=null,wr=null,Aw=!1,a1=!1,L1=0,S$=0;function Hr(){throw Error(Ie(321))}function xP(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!Fo(n[t],e[t]))return!1;return!0}function AP(n,e,t,r,i,s){if(Yh=s,xn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,hb.current=n===null||n.memoizedState===null?P$:N$,n=t(r,i),a1){s=0;do{if(a1=!1,L1=0,25<=s)throw Error(Ie(301));s+=1,wr=ar=null,e.updateQueue=null,hb.current=T$,n=t(r,i)}while(a1)}if(hb.current=Sw,e=ar!==null&&ar.next!==null,Yh=0,wr=ar=xn=null,Aw=!1,e)throw Error(Ie(300));return n}function SP(){var n=L1!==0;return L1=0,n}function ra(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wr===null?xn.memoizedState=wr=n:wr=wr.next=n,wr}function Gs(){if(ar===null){var n=xn.alternate;n=n!==null?n.memoizedState:null}else n=ar.next;var e=wr===null?xn.memoizedState:wr.next;if(e!==null)wr=e,ar=n;else{if(n===null)throw Error(Ie(310));ar=n,n={memoizedState:ar.memoizedState,baseState:ar.baseState,baseQueue:ar.baseQueue,queue:ar.queue,next:null},wr===null?xn.memoizedState=wr=n:wr=wr.next=n}return wr}function k1(n,e){return typeof e=="function"?e(n):e}function G3(n){var e=Gs(),t=e.queue;if(t===null)throw Error(Ie(311));t.lastRenderedReducer=n;var r=ar,i=r.baseQueue,s=t.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,t.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var u=c.lane;if((Yh&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:n(r,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,xn.lanes|=u,Kh|=u}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,Fo(r,e.memoizedState)||(Bi=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,t.lastRenderedState=r}if(n=t.interleaved,n!==null){i=n;do s=i.lane,xn.lanes|=s,Kh|=s,i=i.next;while(i!==n)}else i===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function X3(n){var e=Gs(),t=e.queue;if(t===null)throw Error(Ie(311));t.lastRenderedReducer=n;var r=t.dispatch,i=t.pending,s=e.memoizedState;if(i!==null){t.pending=null;var o=i=i.next;do s=n(s,o.action),o=o.next;while(o!==i);Fo(s,e.memoizedState)||(Bi=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),t.lastRenderedState=s}return[s,r]}function II(){}function MI(n,e){var t=xn,r=Gs(),i=e(),s=!Fo(r.memoizedState,i);if(s&&(r.memoizedState=i,Bi=!0),r=r.queue,EP(OI.bind(null,t,r,n),[n]),r.getSnapshot!==e||s||wr!==null&&wr.memoizedState.tag&1){if(t.flags|=2048,R1(9,DI.bind(null,t,r,i,e),void 0,null),Sr===null)throw Error(Ie(349));Yh&30||FI(t,e,i)}return i}function FI(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=xn.updateQueue,e===null?(e={lastEffect:null,stores:null},xn.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function DI(n,e,t,r){e.value=t,e.getSnapshot=r,jI(e)&&BI(n)}function OI(n,e,t){return t(function(){jI(e)&&BI(n)})}function jI(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!Fo(n,t)}catch{return!0}}function BI(n){var e=Hl(n,1);e!==null&&Mo(e,n,1,-1)}function sL(n){var e=ra();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:k1,lastRenderedState:n},e.queue=n,n=n.dispatch=_$.bind(null,xn,n),[e.memoizedState,n]}function R1(n,e,t,r){return n={tag:n,create:e,destroy:t,deps:r,next:null},e=xn.updateQueue,e===null?(e={lastEffect:null,stores:null},xn.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(r=t.next,t.next=n,n.next=r,e.lastEffect=n)),n}function $I(){return Gs().memoizedState}function fb(n,e,t,r){var i=ra();xn.flags|=n,i.memoizedState=R1(1|e,t,void 0,r===void 0?null:r)}function tS(n,e,t,r){var i=Gs();r=r===void 0?null:r;var s=void 0;if(ar!==null){var o=ar.memoizedState;if(s=o.destroy,r!==null&&xP(r,o.deps)){i.memoizedState=R1(e,t,s,r);return}}xn.flags|=n,i.memoizedState=R1(1|e,t,s,r)}function oL(n,e){return fb(8390656,8,n,e)}function EP(n,e){return tS(2048,8,n,e)}function zI(n,e){return tS(4,2,n,e)}function VI(n,e){return tS(4,4,n,e)}function UI(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function HI(n,e,t){return t=t!=null?t.concat([n]):null,tS(4,4,UI.bind(null,e,n),t)}function CP(){}function qI(n,e){var t=Gs();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&xP(e,r[1])?r[0]:(t.memoizedState=[n,e],n)}function WI(n,e){var t=Gs();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&xP(e,r[1])?r[0]:(n=n(),t.memoizedState=[n,e],n)}function GI(n,e,t){return Yh&21?(Fo(t,e)||(t=QR(),xn.lanes|=t,Kh|=t,n.baseState=!0),e):(n.baseState&&(n.baseState=!1,Bi=!0),n.memoizedState=t)}function E$(n,e){var t=zt;zt=t!==0&&4>t?t:4,n(!0);var r=W3.transition;W3.transition={};try{n(!1),e()}finally{zt=t,W3.transition=r}}function XI(){return Gs().memoizedState}function C$(n,e,t){var r=xu(n);if(t={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null},YI(n))KI(e,t);else if(t=LI(n,e,t,r),t!==null){var i=wi();Mo(t,n,r,i),JI(t,e,r)}}function _$(n,e,t){var r=xu(n),i={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null};if(YI(n))KI(e,i);else{var s=n.alternate;if(n.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,t);if(i.hasEagerState=!0,i.eagerState=a,Fo(a,o)){var l=e.interleaved;l===null?(i.next=i,gP(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}t=LI(n,e,i,r),t!==null&&(i=wi(),Mo(t,n,r,i),JI(t,e,r))}}function YI(n){var e=n.alternate;return n===xn||e!==null&&e===xn}function KI(n,e){a1=Aw=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function JI(n,e,t){if(t&4194240){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,nP(n,t)}}var Sw={readContext:Ws,useCallback:Hr,useContext:Hr,useEffect:Hr,useImperativeHandle:Hr,useInsertionEffect:Hr,useLayoutEffect:Hr,useMemo:Hr,useReducer:Hr,useRef:Hr,useState:Hr,useDebugValue:Hr,useDeferredValue:Hr,useTransition:Hr,useMutableSource:Hr,useSyncExternalStore:Hr,useId:Hr,unstable_isNewReconciler:!1},P$={readContext:Ws,useCallback:function(n,e){return ra().memoizedState=[n,e===void 0?null:e],n},useContext:Ws,useEffect:oL,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,fb(4194308,4,UI.bind(null,e,n),t)},useLayoutEffect:function(n,e){return fb(4194308,4,n,e)},useInsertionEffect:function(n,e){return fb(4,2,n,e)},useMemo:function(n,e){var t=ra();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var r=ra();return e=t!==void 0?t(e):e,r.memoizedState=r.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},r.queue=n,n=n.dispatch=C$.bind(null,xn,n),[r.memoizedState,n]},useRef:function(n){var e=ra();return n={current:n},e.memoizedState=n},useState:sL,useDebugValue:CP,useDeferredValue:function(n){return ra().memoizedState=n},useTransition:function(){var n=sL(!1),e=n[0];return n=E$.bind(null,n[1]),ra().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,t){var r=xn,i=ra();if(pn){if(t===void 0)throw Error(Ie(407));t=t()}else{if(t=e(),Sr===null)throw Error(Ie(349));Yh&30||FI(r,e,t)}i.memoizedState=t;var s={value:t,getSnapshot:e};return i.queue=s,oL(OI.bind(null,r,s,n),[n]),r.flags|=2048,R1(9,DI.bind(null,r,s,t,e),void 0,null),t},useId:function(){var n=ra(),e=Sr.identifierPrefix;if(pn){var t=Ol,r=Dl;t=(r&~(1<<32-Io(r)-1)).toString(32)+t,e=":"+e+"R"+t,t=L1++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=S$++,e=":"+e+"r"+t.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},N$={readContext:Ws,useCallback:qI,useContext:Ws,useEffect:EP,useImperativeHandle:HI,useInsertionEffect:zI,useLayoutEffect:VI,useMemo:WI,useReducer:G3,useRef:$I,useState:function(){return G3(k1)},useDebugValue:CP,useDeferredValue:function(n){var e=Gs();return GI(e,ar.memoizedState,n)},useTransition:function(){var n=G3(k1)[0],e=Gs().memoizedState;return[n,e]},useMutableSource:II,useSyncExternalStore:MI,useId:XI,unstable_isNewReconciler:!1},T$={readContext:Ws,useCallback:qI,useContext:Ws,useEffect:EP,useImperativeHandle:HI,useInsertionEffect:zI,useLayoutEffect:VI,useMemo:WI,useReducer:X3,useRef:$I,useState:function(){return X3(k1)},useDebugValue:CP,useDeferredValue:function(n){var e=Gs();return ar===null?e.memoizedState=n:GI(e,ar.memoizedState,n)},useTransition:function(){var n=X3(k1)[0],e=Gs().memoizedState;return[n,e]},useMutableSource:II,useSyncExternalStore:MI,useId:XI,unstable_isNewReconciler:!1};function ho(n,e){if(n&&n.defaultProps){e=An({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}function wC(n,e,t,r){e=n.memoizedState,t=t(r,e),t=t==null?e:An({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var nS={isMounted:function(n){return(n=n._reactInternals)?rf(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var r=wi(),i=xu(n),s=Bl(r,i);s.payload=e,t!=null&&(s.callback=t),e=bu(n,s,i),e!==null&&(Mo(e,n,i,r),db(e,n,i))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var r=wi(),i=xu(n),s=Bl(r,i);s.tag=1,s.payload=e,t!=null&&(s.callback=t),e=bu(n,s,i),e!==null&&(Mo(e,n,i,r),db(e,n,i))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=wi(),r=xu(n),i=Bl(t,r);i.tag=2,e!=null&&(i.callback=e),e=bu(n,i,r),e!==null&&(Mo(e,n,r,t),db(e,n,r))}};function aL(n,e,t,r,i,s,o){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!E1(t,r)||!E1(i,s):!0}function QI(n,e,t){var r=!1,i=Pu,s=e.contextType;return typeof s=="object"&&s!==null?s=Ws(s):(i=zi(e)?Gh:ii.current,r=e.contextTypes,s=(r=r!=null)?vg(n,i):Pu),e=new e(t,s),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=nS,n.stateNode=e,e._reactInternals=n,r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=i,n.__reactInternalMemoizedMaskedChildContext=s),e}function lL(n,e,t,r){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,r),e.state!==n&&nS.enqueueReplaceState(e,e.state,null)}function xC(n,e,t,r){var i=n.stateNode;i.props=t,i.state=n.memoizedState,i.refs={},vP(n);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Ws(s):(s=zi(e)?Gh:ii.current,i.context=vg(n,s)),i.state=n.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(wC(n,e,s,t),i.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&nS.enqueueReplaceState(i,i.state,null),ww(n,t,i,r),i.state=n.memoizedState),typeof i.componentDidMount=="function"&&(n.flags|=4194308)}function xg(n,e){try{var t="",r=e;do t+=r9(r),r=r.return;while(r);var i=t}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:n,source:e,stack:i,digest:null}}function Y3(n,e,t){return{value:n,source:null,stack:t??null,digest:e??null}}function AC(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var L$=typeof WeakMap=="function"?WeakMap:Map;function ZI(n,e,t){t=Bl(-1,t),t.tag=3,t.payload={element:null};var r=e.value;return t.callback=function(){Cw||(Cw=!0,RC=r),AC(n,e)},t}function eM(n,e,t){t=Bl(-1,t),t.tag=3;var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;t.payload=function(){return r(i)},t.callback=function(){AC(n,e)}}var s=n.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){AC(n,e),typeof r!="function"&&(wu===null?wu=new Set([this]):wu.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),t}function cL(n,e,t){var r=n.pingCache;if(r===null){r=n.pingCache=new L$;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(t)||(i.add(t),n=H$.bind(null,n,e,t),e.then(n,n))}function uL(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function dL(n,e,t,r,i){return n.mode&1?(n.flags|=65536,n.lanes=i,n):(n===e?n.flags|=65536:(n.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=Bl(-1,1),e.tag=2,bu(t,e,1))),t.lanes|=1),n)}var k$=Kl.ReactCurrentOwner,Bi=!1;function bi(n,e,t,r){e.child=n===null?TI(e,null,t,r):bg(e,n.child,t,r)}function hL(n,e,t,r,i){t=t.render;var s=e.ref;return Np(e,i),r=AP(n,e,t,r,s,i),t=SP(),n!==null&&!Bi?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~i,ql(n,e,i)):(pn&&t&&uP(e),e.flags|=1,bi(n,e,r,i),e.child)}function fL(n,e,t,r,i){if(n===null){var s=t.type;return typeof s=="function"&&!IP(s)&&s.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=s,tM(n,e,s,r,i)):(n=vb(t.type,null,r,e,e.mode,i),n.ref=e.ref,n.return=e,e.child=n)}if(s=n.child,!(n.lanes&i)){var o=s.memoizedProps;if(t=t.compare,t=t!==null?t:E1,t(o,r)&&n.ref===e.ref)return ql(n,e,i)}return e.flags|=1,n=Au(s,r),n.ref=e.ref,n.return=e,e.child=n}function tM(n,e,t,r,i){if(n!==null){var s=n.memoizedProps;if(E1(s,r)&&n.ref===e.ref)if(Bi=!1,e.pendingProps=r=s,(n.lanes&i)!==0)n.flags&131072&&(Bi=!0);else return e.lanes=n.lanes,ql(n,e,i)}return SC(n,e,t,r,i)}function nM(n,e,t){var r=e.pendingProps,i=r.children,s=n!==null?n.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},en(mp,hs),hs|=t;else{if(!(t&1073741824))return n=s!==null?s.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,en(mp,hs),hs|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:t,en(mp,hs),hs|=r}else s!==null?(r=s.baseLanes|t,e.memoizedState=null):r=t,en(mp,hs),hs|=r;return bi(n,e,i,t),e.child}function rM(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function SC(n,e,t,r,i){var s=zi(t)?Gh:ii.current;return s=vg(e,s),Np(e,i),t=AP(n,e,t,r,s,i),r=SP(),n!==null&&!Bi?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~i,ql(n,e,i)):(pn&&r&&uP(e),e.flags|=1,bi(n,e,t,i),e.child)}function pL(n,e,t,r,i){if(zi(t)){var s=!0;mw(e)}else s=!1;if(Np(e,i),e.stateNode===null)pb(n,e),QI(e,t,r),xC(e,t,r,i),r=!0;else if(n===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=t.contextType;typeof c=="object"&&c!==null?c=Ws(c):(c=zi(t)?Gh:ii.current,c=vg(e,c));var u=t.getDerivedStateFromProps,d=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&lL(e,o,r,c),bc=!1;var p=e.memoizedState;o.state=p,ww(e,r,o,i),l=e.memoizedState,a!==r||p!==l||$i.current||bc?(typeof u=="function"&&(wC(e,t,u,r),l=e.memoizedState),(a=bc||aL(e,t,a,r,p,l,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,kI(n,e),a=e.memoizedProps,c=e.type===e.elementType?a:ho(e.type,a),o.props=c,d=e.pendingProps,p=o.context,l=t.contextType,typeof l=="object"&&l!==null?l=Ws(l):(l=zi(t)?Gh:ii.current,l=vg(e,l));var f=t.getDerivedStateFromProps;(u=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||p!==l)&&lL(e,o,r,l),bc=!1,p=e.memoizedState,o.state=p,ww(e,r,o,i);var y=e.memoizedState;a!==d||p!==y||$i.current||bc?(typeof f=="function"&&(wC(e,t,f,r),y=e.memoizedState),(c=bc||aL(e,t,c,r,p,y,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,y,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,y,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=y),o.props=r,o.state=y,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=1024),r=!1)}return EC(n,e,t,r,s,i)}function EC(n,e,t,r,i,s){rM(n,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&ZT(e,t,!1),ql(n,e,s);r=e.stateNode,k$.current=e;var a=o&&typeof t.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,n!==null&&o?(e.child=bg(e,n.child,null,s),e.child=bg(e,null,a,s)):bi(n,e,a,s),e.memoizedState=r.state,i&&ZT(e,t,!0),e.child}function iM(n){var e=n.stateNode;e.pendingContext?QT(n,e.pendingContext,e.pendingContext!==e.context):e.context&&QT(n,e.context,!1),yP(n,e.containerInfo)}function mL(n,e,t,r,i){return yg(),hP(i),e.flags|=256,bi(n,e,t,r),e.child}var CC={dehydrated:null,treeContext:null,retryLane:0};function _C(n){return{baseLanes:n,cachePool:null,transitions:null}}function sM(n,e,t){var r=e.pendingProps,i=bn.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=n!==null&&n.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(i|=1),en(bn,i&1),n===null)return yC(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(e.mode&1?n.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,n=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=sS(o,r,0,null),n=Hh(n,r,t,null),s.return=e,n.return=e,s.sibling=n,e.child=s,e.child.memoizedState=_C(t),e.memoizedState=CC,n):_P(e,o));if(i=n.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return R$(n,e,o,r,a,i,t);if(s){s=r.fallback,o=e.mode,i=n.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Au(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Au(a,s):(s=Hh(s,o,t,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=n.child.memoizedState,o=o===null?_C(t):{baseLanes:o.baseLanes|t,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=n.childLanes&~t,e.memoizedState=CC,r}return s=n.child,n=s.sibling,r=Au(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=t),r.return=e,r.sibling=null,n!==null&&(t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)),e.child=r,e.memoizedState=null,r}function _P(n,e){return e=sS({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function R5(n,e,t,r){return r!==null&&hP(r),bg(e,n.child,null,t),n=_P(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function R$(n,e,t,r,i,s,o){if(t)return e.flags&256?(e.flags&=-257,r=Y3(Error(Ie(422))),R5(n,e,o,r)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=sS({mode:"visible",children:r.children},i,0,null),s=Hh(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&bg(e,n.child,null,o),e.child.memoizedState=_C(o),e.memoizedState=CC,s);if(!(e.mode&1))return R5(n,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(Ie(419)),r=Y3(s,r,void 0),R5(n,e,o,r)}if(a=(o&n.childLanes)!==0,Bi||a){if(r=Sr,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Hl(n,i),Mo(r,n,i,-1))}return RP(),r=Y3(Error(Ie(421))),R5(n,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=n.child,e=q$.bind(null,n),i._reactRetry=e,null):(n=s.treeContext,ms=yu(i.nextSibling),vs=e,pn=!0,To=null,n!==null&&(Vs[Us++]=Dl,Vs[Us++]=Ol,Vs[Us++]=Xh,Dl=n.id,Ol=n.overflow,Xh=e),e=_P(e,r.children),e.flags|=4096,e)}function gL(n,e,t){n.lanes|=e;var r=n.alternate;r!==null&&(r.lanes|=e),bC(n.return,e,t)}function K3(n,e,t,r,i){var s=n.memoizedState;s===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:t,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=t,s.tailMode=i)}function oM(n,e,t){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(bi(n,e,r.children,t),r=bn.current,r&2)r=r&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&gL(n,t,e);else if(n.tag===19)gL(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}r&=1}if(en(bn,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(t=e.child,i=null;t!==null;)n=t.alternate,n!==null&&xw(n)===null&&(i=t),t=t.sibling;t=i,t===null?(i=e.child,e.child=null):(i=t.sibling,t.sibling=null),K3(e,!1,i,t,s);break;case"backwards":for(t=null,i=e.child,e.child=null;i!==null;){if(n=i.alternate,n!==null&&xw(n)===null){e.child=i;break}n=i.sibling,i.sibling=t,t=i,i=n}K3(e,!0,t,null,s);break;case"together":K3(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function pb(n,e){!(e.mode&1)&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function ql(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),Kh|=e.lanes,!(t&e.childLanes))return null;if(n!==null&&e.child!==n.child)throw Error(Ie(153));if(e.child!==null){for(n=e.child,t=Au(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=Au(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function I$(n,e,t){switch(e.tag){case 3:iM(e),yg();break;case 5:RI(e);break;case 1:zi(e.type)&&mw(e);break;case 4:yP(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;en(yw,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(en(bn,bn.current&1),e.flags|=128,null):t&e.child.childLanes?sM(n,e,t):(en(bn,bn.current&1),n=ql(n,e,t),n!==null?n.sibling:null);en(bn,bn.current&1);break;case 19:if(r=(t&e.childLanes)!==0,n.flags&128){if(r)return oM(n,e,t);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),en(bn,bn.current),r)break;return null;case 22:case 23:return e.lanes=0,nM(n,e,t)}return ql(n,e,t)}var aM,PC,lM,cM;aM=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};PC=function(){};lM=function(n,e,t,r){var i=n.memoizedProps;if(i!==r){n=e.stateNode,vd(Na.current);var s=null;switch(t){case"input":i=YE(n,i),r=YE(n,r),s=[];break;case"select":i=An({},i,{value:void 0}),r=An({},r,{value:void 0}),s=[];break;case"textarea":i=QE(n,i),r=QE(n,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(n.onclick=fw)}eC(t,r);var o;t=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(t||(t={}),t[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(v1.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(t||(t={}),t[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(t||(t={}),t[o]=l[o])}else t||(s||(s=[]),s.push(c,t)),t=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(v1.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&sn("scroll",n),s||a===l||(s=[])):(s=s||[]).push(c,l))}t&&(s=s||[]).push("style",t);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};cM=function(n,e,t,r){t!==r&&(e.flags|=4)};function y0(n,e){if(!pn)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:r.sibling=null}}function qr(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,r=0;if(e)for(var i=n.child;i!==null;)t|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=n,i=i.sibling;else for(i=n.child;i!==null;)t|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=n,i=i.sibling;return n.subtreeFlags|=r,n.childLanes=t,e}function M$(n,e,t){var r=e.pendingProps;switch(dP(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qr(e),null;case 1:return zi(e.type)&&pw(),qr(e),null;case 3:return r=e.stateNode,wg(),an($i),an(ii),wP(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(n===null||n.child===null)&&(L5(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,To!==null&&(FC(To),To=null))),PC(n,e),qr(e),null;case 5:bP(e);var i=vd(T1.current);if(t=e.type,n!==null&&e.stateNode!=null)lM(n,e,t,r,i),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Ie(166));return qr(e),null}if(n=vd(Na.current),L5(e)){r=e.stateNode,t=e.type;var s=e.memoizedProps;switch(r[Aa]=e,r[P1]=s,n=(e.mode&1)!==0,t){case"dialog":sn("cancel",r),sn("close",r);break;case"iframe":case"object":case"embed":sn("load",r);break;case"video":case"audio":for(i=0;i<F0.length;i++)sn(F0[i],r);break;case"source":sn("error",r);break;case"img":case"image":case"link":sn("error",r),sn("load",r);break;case"details":sn("toggle",r);break;case"input":CT(r,s),sn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},sn("invalid",r);break;case"textarea":PT(r,s),sn("invalid",r)}eC(t,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&T5(r.textContent,a,n),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&T5(r.textContent,a,n),i=["children",""+a]):v1.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&sn("scroll",r)}switch(t){case"input":x5(r),_T(r,s,!0);break;case"textarea":x5(r),NT(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=fw)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=OR(t)),n==="http://www.w3.org/1999/xhtml"?t==="script"?(n=o.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof r.is=="string"?n=o.createElement(t,{is:r.is}):(n=o.createElement(t),t==="select"&&(o=n,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):n=o.createElementNS(n,t),n[Aa]=e,n[P1]=r,aM(n,e,!1,!1),e.stateNode=n;e:{switch(o=tC(t,r),t){case"dialog":sn("cancel",n),sn("close",n),i=r;break;case"iframe":case"object":case"embed":sn("load",n),i=r;break;case"video":case"audio":for(i=0;i<F0.length;i++)sn(F0[i],n);i=r;break;case"source":sn("error",n),i=r;break;case"img":case"image":case"link":sn("error",n),sn("load",n),i=r;break;case"details":sn("toggle",n),i=r;break;case"input":CT(n,r),i=YE(n,r),sn("invalid",n);break;case"option":i=r;break;case"select":n._wrapperState={wasMultiple:!!r.multiple},i=An({},r,{value:void 0}),sn("invalid",n);break;case"textarea":PT(n,r),i=QE(n,r),sn("invalid",n);break;default:i=r}eC(t,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?$R(n,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&jR(n,l)):s==="children"?typeof l=="string"?(t!=="textarea"||l!=="")&&y1(n,l):typeof l=="number"&&y1(n,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(v1.hasOwnProperty(s)?l!=null&&s==="onScroll"&&sn("scroll",n):l!=null&&K4(n,s,l,o))}switch(t){case"input":x5(n),_T(n,r,!1);break;case"textarea":x5(n),NT(n);break;case"option":r.value!=null&&n.setAttribute("value",""+_u(r.value));break;case"select":n.multiple=!!r.multiple,s=r.value,s!=null?Ep(n,!!r.multiple,s,!1):r.defaultValue!=null&&Ep(n,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(n.onclick=fw)}switch(t){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return qr(e),null;case 6:if(n&&e.stateNode!=null)cM(n,e,n.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Ie(166));if(t=vd(T1.current),vd(Na.current),L5(e)){if(r=e.stateNode,t=e.memoizedProps,r[Aa]=e,(s=r.nodeValue!==t)&&(n=vs,n!==null))switch(n.tag){case 3:T5(r.nodeValue,t,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&T5(r.nodeValue,t,(n.mode&1)!==0)}s&&(e.flags|=4)}else r=(t.nodeType===9?t:t.ownerDocument).createTextNode(r),r[Aa]=e,e.stateNode=r}return qr(e),null;case 13:if(an(bn),r=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(pn&&ms!==null&&e.mode&1&&!(e.flags&128))PI(),yg(),e.flags|=98560,s=!1;else if(s=L5(e),r!==null&&r.dehydrated!==null){if(n===null){if(!s)throw Error(Ie(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Ie(317));s[Aa]=e}else yg(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;qr(e),s=!1}else To!==null&&(FC(To),To=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(r=r!==null,r!==(n!==null&&n.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(n===null||bn.current&1?lr===0&&(lr=3):RP())),e.updateQueue!==null&&(e.flags|=4),qr(e),null);case 4:return wg(),PC(n,e),n===null&&C1(e.stateNode.containerInfo),qr(e),null;case 10:return mP(e.type._context),qr(e),null;case 17:return zi(e.type)&&pw(),qr(e),null;case 19:if(an(bn),s=e.memoizedState,s===null)return qr(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)y0(s,!1);else{if(lr!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(o=xw(n),o!==null){for(e.flags|=128,y0(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=t,t=e.child;t!==null;)s=t,n=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=n,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,n=o.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return en(bn,bn.current&1|2),e.child}n=n.sibling}s.tail!==null&&$n()>Ag&&(e.flags|=128,r=!0,y0(s,!1),e.lanes=4194304)}else{if(!r)if(n=xw(o),n!==null){if(e.flags|=128,r=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),y0(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!pn)return qr(e),null}else 2*$n()-s.renderingStartTime>Ag&&t!==1073741824&&(e.flags|=128,r=!0,y0(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(t=s.last,t!==null?t.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=$n(),e.sibling=null,t=bn.current,en(bn,r?t&1|2:t&1),e):(qr(e),null);case 22:case 23:return kP(),r=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?hs&1073741824&&(qr(e),e.subtreeFlags&6&&(e.flags|=8192)):qr(e),null;case 24:return null;case 25:return null}throw Error(Ie(156,e.tag))}function F$(n,e){switch(dP(e),e.tag){case 1:return zi(e.type)&&pw(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return wg(),an($i),an(ii),wP(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 5:return bP(e),null;case 13:if(an(bn),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(Ie(340));yg()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return an(bn),null;case 4:return wg(),null;case 10:return mP(e.type._context),null;case 22:case 23:return kP(),null;case 24:return null;default:return null}}var I5=!1,ni=!1,D$=typeof WeakSet=="function"?WeakSet:Set,He=null;function pp(n,e){var t=n.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(r){kn(n,e,r)}else t.current=null}function NC(n,e,t){try{t()}catch(r){kn(n,e,r)}}var vL=!1;function O$(n,e){if(dC=uw,n=pI(),cP(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var r=t.getSelection&&t.getSelection();if(r&&r.rangeCount!==0){t=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{t.nodeType,s.nodeType}catch{t=null;break e}var o=0,a=-1,l=-1,c=0,u=0,d=n,p=null;t:for(;;){for(var f;d!==t||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(f=d.firstChild)!==null;)p=d,d=f;for(;;){if(d===n)break t;if(p===t&&++c===i&&(a=o),p===s&&++u===r&&(l=o),(f=d.nextSibling)!==null)break;d=p,p=d.parentNode}d=f}t=a===-1||l===-1?null:{start:a,end:l}}else t=null}t=t||{start:0,end:0}}else t=null;for(hC={focusedElem:n,selectionRange:t},uw=!1,He=e;He!==null;)if(e=He,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,He=n;else for(;He!==null;){e=He;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var g=y.memoizedProps,x=y.memoizedState,v=e.stateNode,w=v.getSnapshotBeforeUpdate(e.elementType===e.type?g:ho(e.type,g),x);v.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var S=e.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ie(163))}}catch(C){kn(e,e.return,C)}if(n=e.sibling,n!==null){n.return=e.return,He=n;break}He=e.return}return y=vL,vL=!1,y}function l1(n,e,t){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&n)===n){var s=i.destroy;i.destroy=void 0,s!==void 0&&NC(e,t,s)}i=i.next}while(i!==r)}}function rS(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&n)===n){var r=t.create;t.destroy=r()}t=t.next}while(t!==e)}}function TC(n){var e=n.ref;if(e!==null){var t=n.stateNode;switch(n.tag){case 5:n=t;break;default:n=t}typeof e=="function"?e(n):e.current=n}}function uM(n){var e=n.alternate;e!==null&&(n.alternate=null,uM(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[Aa],delete e[P1],delete e[mC],delete e[b$],delete e[w$])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function dM(n){return n.tag===5||n.tag===3||n.tag===4}function yL(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||dM(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function LC(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=fw));else if(r!==4&&(n=n.child,n!==null))for(LC(n,e,t),n=n.sibling;n!==null;)LC(n,e,t),n=n.sibling}function kC(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(r!==4&&(n=n.child,n!==null))for(kC(n,e,t),n=n.sibling;n!==null;)kC(n,e,t),n=n.sibling}var Ir=null,No=!1;function dc(n,e,t){for(t=t.child;t!==null;)hM(n,e,t),t=t.sibling}function hM(n,e,t){if(Pa&&typeof Pa.onCommitFiberUnmount=="function")try{Pa.onCommitFiberUnmount(YA,t)}catch{}switch(t.tag){case 5:ni||pp(t,e);case 6:var r=Ir,i=No;Ir=null,dc(n,e,t),Ir=r,No=i,Ir!==null&&(No?(n=Ir,t=t.stateNode,n.nodeType===8?n.parentNode.removeChild(t):n.removeChild(t)):Ir.removeChild(t.stateNode));break;case 18:Ir!==null&&(No?(n=Ir,t=t.stateNode,n.nodeType===8?U3(n.parentNode,t):n.nodeType===1&&U3(n,t),A1(n)):U3(Ir,t.stateNode));break;case 4:r=Ir,i=No,Ir=t.stateNode.containerInfo,No=!0,dc(n,e,t),Ir=r,No=i;break;case 0:case 11:case 14:case 15:if(!ni&&(r=t.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&NC(t,e,o),i=i.next}while(i!==r)}dc(n,e,t);break;case 1:if(!ni&&(pp(t,e),r=t.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=t.memoizedProps,r.state=t.memoizedState,r.componentWillUnmount()}catch(a){kn(t,e,a)}dc(n,e,t);break;case 21:dc(n,e,t);break;case 22:t.mode&1?(ni=(r=ni)||t.memoizedState!==null,dc(n,e,t),ni=r):dc(n,e,t);break;default:dc(n,e,t)}}function bL(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new D$),e.forEach(function(r){var i=W$.bind(null,n,r);t.has(r)||(t.add(r),r.then(i,i))})}}function oo(n,e){var t=e.deletions;if(t!==null)for(var r=0;r<t.length;r++){var i=t[r];try{var s=n,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Ir=a.stateNode,No=!1;break e;case 3:Ir=a.stateNode.containerInfo,No=!0;break e;case 4:Ir=a.stateNode.containerInfo,No=!0;break e}a=a.return}if(Ir===null)throw Error(Ie(160));hM(s,o,i),Ir=null,No=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){kn(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)fM(e,n),e=e.sibling}function fM(n,e){var t=n.alternate,r=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(oo(e,n),Jo(n),r&4){try{l1(3,n,n.return),rS(3,n)}catch(g){kn(n,n.return,g)}try{l1(5,n,n.return)}catch(g){kn(n,n.return,g)}}break;case 1:oo(e,n),Jo(n),r&512&&t!==null&&pp(t,t.return);break;case 5:if(oo(e,n),Jo(n),r&512&&t!==null&&pp(t,t.return),n.flags&32){var i=n.stateNode;try{y1(i,"")}catch(g){kn(n,n.return,g)}}if(r&4&&(i=n.stateNode,i!=null)){var s=n.memoizedProps,o=t!==null?t.memoizedProps:s,a=n.type,l=n.updateQueue;if(n.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&FR(i,s),tC(a,o);var c=tC(a,s);for(o=0;o<l.length;o+=2){var u=l[o],d=l[o+1];u==="style"?$R(i,d):u==="dangerouslySetInnerHTML"?jR(i,d):u==="children"?y1(i,d):K4(i,u,d,c)}switch(a){case"input":KE(i,s);break;case"textarea":DR(i,s);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var f=s.value;f!=null?Ep(i,!!s.multiple,f,!1):p!==!!s.multiple&&(s.defaultValue!=null?Ep(i,!!s.multiple,s.defaultValue,!0):Ep(i,!!s.multiple,s.multiple?[]:"",!1))}i[P1]=s}catch(g){kn(n,n.return,g)}}break;case 6:if(oo(e,n),Jo(n),r&4){if(n.stateNode===null)throw Error(Ie(162));i=n.stateNode,s=n.memoizedProps;try{i.nodeValue=s}catch(g){kn(n,n.return,g)}}break;case 3:if(oo(e,n),Jo(n),r&4&&t!==null&&t.memoizedState.isDehydrated)try{A1(e.containerInfo)}catch(g){kn(n,n.return,g)}break;case 4:oo(e,n),Jo(n);break;case 13:oo(e,n),Jo(n),i=n.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(TP=$n())),r&4&&bL(n);break;case 22:if(u=t!==null&&t.memoizedState!==null,n.mode&1?(ni=(c=ni)||u,oo(e,n),ni=c):oo(e,n),Jo(n),r&8192){if(c=n.memoizedState!==null,(n.stateNode.isHidden=c)&&!u&&n.mode&1)for(He=n,u=n.child;u!==null;){for(d=He=u;He!==null;){switch(p=He,f=p.child,p.tag){case 0:case 11:case 14:case 15:l1(4,p,p.return);break;case 1:pp(p,p.return);var y=p.stateNode;if(typeof y.componentWillUnmount=="function"){r=p,t=p.return;try{e=r,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(g){kn(r,t,g)}}break;case 5:pp(p,p.return);break;case 22:if(p.memoizedState!==null){xL(d);continue}}f!==null?(f.return=p,He=f):xL(d)}u=u.sibling}e:for(u=null,d=n;;){if(d.tag===5){if(u===null){u=d;try{i=d.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=BR("display",o))}catch(g){kn(n,n.return,g)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(g){kn(n,n.return,g)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===n)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===n)break e;for(;d.sibling===null;){if(d.return===null||d.return===n)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:oo(e,n),Jo(n),r&4&&bL(n);break;case 21:break;default:oo(e,n),Jo(n)}}function Jo(n){var e=n.flags;if(e&2){try{e:{for(var t=n.return;t!==null;){if(dM(t)){var r=t;break e}t=t.return}throw Error(Ie(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(y1(i,""),r.flags&=-33);var s=yL(n);kC(n,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=yL(n);LC(n,a,o);break;default:throw Error(Ie(161))}}catch(l){kn(n,n.return,l)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function j$(n,e,t){He=n,pM(n)}function pM(n,e,t){for(var r=(n.mode&1)!==0;He!==null;){var i=He,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||I5;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||ni;a=I5;var c=ni;if(I5=o,(ni=l)&&!c)for(He=i;He!==null;)o=He,l=o.child,o.tag===22&&o.memoizedState!==null?AL(i):l!==null?(l.return=o,He=l):AL(i);for(;s!==null;)He=s,pM(s),s=s.sibling;He=i,I5=a,ni=c}wL(n)}else i.subtreeFlags&8772&&s!==null?(s.return=i,He=s):wL(n)}}function wL(n){for(;He!==null;){var e=He;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ni||rS(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!ni)if(t===null)r.componentDidMount();else{var i=e.elementType===e.type?t.memoizedProps:ho(e.type,t.memoizedProps);r.componentDidUpdate(i,t.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&iL(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}iL(e,o,t)}break;case 5:var a=e.stateNode;if(t===null&&e.flags&4){t=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&t.focus();break;case"img":l.src&&(t.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&A1(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ie(163))}ni||e.flags&512&&TC(e)}catch(p){kn(e,e.return,p)}}if(e===n){He=null;break}if(t=e.sibling,t!==null){t.return=e.return,He=t;break}He=e.return}}function xL(n){for(;He!==null;){var e=He;if(e===n){He=null;break}var t=e.sibling;if(t!==null){t.return=e.return,He=t;break}He=e.return}}function AL(n){for(;He!==null;){var e=He;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{rS(4,e)}catch(l){kn(e,t,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){kn(e,i,l)}}var s=e.return;try{TC(e)}catch(l){kn(e,s,l)}break;case 5:var o=e.return;try{TC(e)}catch(l){kn(e,o,l)}}}catch(l){kn(e,e.return,l)}if(e===n){He=null;break}var a=e.sibling;if(a!==null){a.return=e.return,He=a;break}He=e.return}}var B$=Math.ceil,Ew=Kl.ReactCurrentDispatcher,PP=Kl.ReactCurrentOwner,qs=Kl.ReactCurrentBatchConfig,kt=0,Sr=null,Zn=null,Dr=0,hs=0,mp=Bu(0),lr=0,I1=null,Kh=0,iS=0,NP=0,c1=null,Di=null,TP=0,Ag=1/0,Qa=null,Cw=!1,RC=null,wu=null,M5=!1,fu=null,_w=0,u1=0,IC=null,mb=-1,gb=0;function wi(){return kt&6?$n():mb!==-1?mb:mb=$n()}function xu(n){return n.mode&1?kt&2&&Dr!==0?Dr&-Dr:A$.transition!==null?(gb===0&&(gb=QR()),gb):(n=zt,n!==0||(n=window.event,n=n===void 0?16:sI(n.type)),n):1}function Mo(n,e,t,r){if(50<u1)throw u1=0,IC=null,Error(Ie(185));h2(n,t,r),(!(kt&2)||n!==Sr)&&(n===Sr&&(!(kt&2)&&(iS|=t),lr===4&&Ac(n,Dr)),Vi(n,r),t===1&&kt===0&&!(e.mode&1)&&(Ag=$n()+500,eS&&$u()))}function Vi(n,e){var t=n.callbackNode;A9(n,e);var r=cw(n,n===Sr?Dr:0);if(r===0)t!==null&&kT(t),n.callbackNode=null,n.callbackPriority=0;else if(e=r&-r,n.callbackPriority!==e){if(t!=null&&kT(t),e===1)n.tag===0?x$(SL.bind(null,n)):EI(SL.bind(null,n)),v$(function(){!(kt&6)&&$u()}),t=null;else{switch(ZR(r)){case 1:t=tP;break;case 4:t=KR;break;case 16:t=lw;break;case 536870912:t=JR;break;default:t=lw}t=AM(t,mM.bind(null,n))}n.callbackPriority=e,n.callbackNode=t}}function mM(n,e){if(mb=-1,gb=0,kt&6)throw Error(Ie(327));var t=n.callbackNode;if(Tp()&&n.callbackNode!==t)return null;var r=cw(n,n===Sr?Dr:0);if(r===0)return null;if(r&30||r&n.expiredLanes||e)e=Pw(n,r);else{e=r;var i=kt;kt|=2;var s=vM();(Sr!==n||Dr!==e)&&(Qa=null,Ag=$n()+500,Uh(n,e));do try{V$();break}catch(a){gM(n,a)}while(1);pP(),Ew.current=s,kt=i,Zn!==null?e=0:(Sr=null,Dr=0,e=lr)}if(e!==0){if(e===2&&(i=oC(n),i!==0&&(r=i,e=MC(n,i))),e===1)throw t=I1,Uh(n,0),Ac(n,r),Vi(n,$n()),t;if(e===6)Ac(n,r);else{if(i=n.current.alternate,!(r&30)&&!$$(i)&&(e=Pw(n,r),e===2&&(s=oC(n),s!==0&&(r=s,e=MC(n,s))),e===1))throw t=I1,Uh(n,0),Ac(n,r),Vi(n,$n()),t;switch(n.finishedWork=i,n.finishedLanes=r,e){case 0:case 1:throw Error(Ie(345));case 2:id(n,Di,Qa);break;case 3:if(Ac(n,r),(r&130023424)===r&&(e=TP+500-$n(),10<e)){if(cw(n,0)!==0)break;if(i=n.suspendedLanes,(i&r)!==r){wi(),n.pingedLanes|=n.suspendedLanes&i;break}n.timeoutHandle=pC(id.bind(null,n,Di,Qa),e);break}id(n,Di,Qa);break;case 4:if(Ac(n,r),(r&4194240)===r)break;for(e=n.eventTimes,i=-1;0<r;){var o=31-Io(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=$n()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*B$(r/1960))-r,10<r){n.timeoutHandle=pC(id.bind(null,n,Di,Qa),r);break}id(n,Di,Qa);break;case 5:id(n,Di,Qa);break;default:throw Error(Ie(329))}}}return Vi(n,$n()),n.callbackNode===t?mM.bind(null,n):null}function MC(n,e){var t=c1;return n.current.memoizedState.isDehydrated&&(Uh(n,e).flags|=256),n=Pw(n,e),n!==2&&(e=Di,Di=t,e!==null&&FC(e)),n}function FC(n){Di===null?Di=n:Di.push.apply(Di,n)}function $$(n){for(var e=n;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var r=0;r<t.length;r++){var i=t[r],s=i.getSnapshot;i=i.value;try{if(!Fo(s(),i))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ac(n,e){for(e&=~NP,e&=~iS,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-Io(e),r=1<<t;n[t]=-1,e&=~r}}function SL(n){if(kt&6)throw Error(Ie(327));Tp();var e=cw(n,0);if(!(e&1))return Vi(n,$n()),null;var t=Pw(n,e);if(n.tag!==0&&t===2){var r=oC(n);r!==0&&(e=r,t=MC(n,r))}if(t===1)throw t=I1,Uh(n,0),Ac(n,e),Vi(n,$n()),t;if(t===6)throw Error(Ie(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,id(n,Di,Qa),Vi(n,$n()),null}function LP(n,e){var t=kt;kt|=1;try{return n(e)}finally{kt=t,kt===0&&(Ag=$n()+500,eS&&$u())}}function Jh(n){fu!==null&&fu.tag===0&&!(kt&6)&&Tp();var e=kt;kt|=1;var t=qs.transition,r=zt;try{if(qs.transition=null,zt=1,n)return n()}finally{zt=r,qs.transition=t,kt=e,!(kt&6)&&$u()}}function kP(){hs=mp.current,an(mp)}function Uh(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,g$(t)),Zn!==null)for(t=Zn.return;t!==null;){var r=t;switch(dP(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&pw();break;case 3:wg(),an($i),an(ii),wP();break;case 5:bP(r);break;case 4:wg();break;case 13:an(bn);break;case 19:an(bn);break;case 10:mP(r.type._context);break;case 22:case 23:kP()}t=t.return}if(Sr=n,Zn=n=Au(n.current,null),Dr=hs=e,lr=0,I1=null,NP=iS=Kh=0,Di=c1=null,gd!==null){for(e=0;e<gd.length;e++)if(t=gd[e],r=t.interleaved,r!==null){t.interleaved=null;var i=r.next,s=t.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}t.pending=r}gd=null}return n}function gM(n,e){do{var t=Zn;try{if(pP(),hb.current=Sw,Aw){for(var r=xn.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Aw=!1}if(Yh=0,wr=ar=xn=null,a1=!1,L1=0,PP.current=null,t===null||t.return===null){lr=1,I1=e,Zn=null;break}e:{var s=n,o=t.return,a=t,l=e;if(e=Dr,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var p=u.alternate;p?(u.updateQueue=p.updateQueue,u.memoizedState=p.memoizedState,u.lanes=p.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=uL(o);if(f!==null){f.flags&=-257,dL(f,o,a,s,e),f.mode&1&&cL(s,c,e),e=f,l=c;var y=e.updateQueue;if(y===null){var g=new Set;g.add(l),e.updateQueue=g}else y.add(l);break e}else{if(!(e&1)){cL(s,c,e),RP();break e}l=Error(Ie(426))}}else if(pn&&a.mode&1){var x=uL(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),dL(x,o,a,s,e),hP(xg(l,a));break e}}s=l=xg(l,a),lr!==4&&(lr=2),c1===null?c1=[s]:c1.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var v=ZI(s,l,e);rL(s,v);break e;case 1:a=l;var w=s.type,S=s.stateNode;if(!(s.flags&128)&&(typeof w.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(wu===null||!wu.has(S)))){s.flags|=65536,e&=-e,s.lanes|=e;var C=eM(s,a,e);rL(s,C);break e}}s=s.return}while(s!==null)}bM(t)}catch(N){e=N,Zn===t&&t!==null&&(Zn=t=t.return);continue}break}while(1)}function vM(){var n=Ew.current;return Ew.current=Sw,n===null?Sw:n}function RP(){(lr===0||lr===3||lr===2)&&(lr=4),Sr===null||!(Kh&268435455)&&!(iS&268435455)||Ac(Sr,Dr)}function Pw(n,e){var t=kt;kt|=2;var r=vM();(Sr!==n||Dr!==e)&&(Qa=null,Uh(n,e));do try{z$();break}catch(i){gM(n,i)}while(1);if(pP(),kt=t,Ew.current=r,Zn!==null)throw Error(Ie(261));return Sr=null,Dr=0,lr}function z$(){for(;Zn!==null;)yM(Zn)}function V$(){for(;Zn!==null&&!f9();)yM(Zn)}function yM(n){var e=xM(n.alternate,n,hs);n.memoizedProps=n.pendingProps,e===null?bM(n):Zn=e,PP.current=null}function bM(n){var e=n;do{var t=e.alternate;if(n=e.return,e.flags&32768){if(t=F$(t,e),t!==null){t.flags&=32767,Zn=t;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{lr=6,Zn=null;return}}else if(t=M$(t,e,hs),t!==null){Zn=t;return}if(e=e.sibling,e!==null){Zn=e;return}Zn=e=n}while(e!==null);lr===0&&(lr=5)}function id(n,e,t){var r=zt,i=qs.transition;try{qs.transition=null,zt=1,U$(n,e,t,r)}finally{qs.transition=i,zt=r}return null}function U$(n,e,t,r){do Tp();while(fu!==null);if(kt&6)throw Error(Ie(327));t=n.finishedWork;var i=n.finishedLanes;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(Ie(177));n.callbackNode=null,n.callbackPriority=0;var s=t.lanes|t.childLanes;if(S9(n,s),n===Sr&&(Zn=Sr=null,Dr=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||M5||(M5=!0,AM(lw,function(){return Tp(),null})),s=(t.flags&15990)!==0,t.subtreeFlags&15990||s){s=qs.transition,qs.transition=null;var o=zt;zt=1;var a=kt;kt|=4,PP.current=null,O$(n,t),fM(t,n),c$(hC),uw=!!dC,hC=dC=null,n.current=t,j$(t),p9(),kt=a,zt=o,qs.transition=s}else n.current=t;if(M5&&(M5=!1,fu=n,_w=i),s=n.pendingLanes,s===0&&(wu=null),v9(t.stateNode),Vi(n,$n()),e!==null)for(r=n.onRecoverableError,t=0;t<e.length;t++)i=e[t],r(i.value,{componentStack:i.stack,digest:i.digest});if(Cw)throw Cw=!1,n=RC,RC=null,n;return _w&1&&n.tag!==0&&Tp(),s=n.pendingLanes,s&1?n===IC?u1++:(u1=0,IC=n):u1=0,$u(),null}function Tp(){if(fu!==null){var n=ZR(_w),e=qs.transition,t=zt;try{if(qs.transition=null,zt=16>n?16:n,fu===null)var r=!1;else{if(n=fu,fu=null,_w=0,kt&6)throw Error(Ie(331));var i=kt;for(kt|=4,He=n.current;He!==null;){var s=He,o=s.child;if(He.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(He=c;He!==null;){var u=He;switch(u.tag){case 0:case 11:case 15:l1(8,u,s)}var d=u.child;if(d!==null)d.return=u,He=d;else for(;He!==null;){u=He;var p=u.sibling,f=u.return;if(uM(u),u===c){He=null;break}if(p!==null){p.return=f,He=p;break}He=f}}}var y=s.alternate;if(y!==null){var g=y.child;if(g!==null){y.child=null;do{var x=g.sibling;g.sibling=null,g=x}while(g!==null)}}He=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,He=o;else e:for(;He!==null;){if(s=He,s.flags&2048)switch(s.tag){case 0:case 11:case 15:l1(9,s,s.return)}var v=s.sibling;if(v!==null){v.return=s.return,He=v;break e}He=s.return}}var w=n.current;for(He=w;He!==null;){o=He;var S=o.child;if(o.subtreeFlags&2064&&S!==null)S.return=o,He=S;else e:for(o=w;He!==null;){if(a=He,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:rS(9,a)}}catch(N){kn(a,a.return,N)}if(a===o){He=null;break e}var C=a.sibling;if(C!==null){C.return=a.return,He=C;break e}He=a.return}}if(kt=i,$u(),Pa&&typeof Pa.onPostCommitFiberRoot=="function")try{Pa.onPostCommitFiberRoot(YA,n)}catch{}r=!0}return r}finally{zt=t,qs.transition=e}}return!1}function EL(n,e,t){e=xg(t,e),e=ZI(n,e,1),n=bu(n,e,1),e=wi(),n!==null&&(h2(n,1,e),Vi(n,e))}function kn(n,e,t){if(n.tag===3)EL(n,n,t);else for(;e!==null;){if(e.tag===3){EL(e,n,t);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(wu===null||!wu.has(r))){n=xg(t,n),n=eM(e,n,1),e=bu(e,n,1),n=wi(),e!==null&&(h2(e,1,n),Vi(e,n));break}}e=e.return}}function H$(n,e,t){var r=n.pingCache;r!==null&&r.delete(e),e=wi(),n.pingedLanes|=n.suspendedLanes&t,Sr===n&&(Dr&t)===t&&(lr===4||lr===3&&(Dr&130023424)===Dr&&500>$n()-TP?Uh(n,0):NP|=t),Vi(n,e)}function wM(n,e){e===0&&(n.mode&1?(e=E5,E5<<=1,!(E5&130023424)&&(E5=4194304)):e=1);var t=wi();n=Hl(n,e),n!==null&&(h2(n,e,t),Vi(n,t))}function q$(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),wM(n,t)}function W$(n,e){var t=0;switch(n.tag){case 13:var r=n.stateNode,i=n.memoizedState;i!==null&&(t=i.retryLane);break;case 19:r=n.stateNode;break;default:throw Error(Ie(314))}r!==null&&r.delete(e),wM(n,t)}var xM;xM=function(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps||$i.current)Bi=!0;else{if(!(n.lanes&t)&&!(e.flags&128))return Bi=!1,I$(n,e,t);Bi=!!(n.flags&131072)}else Bi=!1,pn&&e.flags&1048576&&CI(e,vw,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;pb(n,e),n=e.pendingProps;var i=vg(e,ii.current);Np(e,t),i=AP(null,e,r,n,i,t);var s=SP();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,zi(r)?(s=!0,mw(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,vP(e),i.updater=nS,e.stateNode=i,i._reactInternals=e,xC(e,r,n,t),e=EC(null,e,r,!0,s,t)):(e.tag=0,pn&&s&&uP(e),bi(null,e,i,t),e=e.child),e;case 16:r=e.elementType;e:{switch(pb(n,e),n=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=X$(r),n=ho(r,n),i){case 0:e=SC(null,e,r,n,t);break e;case 1:e=pL(null,e,r,n,t);break e;case 11:e=hL(null,e,r,n,t);break e;case 14:e=fL(null,e,r,ho(r.type,n),t);break e}throw Error(Ie(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ho(r,i),SC(n,e,r,i,t);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ho(r,i),pL(n,e,r,i,t);case 3:e:{if(iM(e),n===null)throw Error(Ie(387));r=e.pendingProps,s=e.memoizedState,i=s.element,kI(n,e),ww(e,r,null,t);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=xg(Error(Ie(423)),e),e=mL(n,e,r,t,i);break e}else if(r!==i){i=xg(Error(Ie(424)),e),e=mL(n,e,r,t,i);break e}else for(ms=yu(e.stateNode.containerInfo.firstChild),vs=e,pn=!0,To=null,t=TI(e,null,r,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(yg(),r===i){e=ql(n,e,t);break e}bi(n,e,r,t)}e=e.child}return e;case 5:return RI(e),n===null&&yC(e),r=e.type,i=e.pendingProps,s=n!==null?n.memoizedProps:null,o=i.children,fC(r,i)?o=null:s!==null&&fC(r,s)&&(e.flags|=32),rM(n,e),bi(n,e,o,t),e.child;case 6:return n===null&&yC(e),null;case 13:return sM(n,e,t);case 4:return yP(e,e.stateNode.containerInfo),r=e.pendingProps,n===null?e.child=bg(e,null,r,t):bi(n,e,r,t),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ho(r,i),hL(n,e,r,i,t);case 7:return bi(n,e,e.pendingProps,t),e.child;case 8:return bi(n,e,e.pendingProps.children,t),e.child;case 12:return bi(n,e,e.pendingProps.children,t),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,en(yw,r._currentValue),r._currentValue=o,s!==null)if(Fo(s.value,o)){if(s.children===i.children&&!$i.current){e=ql(n,e,t);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Bl(-1,t&-t),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=t,l=s.alternate,l!==null&&(l.lanes|=t),bC(s.return,t,e),a.lanes|=t;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(Ie(341));o.lanes|=t,a=o.alternate,a!==null&&(a.lanes|=t),bC(o,t,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}bi(n,e,i.children,t),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Np(e,t),i=Ws(i),r=r(i),e.flags|=1,bi(n,e,r,t),e.child;case 14:return r=e.type,i=ho(r,e.pendingProps),i=ho(r.type,i),fL(n,e,r,i,t);case 15:return tM(n,e,e.type,e.pendingProps,t);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ho(r,i),pb(n,e),e.tag=1,zi(r)?(n=!0,mw(e)):n=!1,Np(e,t),QI(e,r,i),xC(e,r,i,t),EC(null,e,r,!0,n,t);case 19:return oM(n,e,t);case 22:return nM(n,e,t)}throw Error(Ie(156,e.tag))};function AM(n,e){return YR(n,e)}function G$(n,e,t,r){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Hs(n,e,t,r){return new G$(n,e,t,r)}function IP(n){return n=n.prototype,!(!n||!n.isReactComponent)}function X$(n){if(typeof n=="function")return IP(n)?1:0;if(n!=null){if(n=n.$$typeof,n===Q4)return 11;if(n===Z4)return 14}return 2}function Au(n,e){var t=n.alternate;return t===null?(t=Hs(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&14680064,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function vb(n,e,t,r,i,s){var o=2;if(r=n,typeof n=="function")IP(n)&&(o=1);else if(typeof n=="string")o=5;else e:switch(n){case sp:return Hh(t.children,i,s,e);case J4:o=8,i|=8;break;case qE:return n=Hs(12,t,e,i|2),n.elementType=qE,n.lanes=s,n;case WE:return n=Hs(13,t,e,i),n.elementType=WE,n.lanes=s,n;case GE:return n=Hs(19,t,e,i),n.elementType=GE,n.lanes=s,n;case RR:return sS(t,i,s,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case LR:o=10;break e;case kR:o=9;break e;case Q4:o=11;break e;case Z4:o=14;break e;case yc:o=16,r=null;break e}throw Error(Ie(130,n==null?n:typeof n,""))}return e=Hs(o,t,e,i),e.elementType=n,e.type=r,e.lanes=s,e}function Hh(n,e,t,r){return n=Hs(7,n,r,e),n.lanes=t,n}function sS(n,e,t,r){return n=Hs(22,n,r,e),n.elementType=RR,n.lanes=t,n.stateNode={isHidden:!1},n}function J3(n,e,t){return n=Hs(6,n,null,e),n.lanes=t,n}function Q3(n,e,t){return e=Hs(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function Y$(n,e,t,r,i){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=R3(0),this.expirationTimes=R3(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=R3(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function MP(n,e,t,r,i,s,o,a,l){return n=new Y$(n,e,t,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Hs(3,null,null,e),n.current=s,s.stateNode=n,s.memoizedState={element:r,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},vP(s),n}function K$(n,e,t){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ip,key:r==null?null:""+r,children:n,containerInfo:e,implementation:t}}function SM(n){if(!n)return Pu;n=n._reactInternals;e:{if(rf(n)!==n||n.tag!==1)throw Error(Ie(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(zi(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Ie(171))}if(n.tag===1){var t=n.type;if(zi(t))return SI(n,t,e)}return e}function EM(n,e,t,r,i,s,o,a,l){return n=MP(t,r,!0,n,i,s,o,a,l),n.context=SM(null),t=n.current,r=wi(),i=xu(t),s=Bl(r,i),s.callback=e??null,bu(t,s,i),n.current.lanes=i,h2(n,i,r),Vi(n,r),n}function oS(n,e,t,r){var i=e.current,s=wi(),o=xu(i);return t=SM(t),e.context===null?e.context=t:e.pendingContext=t,e=Bl(s,o),e.payload={element:n},r=r===void 0?null:r,r!==null&&(e.callback=r),n=bu(i,e,o),n!==null&&(Mo(n,i,o,s),db(n,i,o)),o}function Nw(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function CL(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function FP(n,e){CL(n,e),(n=n.alternate)&&CL(n,e)}function J$(){return null}var CM=typeof reportError=="function"?reportError:function(n){console.error(n)};function DP(n){this._internalRoot=n}aS.prototype.render=DP.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(Ie(409));oS(n,e,null,null)};aS.prototype.unmount=DP.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;Jh(function(){oS(null,n,null,null)}),e[Ul]=null}};function aS(n){this._internalRoot=n}aS.prototype.unstable_scheduleHydration=function(n){if(n){var e=nI();n={blockedOn:null,target:n,priority:e};for(var t=0;t<xc.length&&e!==0&&e<xc[t].priority;t++);xc.splice(t,0,n),t===0&&iI(n)}};function OP(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function lS(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function _L(){}function Q$(n,e,t,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=Nw(o);s.call(c)}}var o=EM(e,r,n,0,null,!1,!1,"",_L);return n._reactRootContainer=o,n[Ul]=o.current,C1(n.nodeType===8?n.parentNode:n),Jh(),o}for(;i=n.lastChild;)n.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=Nw(l);a.call(c)}}var l=MP(n,0,!1,null,null,!1,!1,"",_L);return n._reactRootContainer=l,n[Ul]=l.current,C1(n.nodeType===8?n.parentNode:n),Jh(function(){oS(e,l,t,r)}),l}function cS(n,e,t,r,i){var s=t._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Nw(o);a.call(l)}}oS(e,o,n,i)}else o=Q$(t,e,n,i,r);return Nw(o)}eI=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var t=M0(e.pendingLanes);t!==0&&(nP(e,t|1),Vi(e,$n()),!(kt&6)&&(Ag=$n()+500,$u()))}break;case 13:Jh(function(){var r=Hl(n,1);if(r!==null){var i=wi();Mo(r,n,1,i)}}),FP(n,1)}};rP=function(n){if(n.tag===13){var e=Hl(n,134217728);if(e!==null){var t=wi();Mo(e,n,134217728,t)}FP(n,134217728)}};tI=function(n){if(n.tag===13){var e=xu(n),t=Hl(n,e);if(t!==null){var r=wi();Mo(t,n,e,r)}FP(n,e)}};nI=function(){return zt};rI=function(n,e){var t=zt;try{return zt=n,e()}finally{zt=t}};rC=function(n,e,t){switch(e){case"input":if(KE(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var r=t[e];if(r!==n&&r.form===n.form){var i=ZA(r);if(!i)throw Error(Ie(90));MR(r),KE(r,i)}}}break;case"textarea":DR(n,t);break;case"select":e=t.value,e!=null&&Ep(n,!!t.multiple,e,!1)}};UR=LP;HR=Jh;var Z$={usingClientEntryPoint:!1,Events:[p2,cp,ZA,zR,VR,LP]},b0={findFiberByHostInstance:md,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ez={bundleType:b0.bundleType,version:b0.version,rendererPackageName:b0.rendererPackageName,rendererConfig:b0.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Kl.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=GR(n),n===null?null:n.stateNode},findFiberByHostInstance:b0.findFiberByHostInstance||J$,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var F5=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!F5.isDisabled&&F5.supportsFiber)try{YA=F5.inject(ez),Pa=F5}catch{}}xs.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Z$;xs.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!OP(e))throw Error(Ie(200));return K$(n,e,null,t)};xs.createRoot=function(n,e){if(!OP(n))throw Error(Ie(299));var t=!1,r="",i=CM;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=MP(n,1,!1,null,null,t,!1,r,i),n[Ul]=e.current,C1(n.nodeType===8?n.parentNode:n),new DP(e)};xs.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(Ie(188)):(n=Object.keys(n).join(","),Error(Ie(268,n)));return n=GR(e),n=n===null?null:n.stateNode,n};xs.flushSync=function(n){return Jh(n)};xs.hydrate=function(n,e,t){if(!lS(e))throw Error(Ie(200));return cS(null,n,e,!0,t)};xs.hydrateRoot=function(n,e,t){if(!OP(n))throw Error(Ie(405));var r=t!=null&&t.hydratedSources||null,i=!1,s="",o=CM;if(t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),e=EM(e,null,n,1,t??null,i,!1,s,o),n[Ul]=e.current,C1(n),r)for(n=0;n<r.length;n++)t=r[n],i=t._getVersion,i=i(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,i]:e.mutableSourceEagerHydrationData.push(t,i);return new aS(e)};xs.render=function(n,e,t){if(!lS(e))throw Error(Ie(200));return cS(null,n,e,!1,t)};xs.unmountComponentAtNode=function(n){if(!lS(n))throw Error(Ie(40));return n._reactRootContainer?(Jh(function(){cS(null,null,n,!1,function(){n._reactRootContainer=null,n[Ul]=null})}),!0):!1};xs.unstable_batchedUpdates=LP;xs.unstable_renderSubtreeIntoContainer=function(n,e,t,r){if(!lS(t))throw Error(Ie(200));if(n==null||n._reactInternals===void 0)throw Error(Ie(38));return cS(n,e,t,!1,r)};xs.version="18.3.1-next-f1338f8080-20240426";function _M(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(_M)}catch(n){console.error(n)}}_M(),_R.exports=xs;var zu=_R.exports;const PM=Tg(zu);var PL=zu;UE.createRoot=PL.createRoot,UE.hydrateRoot=PL.hydrateRoot;var NM={exports:{}},tz="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",nz=tz,rz=nz;function TM(){}function LM(){}LM.resetWarningCache=TM;var iz=function(){function n(r,i,s,o,a,l){if(l!==rz){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}n.isRequired=n;function e(){return n}var t={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:e,element:n,elementType:n,instanceOf:e,node:n,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:LM,resetWarningCache:TM};return t.PropTypes=t,t};NM.exports=iz();var sz=NM.exports;const cn=Tg(sz);function oz(n){return n&&typeof n=="object"&&"default"in n?n.default:n}var kM=I,az=oz(kM);function NL(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function lz(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,n.__proto__=e}var cz=!!(typeof window<"u"&&window.document&&window.document.createElement);function uz(n,e,t){if(typeof n!="function")throw new Error("Expected reducePropsToState to be a function.");if(typeof e!="function")throw new Error("Expected handleStateChangeOnClient to be a function.");if(typeof t<"u"&&typeof t!="function")throw new Error("Expected mapStateOnServer to either be undefined or a function.");function r(i){return i.displayName||i.name||"Component"}return function(s){if(typeof s!="function")throw new Error("Expected WrappedComponent to be a React component.");var o=[],a;function l(){a=n(o.map(function(u){return u.props})),c.canUseDOM?e(a):t&&(a=t(a))}var c=function(u){lz(d,u);function d(){return u.apply(this,arguments)||this}d.peek=function(){return a},d.rewind=function(){if(d.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var y=a;return a=void 0,o=[],y};var p=d.prototype;return p.UNSAFE_componentWillMount=function(){o.push(this),l()},p.componentDidUpdate=function(){l()},p.componentWillUnmount=function(){var y=o.indexOf(this);o.splice(y,1),l()},p.render=function(){return az.createElement(s,this.props)},d}(kM.PureComponent);return NL(c,"displayName","SideEffect("+r(s)+")"),NL(c,"canUseDOM",cz),c}}var dz=uz;const hz=Tg(dz);var fz=typeof Element<"u",pz=typeof Map=="function",mz=typeof Set=="function",gz=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function yb(n,e){if(n===e)return!0;if(n&&e&&typeof n=="object"&&typeof e=="object"){if(n.constructor!==e.constructor)return!1;var t,r,i;if(Array.isArray(n)){if(t=n.length,t!=e.length)return!1;for(r=t;r--!==0;)if(!yb(n[r],e[r]))return!1;return!0}var s;if(pz&&n instanceof Map&&e instanceof Map){if(n.size!==e.size)return!1;for(s=n.entries();!(r=s.next()).done;)if(!e.has(r.value[0]))return!1;for(s=n.entries();!(r=s.next()).done;)if(!yb(r.value[1],e.get(r.value[0])))return!1;return!0}if(mz&&n instanceof Set&&e instanceof Set){if(n.size!==e.size)return!1;for(s=n.entries();!(r=s.next()).done;)if(!e.has(r.value[0]))return!1;return!0}if(gz&&ArrayBuffer.isView(n)&&ArrayBuffer.isView(e)){if(t=n.length,t!=e.length)return!1;for(r=t;r--!==0;)if(n[r]!==e[r])return!1;return!0}if(n.constructor===RegExp)return n.source===e.source&&n.flags===e.flags;if(n.valueOf!==Object.prototype.valueOf&&typeof n.valueOf=="function"&&typeof e.valueOf=="function")return n.valueOf()===e.valueOf();if(n.toString!==Object.prototype.toString&&typeof n.toString=="function"&&typeof e.toString=="function")return n.toString()===e.toString();if(i=Object.keys(n),t=i.length,t!==Object.keys(e).length)return!1;for(r=t;r--!==0;)if(!Object.prototype.hasOwnProperty.call(e,i[r]))return!1;if(fz&&n instanceof Element)return!1;for(r=t;r--!==0;)if(!((i[r]==="_owner"||i[r]==="__v"||i[r]==="__o")&&n.$$typeof)&&!yb(n[i[r]],e[i[r]]))return!1;return!0}return n!==n&&e!==e}var vz=function(e,t){try{return yb(e,t)}catch(r){if((r.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw r}};const yz=Tg(vz);/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var TL=Object.getOwnPropertySymbols,bz=Object.prototype.hasOwnProperty,wz=Object.prototype.propertyIsEnumerable;function xz(n){if(n==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(n)}function Az(){try{if(!Object.assign)return!1;var n=new String("abc");if(n[5]="de",Object.getOwnPropertyNames(n)[0]==="5")return!1;for(var e={},t=0;t<10;t++)e["_"+String.fromCharCode(t)]=t;var r=Object.getOwnPropertyNames(e).map(function(s){return e[s]});if(r.join("")!=="0123456789")return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(s){i[s]=s}),Object.keys(Object.assign({},i)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var Sz=Az()?Object.assign:function(n,e){for(var t,r=xz(n),i,s=1;s<arguments.length;s++){t=Object(arguments[s]);for(var o in t)bz.call(t,o)&&(r[o]=t[o]);if(TL){i=TL(t);for(var a=0;a<i.length;a++)wz.call(t,i[a])&&(r[i[a]]=t[i[a]])}}return r};const Ez=Tg(Sz);var qh={BODY:"bodyAttributes",HTML:"htmlAttributes",TITLE:"titleAttributes"},mt={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title"};Object.keys(mt).map(function(n){return mt[n]});var fn={CHARSET:"charset",CSS_TEXT:"cssText",HREF:"href",HTTPEQUIV:"http-equiv",INNER_HTML:"innerHTML",ITEM_PROP:"itemprop",NAME:"name",PROPERTY:"property",REL:"rel",SRC:"src",TARGET:"target"},Tw={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},M1={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate"},Cz=Object.keys(Tw).reduce(function(n,e){return n[Tw[e]]=e,n},{}),_z=[mt.NOSCRIPT,mt.SCRIPT,mt.STYLE],Ro="data-react-helmet",Pz=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Nz=function(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")},Tz=function(){function n(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),Ti=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Lz=function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e)},LL=function(n,e){var t={};for(var r in n)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r]);return t},kz=function(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:n},DC=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return t===!1?String(e):String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},Rz=function(e){var t=Lp(e,mt.TITLE),r=Lp(e,M1.TITLE_TEMPLATE);if(r&&t)return r.replace(/%s/g,function(){return Array.isArray(t)?t.join(""):t});var i=Lp(e,M1.DEFAULT_TITLE);return t||i||void 0},Iz=function(e){return Lp(e,M1.ON_CHANGE_CLIENT_STATE)||function(){}},Z3=function(e,t){return t.filter(function(r){return typeof r[e]<"u"}).map(function(r){return r[e]}).reduce(function(r,i){return Ti({},r,i)},{})},Mz=function(e,t){return t.filter(function(r){return typeof r[mt.BASE]<"u"}).map(function(r){return r[mt.BASE]}).reverse().reduce(function(r,i){if(!r.length)for(var s=Object.keys(i),o=0;o<s.length;o++){var a=s[o],l=a.toLowerCase();if(e.indexOf(l)!==-1&&i[l])return r.concat(i)}return r},[])},w0=function(e,t,r){var i={};return r.filter(function(s){return Array.isArray(s[e])?!0:(typeof s[e]<"u"&&jz("Helmet: "+e+' should be of type "Array". Instead found type "'+Pz(s[e])+'"'),!1)}).map(function(s){return s[e]}).reverse().reduce(function(s,o){var a={};o.filter(function(p){for(var f=void 0,y=Object.keys(p),g=0;g<y.length;g++){var x=y[g],v=x.toLowerCase();t.indexOf(v)!==-1&&!(f===fn.REL&&p[f].toLowerCase()==="canonical")&&!(v===fn.REL&&p[v].toLowerCase()==="stylesheet")&&(f=v),t.indexOf(x)!==-1&&(x===fn.INNER_HTML||x===fn.CSS_TEXT||x===fn.ITEM_PROP)&&(f=x)}if(!f||!p[f])return!1;var w=p[f].toLowerCase();return i[f]||(i[f]={}),a[f]||(a[f]={}),i[f][w]?!1:(a[f][w]=!0,!0)}).reverse().forEach(function(p){return s.push(p)});for(var l=Object.keys(a),c=0;c<l.length;c++){var u=l[c],d=Ez({},i[u],a[u]);i[u]=d}return s},[]).reverse()},Lp=function(e,t){for(var r=e.length-1;r>=0;r--){var i=e[r];if(i.hasOwnProperty(t))return i[t]}return null},Fz=function(e){return{baseTag:Mz([fn.HREF,fn.TARGET],e),bodyAttributes:Z3(qh.BODY,e),defer:Lp(e,M1.DEFER),encode:Lp(e,M1.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:Z3(qh.HTML,e),linkTags:w0(mt.LINK,[fn.REL,fn.HREF],e),metaTags:w0(mt.META,[fn.NAME,fn.CHARSET,fn.HTTPEQUIV,fn.PROPERTY,fn.ITEM_PROP],e),noscriptTags:w0(mt.NOSCRIPT,[fn.INNER_HTML],e),onChangeClientState:Iz(e),scriptTags:w0(mt.SCRIPT,[fn.SRC,fn.INNER_HTML],e),styleTags:w0(mt.STYLE,[fn.CSS_TEXT],e),title:Rz(e),titleAttributes:Z3(qh.TITLE,e)}},OC=function(){var n=Date.now();return function(e){var t=Date.now();t-n>16?(n=t,e(t)):setTimeout(function(){OC(e)},0)}}(),kL=function(e){return clearTimeout(e)},Dz=typeof window<"u"?window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||OC:global.requestAnimationFrame||OC,Oz=typeof window<"u"?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||kL:global.cancelAnimationFrame||kL,jz=function(e){return console&&typeof console.warn=="function"&&console.warn(e)},x0=null,Bz=function(e){x0&&Oz(x0),e.defer?x0=Dz(function(){RL(e,function(){x0=null})}):(RL(e),x0=null)},RL=function(e,t){var r=e.baseTag,i=e.bodyAttributes,s=e.htmlAttributes,o=e.linkTags,a=e.metaTags,l=e.noscriptTags,c=e.onChangeClientState,u=e.scriptTags,d=e.styleTags,p=e.title,f=e.titleAttributes;jC(mt.BODY,i),jC(mt.HTML,s),$z(p,f);var y={baseTag:Uf(mt.BASE,r),linkTags:Uf(mt.LINK,o),metaTags:Uf(mt.META,a),noscriptTags:Uf(mt.NOSCRIPT,l),scriptTags:Uf(mt.SCRIPT,u),styleTags:Uf(mt.STYLE,d)},g={},x={};Object.keys(y).forEach(function(v){var w=y[v],S=w.newTags,C=w.oldTags;S.length&&(g[v]=S),C.length&&(x[v]=y[v].oldTags)}),t&&t(),c(e,g,x)},RM=function(e){return Array.isArray(e)?e.join(""):e},$z=function(e,t){typeof e<"u"&&document.title!==e&&(document.title=RM(e)),jC(mt.TITLE,t)},jC=function(e,t){var r=document.getElementsByTagName(e)[0];if(r){for(var i=r.getAttribute(Ro),s=i?i.split(","):[],o=[].concat(s),a=Object.keys(t),l=0;l<a.length;l++){var c=a[l],u=t[c]||"";r.getAttribute(c)!==u&&r.setAttribute(c,u),s.indexOf(c)===-1&&s.push(c);var d=o.indexOf(c);d!==-1&&o.splice(d,1)}for(var p=o.length-1;p>=0;p--)r.removeAttribute(o[p]);s.length===o.length?r.removeAttribute(Ro):r.getAttribute(Ro)!==a.join(",")&&r.setAttribute(Ro,a.join(","))}},Uf=function(e,t){var r=document.head||document.querySelector(mt.HEAD),i=r.querySelectorAll(e+"["+Ro+"]"),s=Array.prototype.slice.call(i),o=[],a=void 0;return t&&t.length&&t.forEach(function(l){var c=document.createElement(e);for(var u in l)if(l.hasOwnProperty(u))if(u===fn.INNER_HTML)c.innerHTML=l.innerHTML;else if(u===fn.CSS_TEXT)c.styleSheet?c.styleSheet.cssText=l.cssText:c.appendChild(document.createTextNode(l.cssText));else{var d=typeof l[u]>"u"?"":l[u];c.setAttribute(u,d)}c.setAttribute(Ro,"true"),s.some(function(p,f){return a=f,c.isEqualNode(p)})?s.splice(a,1):o.push(c)}),s.forEach(function(l){return l.parentNode.removeChild(l)}),o.forEach(function(l){return r.appendChild(l)}),{oldTags:s,newTags:o}},IM=function(e){return Object.keys(e).reduce(function(t,r){var i=typeof e[r]<"u"?r+'="'+e[r]+'"':""+r;return t?t+" "+i:i},"")},zz=function(e,t,r,i){var s=IM(r),o=RM(t);return s?"<"+e+" "+Ro+'="true" '+s+">"+DC(o,i)+"</"+e+">":"<"+e+" "+Ro+'="true">'+DC(o,i)+"</"+e+">"},Vz=function(e,t,r){return t.reduce(function(i,s){var o=Object.keys(s).filter(function(c){return!(c===fn.INNER_HTML||c===fn.CSS_TEXT)}).reduce(function(c,u){var d=typeof s[u]>"u"?u:u+'="'+DC(s[u],r)+'"';return c?c+" "+d:d},""),a=s.innerHTML||s.cssText||"",l=_z.indexOf(e)===-1;return i+"<"+e+" "+Ro+'="true" '+o+(l?"/>":">"+a+"</"+e+">")},"")},MM=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(e).reduce(function(r,i){return r[Tw[i]||i]=e[i],r},t)},Uz=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(e).reduce(function(r,i){return r[Cz[i]||i]=e[i],r},t)},Hz=function(e,t,r){var i,s=(i={key:t},i[Ro]=!0,i),o=MM(r,s);return[et.createElement(mt.TITLE,o,t)]},qz=function(e,t){return t.map(function(r,i){var s,o=(s={key:i},s[Ro]=!0,s);return Object.keys(r).forEach(function(a){var l=Tw[a]||a;if(l===fn.INNER_HTML||l===fn.CSS_TEXT){var c=r.innerHTML||r.cssText;o.dangerouslySetInnerHTML={__html:c}}else o[l]=r[a]}),et.createElement(e,o)})},Ga=function(e,t,r){switch(e){case mt.TITLE:return{toComponent:function(){return Hz(e,t.title,t.titleAttributes)},toString:function(){return zz(e,t.title,t.titleAttributes,r)}};case qh.BODY:case qh.HTML:return{toComponent:function(){return MM(t)},toString:function(){return IM(t)}};default:return{toComponent:function(){return qz(e,t)},toString:function(){return Vz(e,t,r)}}}},FM=function(e){var t=e.baseTag,r=e.bodyAttributes,i=e.encode,s=e.htmlAttributes,o=e.linkTags,a=e.metaTags,l=e.noscriptTags,c=e.scriptTags,u=e.styleTags,d=e.title,p=d===void 0?"":d,f=e.titleAttributes;return{base:Ga(mt.BASE,t,i),bodyAttributes:Ga(qh.BODY,r,i),htmlAttributes:Ga(qh.HTML,s,i),link:Ga(mt.LINK,o,i),meta:Ga(mt.META,a,i),noscript:Ga(mt.NOSCRIPT,l,i),script:Ga(mt.SCRIPT,c,i),style:Ga(mt.STYLE,u,i),title:Ga(mt.TITLE,{title:p,titleAttributes:f},i)}},Wz=function(e){var t,r;return r=t=function(i){Lz(s,i);function s(){return Nz(this,s),kz(this,i.apply(this,arguments))}return s.prototype.shouldComponentUpdate=function(a){return!yz(this.props,a)},s.prototype.mapNestedChildrenToProps=function(a,l){if(!l)return null;switch(a.type){case mt.SCRIPT:case mt.NOSCRIPT:return{innerHTML:l};case mt.STYLE:return{cssText:l}}throw new Error("<"+a.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")},s.prototype.flattenArrayTypeChildren=function(a){var l,c=a.child,u=a.arrayTypeChildren,d=a.newChildProps,p=a.nestedChildren;return Ti({},u,(l={},l[c.type]=[].concat(u[c.type]||[],[Ti({},d,this.mapNestedChildrenToProps(c,p))]),l))},s.prototype.mapObjectTypeChildren=function(a){var l,c,u=a.child,d=a.newProps,p=a.newChildProps,f=a.nestedChildren;switch(u.type){case mt.TITLE:return Ti({},d,(l={},l[u.type]=f,l.titleAttributes=Ti({},p),l));case mt.BODY:return Ti({},d,{bodyAttributes:Ti({},p)});case mt.HTML:return Ti({},d,{htmlAttributes:Ti({},p)})}return Ti({},d,(c={},c[u.type]=Ti({},p),c))},s.prototype.mapArrayTypeChildrenToProps=function(a,l){var c=Ti({},l);return Object.keys(a).forEach(function(u){var d;c=Ti({},c,(d={},d[u]=a[u],d))}),c},s.prototype.warnOnInvalidChildren=function(a,l){return!0},s.prototype.mapChildrenToProps=function(a,l){var c=this,u={};return et.Children.forEach(a,function(d){if(!(!d||!d.props)){var p=d.props,f=p.children,y=LL(p,["children"]),g=Uz(y);switch(c.warnOnInvalidChildren(d,f),d.type){case mt.LINK:case mt.META:case mt.NOSCRIPT:case mt.SCRIPT:case mt.STYLE:u=c.flattenArrayTypeChildren({child:d,arrayTypeChildren:u,newChildProps:g,nestedChildren:f});break;default:l=c.mapObjectTypeChildren({child:d,newProps:l,newChildProps:g,nestedChildren:f});break}}}),l=this.mapArrayTypeChildrenToProps(u,l),l},s.prototype.render=function(){var a=this.props,l=a.children,c=LL(a,["children"]),u=Ti({},c);return l&&(u=this.mapChildrenToProps(l,u)),et.createElement(e,u)},Tz(s,null,[{key:"canUseDOM",set:function(a){e.canUseDOM=a}}]),s}(et.Component),t.propTypes={base:cn.object,bodyAttributes:cn.object,children:cn.oneOfType([cn.arrayOf(cn.node),cn.node]),defaultTitle:cn.string,defer:cn.bool,encodeSpecialCharacters:cn.bool,htmlAttributes:cn.object,link:cn.arrayOf(cn.object),meta:cn.arrayOf(cn.object),noscript:cn.arrayOf(cn.object),onChangeClientState:cn.func,script:cn.arrayOf(cn.object),style:cn.arrayOf(cn.object),title:cn.string,titleAttributes:cn.object,titleTemplate:cn.string},t.defaultProps={defer:!0,encodeSpecialCharacters:!0},t.peek=e.peek,t.rewind=function(){var i=e.rewind();return i||(i=FM({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),i},r},Gz=function(){return null},Xz=hz(Fz,Bz,FM)(Gz),BC=Wz(Xz);BC.renderStatic=BC.rewind;const DM=I.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"}),uS=I.createContext({}),dS=I.createContext(null),hS=typeof document<"u",jP=hS?I.useLayoutEffect:I.useEffect,OM=I.createContext({strict:!1}),BP=n=>n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),Yz="framerAppearId",jM="data-"+BP(Yz);function Kz(n,e,t,r){const{visualElement:i}=I.useContext(uS),s=I.useContext(OM),o=I.useContext(dS),a=I.useContext(DM).reducedMotion,l=I.useRef();r=r||s.renderer,!l.current&&r&&(l.current=r(n,{visualState:e,parent:i,props:t,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:a}));const c=l.current;I.useInsertionEffect(()=>{c&&c.update(t,o)});const u=I.useRef(!!(t[jM]&&!window.HandoffComplete));return jP(()=>{c&&(c.render(),u.current&&c.animationState&&c.animationState.animateChanges())}),I.useEffect(()=>{c&&(c.updateFeatures(),!u.current&&c.animationState&&c.animationState.animateChanges(),u.current&&(u.current=!1,window.HandoffComplete=!0))}),c}function gp(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function Jz(n,e,t){return I.useCallback(r=>{r&&n.mount&&n.mount(r),e&&(r?e.mount(r):e.unmount()),t&&(typeof t=="function"?t(r):gp(t)&&(t.current=r))},[e])}function F1(n){return typeof n=="string"||Array.isArray(n)}function fS(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}const $P=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],zP=["initial",...$P];function pS(n){return fS(n.animate)||zP.some(e=>F1(n[e]))}function BM(n){return!!(pS(n)||n.variants)}function Qz(n,e){if(pS(n)){const{initial:t,animate:r}=n;return{initial:t===!1||F1(t)?t:void 0,animate:F1(r)?r:void 0}}return n.inherit!==!1?e:{}}function Zz(n){const{initial:e,animate:t}=Qz(n,I.useContext(uS));return I.useMemo(()=>({initial:e,animate:t}),[IL(e),IL(t)])}function IL(n){return Array.isArray(n)?n.join(" "):n}const ML={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},D1={};for(const n in ML)D1[n]={isEnabled:e=>ML[n].some(t=>!!e[t])};function eV(n){for(const e in n)D1[e]={...D1[e],...n[e]}}const VP=I.createContext({}),$M=I.createContext({}),tV=Symbol.for("motionComponentSymbol");function nV({preloadedFeatures:n,createVisualElement:e,useRender:t,useVisualState:r,Component:i}){n&&eV(n);function s(a,l){let c;const u={...I.useContext(DM),...a,layoutId:rV(a)},{isStatic:d}=u,p=Zz(a),f=r(a,d);if(!d&&hS){p.visualElement=Kz(i,f,u,e);const y=I.useContext($M),g=I.useContext(OM).strict;p.visualElement&&(c=p.visualElement.loadFeatures(u,g,n,y))}return I.createElement(uS.Provider,{value:p},c&&p.visualElement?I.createElement(c,{visualElement:p.visualElement,...u}):null,t(i,a,Jz(f,p.visualElement,l),f,d,p.visualElement))}const o=I.forwardRef(s);return o[tV]=i,o}function rV({layoutId:n}){const e=I.useContext(VP).id;return e&&n!==void 0?e+"-"+n:n}function iV(n){function e(r,i={}){return nV(n(r,i))}if(typeof Proxy>"u")return e;const t=new Map;return new Proxy(e,{get:(r,i)=>(t.has(i)||t.set(i,e(i)),t.get(i))})}const sV=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function UP(n){return typeof n!="string"||n.includes("-")?!1:!!(sV.indexOf(n)>-1||/[A-Z]/.test(n))}const Lw={};function oV(n){Object.assign(Lw,n)}const g2=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],sf=new Set(g2);function zM(n,{layout:e,layoutId:t}){return sf.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!Lw[n]||n==="opacity")}const Ui=n=>!!(n&&n.getVelocity),aV={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},lV=g2.length;function cV(n,{enableHardwareAcceleration:e=!0,allowTransformNone:t=!0},r,i){let s="";for(let o=0;o<lV;o++){const a=g2[o];if(n[a]!==void 0){const l=aV[a]||a;s+=`${l}(${n[a]}) `}}return e&&!n.z&&(s+="translateZ(0)"),s=s.trim(),i?s=i(n,r?"":s):t&&r&&(s="none"),s}const VM=n=>e=>typeof e=="string"&&e.startsWith(n),UM=VM("--"),$C=VM("var(--"),uV=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,dV=(n,e)=>e&&typeof n=="number"?e.transform(n):n,Nu=(n,e,t)=>Math.min(Math.max(t,n),e),of={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},d1={...of,transform:n=>Nu(0,1,n)},D5={...of,default:1},h1=n=>Math.round(n*1e5)/1e5,mS=/(-)?([\d]*\.?[\d])+/g,HM=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,hV=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function v2(n){return typeof n=="string"}const y2=n=>({test:e=>v2(e)&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),mc=y2("deg"),Ta=y2("%"),rt=y2("px"),fV=y2("vh"),pV=y2("vw"),FL={...Ta,parse:n=>Ta.parse(n)/100,transform:n=>Ta.transform(n*100)},DL={...of,transform:Math.round},qM={borderWidth:rt,borderTopWidth:rt,borderRightWidth:rt,borderBottomWidth:rt,borderLeftWidth:rt,borderRadius:rt,radius:rt,borderTopLeftRadius:rt,borderTopRightRadius:rt,borderBottomRightRadius:rt,borderBottomLeftRadius:rt,width:rt,maxWidth:rt,height:rt,maxHeight:rt,size:rt,top:rt,right:rt,bottom:rt,left:rt,padding:rt,paddingTop:rt,paddingRight:rt,paddingBottom:rt,paddingLeft:rt,margin:rt,marginTop:rt,marginRight:rt,marginBottom:rt,marginLeft:rt,rotate:mc,rotateX:mc,rotateY:mc,rotateZ:mc,scale:D5,scaleX:D5,scaleY:D5,scaleZ:D5,skew:mc,skewX:mc,skewY:mc,distance:rt,translateX:rt,translateY:rt,translateZ:rt,x:rt,y:rt,z:rt,perspective:rt,transformPerspective:rt,opacity:d1,originX:FL,originY:FL,originZ:rt,zIndex:DL,fillOpacity:d1,strokeOpacity:d1,numOctaves:DL};function HP(n,e,t,r){const{style:i,vars:s,transform:o,transformOrigin:a}=n;let l=!1,c=!1,u=!0;for(const d in e){const p=e[d];if(UM(d)){s[d]=p;continue}const f=qM[d],y=dV(p,f);if(sf.has(d)){if(l=!0,o[d]=y,!u)continue;p!==(f.default||0)&&(u=!1)}else d.startsWith("origin")?(c=!0,a[d]=y):i[d]=y}if(e.transform||(l||r?i.transform=cV(n.transform,t,u,r):i.transform&&(i.transform="none")),c){const{originX:d="50%",originY:p="50%",originZ:f=0}=a;i.transformOrigin=`${d} ${p} ${f}`}}const qP=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function WM(n,e,t){for(const r in e)!Ui(e[r])&&!zM(r,t)&&(n[r]=e[r])}function mV({transformTemplate:n},e,t){return I.useMemo(()=>{const r=qP();return HP(r,e,{enableHardwareAcceleration:!t},n),Object.assign({},r.vars,r.style)},[e])}function gV(n,e,t){const r=n.style||{},i={};return WM(i,r,n),Object.assign(i,mV(n,e,t)),n.transformValues?n.transformValues(i):i}function vV(n,e,t){const r={},i=gV(n,e,t);return n.drag&&n.dragListener!==!1&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(r.tabIndex=0),r.style=i,r}const yV=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function kw(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||yV.has(n)}let GM=n=>!kw(n);function bV(n){n&&(GM=e=>e.startsWith("on")?!kw(e):n(e))}try{bV(require("@emotion/is-prop-valid").default)}catch{}function wV(n,e,t){const r={};for(const i in n)i==="values"&&typeof n.values=="object"||(GM(i)||t===!0&&kw(i)||!e&&!kw(i)||n.draggable&&i.startsWith("onDrag"))&&(r[i]=n[i]);return r}function OL(n,e,t){return typeof n=="string"?n:rt.transform(e+t*n)}function xV(n,e,t){const r=OL(e,n.x,n.width),i=OL(t,n.y,n.height);return`${r} ${i}`}const AV={offset:"stroke-dashoffset",array:"stroke-dasharray"},SV={offset:"strokeDashoffset",array:"strokeDasharray"};function EV(n,e,t=1,r=0,i=!0){n.pathLength=1;const s=i?AV:SV;n[s.offset]=rt.transform(-r);const o=rt.transform(e),a=rt.transform(t);n[s.array]=`${o} ${a}`}function WP(n,{attrX:e,attrY:t,attrScale:r,originX:i,originY:s,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...c},u,d,p){if(HP(n,c,u,p),d){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:f,style:y,dimensions:g}=n;f.transform&&(g&&(y.transform=f.transform),delete f.transform),g&&(i!==void 0||s!==void 0||y.transform)&&(y.transformOrigin=xV(g,i!==void 0?i:.5,s!==void 0?s:.5)),e!==void 0&&(f.x=e),t!==void 0&&(f.y=t),r!==void 0&&(f.scale=r),o!==void 0&&EV(f,o,a,l,!1)}const XM=()=>({...qP(),attrs:{}}),GP=n=>typeof n=="string"&&n.toLowerCase()==="svg";function CV(n,e,t,r){const i=I.useMemo(()=>{const s=XM();return WP(s,e,{enableHardwareAcceleration:!1},GP(r),n.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(n.style){const s={};WM(s,n.style,n),i.style={...s,...i.style}}return i}function _V(n=!1){return(t,r,i,{latestValues:s},o)=>{const l=(UP(t)?CV:vV)(r,s,o,t),u={...wV(r,typeof t=="string",n),...l,ref:i},{children:d}=r,p=I.useMemo(()=>Ui(d)?d.get():d,[d]);return I.createElement(t,{...u,children:p})}}function YM(n,{style:e,vars:t},r,i){Object.assign(n.style,e,i&&i.getProjectionStyles(r));for(const s in t)n.style.setProperty(s,t[s])}const KM=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function JM(n,e,t,r){YM(n,e,void 0,r);for(const i in e.attrs)n.setAttribute(KM.has(i)?i:BP(i),e.attrs[i])}function XP(n,e){const{style:t}=n,r={};for(const i in t)(Ui(t[i])||e.style&&Ui(e.style[i])||zM(i,n))&&(r[i]=t[i]);return r}function QM(n,e){const t=XP(n,e);for(const r in n)if(Ui(n[r])||Ui(e[r])){const i=g2.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;t[i]=n[r]}return t}function YP(n,e,t,r={},i={}){return typeof e=="function"&&(e=e(t!==void 0?t:n.custom,r,i)),typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"&&(e=e(t!==void 0?t:n.custom,r,i)),e}function ZM(n){const e=I.useRef(null);return e.current===null&&(e.current=n()),e.current}const Rw=n=>Array.isArray(n),PV=n=>!!(n&&typeof n=="object"&&n.mix&&n.toValue),NV=n=>Rw(n)?n[n.length-1]||0:n;function bb(n){const e=Ui(n)?n.get():n;return PV(e)?e.toValue():e}function TV({scrapeMotionValuesFromProps:n,createRenderState:e,onMount:t},r,i,s){const o={latestValues:LV(r,i,s,n),renderState:e()};return t&&(o.mount=a=>t(r,a,o)),o}const e8=n=>(e,t)=>{const r=I.useContext(uS),i=I.useContext(dS),s=()=>TV(n,e,r,i);return t?s():ZM(s)};function LV(n,e,t,r){const i={},s=r(n,{});for(const p in s)i[p]=bb(s[p]);let{initial:o,animate:a}=n;const l=pS(n),c=BM(n);e&&c&&!l&&n.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let u=t?t.initial===!1:!1;u=u||o===!1;const d=u?a:o;return d&&typeof d!="boolean"&&!fS(d)&&(Array.isArray(d)?d:[d]).forEach(f=>{const y=YP(n,f);if(!y)return;const{transitionEnd:g,transition:x,...v}=y;for(const w in v){let S=v[w];if(Array.isArray(S)){const C=u?S.length-1:0;S=S[C]}S!==null&&(i[w]=S)}for(const w in g)i[w]=g[w]}),i}const Rn=n=>n;class jL{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const t=this.order.indexOf(e);t!==-1&&(this.order.splice(t,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function kV(n){let e=new jL,t=new jL,r=0,i=!1,s=!1;const o=new WeakSet,a={schedule:(l,c=!1,u=!1)=>{const d=u&&i,p=d?e:t;return c&&o.add(l),p.add(l)&&d&&i&&(r=e.order.length),l},cancel:l=>{t.remove(l),o.delete(l)},process:l=>{if(i){s=!0;return}if(i=!0,[e,t]=[t,e],t.clear(),r=e.order.length,r)for(let c=0;c<r;c++){const u=e.order[c];u(l),o.has(u)&&(a.schedule(u),n())}i=!1,s&&(s=!1,a.process(l))}};return a}const O5=["prepare","read","update","preRender","render","postRender"],RV=40;function IV(n,e){let t=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=O5.reduce((d,p)=>(d[p]=kV(()=>t=!0),d),{}),o=d=>s[d].process(i),a=()=>{const d=performance.now();t=!1,i.delta=r?1e3/60:Math.max(Math.min(d-i.timestamp,RV),1),i.timestamp=d,i.isProcessing=!0,O5.forEach(o),i.isProcessing=!1,t&&e&&(r=!1,n(a))},l=()=>{t=!0,r=!0,i.isProcessing||n(a)};return{schedule:O5.reduce((d,p)=>{const f=s[p];return d[p]=(y,g=!1,x=!1)=>(t||l(),f.schedule(y,g,x)),d},{}),cancel:d=>O5.forEach(p=>s[p].cancel(d)),state:i,steps:s}}const{schedule:nn,cancel:Wl,state:ti,steps:eE}=IV(typeof requestAnimationFrame<"u"?requestAnimationFrame:Rn,!0),MV={useVisualState:e8({scrapeMotionValuesFromProps:QM,createRenderState:XM,onMount:(n,e,{renderState:t,latestValues:r})=>{nn.read(()=>{try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}),nn.render(()=>{WP(t,r,{enableHardwareAcceleration:!1},GP(e.tagName),n.transformTemplate),JM(e,t)})}})},FV={useVisualState:e8({scrapeMotionValuesFromProps:XP,createRenderState:qP})};function DV(n,{forwardMotionProps:e=!1},t,r){return{...UP(n)?MV:FV,preloadedFeatures:t,useRender:_V(e),createVisualElement:r,Component:n}}function jl(n,e,t,r={passive:!0}){return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t)}const t8=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1;function gS(n,e="page"){return{point:{x:n[e+"X"],y:n[e+"Y"]}}}const OV=n=>e=>t8(e)&&n(e,gS(e));function $l(n,e,t,r){return jl(n,e,OV(t),r)}const jV=(n,e)=>t=>e(n(t)),Su=(...n)=>n.reduce(jV);function n8(n){let e=null;return()=>{const t=()=>{e=null};return e===null?(e=n,t):!1}}const BL=n8("dragHorizontal"),$L=n8("dragVertical");function r8(n){let e=!1;if(n==="y")e=$L();else if(n==="x")e=BL();else{const t=BL(),r=$L();t&&r?e=()=>{t(),r()}:(t&&t(),r&&r())}return e}function i8(){const n=r8(!0);return n?(n(),!1):!0}class Vu{constructor(e){this.isMounted=!1,this.node=e}update(){}}function zL(n,e){const t="pointer"+(e?"enter":"leave"),r="onHover"+(e?"Start":"End"),i=(s,o)=>{if(s.pointerType==="touch"||i8())return;const a=n.getProps();n.animationState&&a.whileHover&&n.animationState.setActive("whileHover",e),a[r]&&nn.update(()=>a[r](s,o))};return $l(n.current,t,i,{passive:!n.getProps()[r]})}class BV extends Vu{mount(){this.unmount=Su(zL(this.node,!0),zL(this.node,!1))}unmount(){}}class $V extends Vu{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Su(jl(this.node.current,"focus",()=>this.onFocus()),jl(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const s8=(n,e)=>e?n===e?!0:s8(n,e.parentElement):!1;function tE(n,e){if(!e)return;const t=new PointerEvent("pointer"+n);e(t,gS(t))}class zV extends Vu{constructor(){super(...arguments),this.removeStartListeners=Rn,this.removeEndListeners=Rn,this.removeAccessibleListeners=Rn,this.startPointerPress=(e,t)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),s=$l(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:c,onTapCancel:u,globalTapTarget:d}=this.node.getProps();nn.update(()=>{!d&&!s8(this.node.current,a.target)?u&&u(a,l):c&&c(a,l)})},{passive:!(r.onTap||r.onPointerUp)}),o=$l(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=Su(s,o),this.startPress(e,t)},this.startAccessiblePress=()=>{const e=s=>{if(s.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||tE("up",(l,c)=>{const{onTap:u}=this.node.getProps();u&&nn.update(()=>u(l,c))})};this.removeEndListeners(),this.removeEndListeners=jl(this.node.current,"keyup",o),tE("down",(a,l)=>{this.startPress(a,l)})},t=jl(this.node.current,"keydown",e),r=()=>{this.isPressing&&tE("cancel",(s,o)=>this.cancelPress(s,o))},i=jl(this.node.current,"blur",r);this.removeAccessibleListeners=Su(t,i)}}startPress(e,t){this.isPressing=!0;const{onTapStart:r,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&nn.update(()=>r(e,t))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!i8()}cancelPress(e,t){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&nn.update(()=>r(e,t))}mount(){const e=this.node.getProps(),t=$l(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=jl(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Su(t,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const zC=new WeakMap,nE=new WeakMap,VV=n=>{const e=zC.get(n.target);e&&e(n)},UV=n=>{n.forEach(VV)};function HV({root:n,...e}){const t=n||document;nE.has(t)||nE.set(t,{});const r=nE.get(t),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(UV,{root:n,...e})),r[i]}function qV(n,e,t){const r=HV(e);return zC.set(n,t),r.observe(n),()=>{zC.delete(n),r.unobserve(n)}}const WV={some:0,all:1};class GV extends Vu{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:r,amount:i="some",once:s}=e,o={root:t?t.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:WV[i]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,s&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:d}=this.node.getProps(),p=c?u:d;p&&p(l)};return qV(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(XV(e,t))&&this.startObserver()}unmount(){}}function XV({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const YV={inView:{Feature:GV},tap:{Feature:zV},focus:{Feature:$V},hover:{Feature:BV}};function o8(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let r=0;r<t;r++)if(e[r]!==n[r])return!1;return!0}function KV(n){const e={};return n.values.forEach((t,r)=>e[r]=t.get()),e}function JV(n){const e={};return n.values.forEach((t,r)=>e[r]=t.getVelocity()),e}function vS(n,e,t){const r=n.getProps();return YP(r,e,t!==void 0?t:r.custom,KV(n),JV(n))}let QV=Rn,KP=Rn;const Eu=n=>n*1e3,zl=n=>n/1e3,ZV={current:!1},a8=n=>Array.isArray(n)&&typeof n[0]=="number";function l8(n){return!!(!n||typeof n=="string"&&c8[n]||a8(n)||Array.isArray(n)&&n.every(l8))}const D0=([n,e,t,r])=>`cubic-bezier(${n}, ${e}, ${t}, ${r})`,c8={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:D0([0,.65,.55,1]),circOut:D0([.55,0,1,.45]),backIn:D0([.31,.01,.66,-.59]),backOut:D0([.33,1.53,.69,.99])};function u8(n){if(n)return a8(n)?D0(n):Array.isArray(n)?n.map(u8):c8[n]}function eU(n,e,t,{delay:r=0,duration:i,repeat:s=0,repeatType:o="loop",ease:a,times:l}={}){const c={[e]:t};l&&(c.offset=l);const u=u8(a);return Array.isArray(u)&&(c.easing=u),n.animate(c,{delay:r,duration:i,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}function tU(n,{repeat:e,repeatType:t="loop"}){const r=e&&t!=="loop"&&e%2===1?0:n.length-1;return n[r]}const d8=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,nU=1e-7,rU=12;function iU(n,e,t,r,i){let s,o,a=0;do o=e+(t-e)/2,s=d8(o,r,i)-n,s>0?t=o:e=o;while(Math.abs(s)>nU&&++a<rU);return o}function b2(n,e,t,r){if(n===e&&t===r)return Rn;const i=s=>iU(s,0,1,n,t);return s=>s===0||s===1?s:d8(i(s),e,r)}const sU=b2(.42,0,1,1),oU=b2(0,0,.58,1),h8=b2(.42,0,.58,1),aU=n=>Array.isArray(n)&&typeof n[0]!="number",f8=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,p8=n=>e=>1-n(1-e),JP=n=>1-Math.sin(Math.acos(n)),m8=p8(JP),lU=f8(JP),g8=b2(.33,1.53,.69,.99),QP=p8(g8),cU=f8(QP),uU=n=>(n*=2)<1?.5*QP(n):.5*(2-Math.pow(2,-10*(n-1))),dU={linear:Rn,easeIn:sU,easeInOut:h8,easeOut:oU,circIn:JP,circInOut:lU,circOut:m8,backIn:QP,backInOut:cU,backOut:g8,anticipate:uU},VL=n=>{if(Array.isArray(n)){KP(n.length===4);const[e,t,r,i]=n;return b2(e,t,r,i)}else if(typeof n=="string")return dU[n];return n},ZP=(n,e)=>t=>!!(v2(t)&&hV.test(t)&&t.startsWith(n)||e&&Object.prototype.hasOwnProperty.call(t,e)),v8=(n,e,t)=>r=>{if(!v2(r))return r;const[i,s,o,a]=r.match(mS);return{[n]:parseFloat(i),[e]:parseFloat(s),[t]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},hU=n=>Nu(0,255,n),rE={...of,transform:n=>Math.round(hU(n))},yd={test:ZP("rgb","red"),parse:v8("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:r=1})=>"rgba("+rE.transform(n)+", "+rE.transform(e)+", "+rE.transform(t)+", "+h1(d1.transform(r))+")"};function fU(n){let e="",t="",r="",i="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),r=n.substring(5,7),i=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),r=n.substring(3,4),i=n.substring(4,5),e+=e,t+=t,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const VC={test:ZP("#"),parse:fU,transform:yd.transform},vp={test:ZP("hsl","hue"),parse:v8("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:r=1})=>"hsla("+Math.round(n)+", "+Ta.transform(h1(e))+", "+Ta.transform(h1(t))+", "+h1(d1.transform(r))+")"},mi={test:n=>yd.test(n)||VC.test(n)||vp.test(n),parse:n=>yd.test(n)?yd.parse(n):vp.test(n)?vp.parse(n):VC.parse(n),transform:n=>v2(n)?n:n.hasOwnProperty("red")?yd.transform(n):vp.transform(n)},wn=(n,e,t)=>-t*n+t*e+n;function iE(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function pU({hue:n,saturation:e,lightness:t,alpha:r}){n/=360,e/=100,t/=100;let i=0,s=0,o=0;if(!e)i=s=o=t;else{const a=t<.5?t*(1+e):t+e-t*e,l=2*t-a;i=iE(l,a,n+1/3),s=iE(l,a,n),o=iE(l,a,n-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}const sE=(n,e,t)=>{const r=n*n;return Math.sqrt(Math.max(0,t*(e*e-r)+r))},mU=[VC,yd,vp],gU=n=>mU.find(e=>e.test(n));function UL(n){const e=gU(n);let t=e.parse(n);return e===vp&&(t=pU(t)),t}const y8=(n,e)=>{const t=UL(n),r=UL(e),i={...t};return s=>(i.red=sE(t.red,r.red,s),i.green=sE(t.green,r.green,s),i.blue=sE(t.blue,r.blue,s),i.alpha=wn(t.alpha,r.alpha,s),yd.transform(i))};function vU(n){var e,t;return isNaN(n)&&v2(n)&&(((e=n.match(mS))===null||e===void 0?void 0:e.length)||0)+(((t=n.match(HM))===null||t===void 0?void 0:t.length)||0)>0}const b8={regex:uV,countKey:"Vars",token:"${v}",parse:Rn},w8={regex:HM,countKey:"Colors",token:"${c}",parse:mi.parse},x8={regex:mS,countKey:"Numbers",token:"${n}",parse:of.parse};function oE(n,{regex:e,countKey:t,token:r,parse:i}){const s=n.tokenised.match(e);s&&(n["num"+t]=s.length,n.tokenised=n.tokenised.replace(e,r),n.values.push(...s.map(i)))}function Iw(n){const e=n.toString(),t={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return t.value.includes("var(--")&&oE(t,b8),oE(t,w8),oE(t,x8),t}function A8(n){return Iw(n).values}function S8(n){const{values:e,numColors:t,numVars:r,tokenised:i}=Iw(n),s=e.length;return o=>{let a=i;for(let l=0;l<s;l++)l<r?a=a.replace(b8.token,o[l]):l<r+t?a=a.replace(w8.token,mi.transform(o[l])):a=a.replace(x8.token,h1(o[l]));return a}}const yU=n=>typeof n=="number"?0:n;function bU(n){const e=A8(n);return S8(n)(e.map(yU))}const Tu={test:vU,parse:A8,createTransformer:S8,getAnimatableNone:bU},E8=(n,e)=>t=>`${t>0?e:n}`;function C8(n,e){return typeof n=="number"?t=>wn(n,e,t):mi.test(n)?y8(n,e):n.startsWith("var(")?E8(n,e):P8(n,e)}const _8=(n,e)=>{const t=[...n],r=t.length,i=n.map((s,o)=>C8(s,e[o]));return s=>{for(let o=0;o<r;o++)t[o]=i[o](s);return t}},wU=(n,e)=>{const t={...n,...e},r={};for(const i in t)n[i]!==void 0&&e[i]!==void 0&&(r[i]=C8(n[i],e[i]));return i=>{for(const s in r)t[s]=r[s](i);return t}},P8=(n,e)=>{const t=Tu.createTransformer(e),r=Iw(n),i=Iw(e);return r.numVars===i.numVars&&r.numColors===i.numColors&&r.numNumbers>=i.numNumbers?Su(_8(r.values,i.values),t):E8(n,e)},O1=(n,e,t)=>{const r=e-n;return r===0?1:(t-n)/r},HL=(n,e)=>t=>wn(n,e,t);function xU(n){return typeof n=="number"?HL:typeof n=="string"?mi.test(n)?y8:P8:Array.isArray(n)?_8:typeof n=="object"?wU:HL}function AU(n,e,t){const r=[],i=t||xU(n[0]),s=n.length-1;for(let o=0;o<s;o++){let a=i(n[o],n[o+1]);if(e){const l=Array.isArray(e)?e[o]||Rn:e;a=Su(l,a)}r.push(a)}return r}function N8(n,e,{clamp:t=!0,ease:r,mixer:i}={}){const s=n.length;if(KP(s===e.length),s===1)return()=>e[0];n[0]>n[s-1]&&(n=[...n].reverse(),e=[...e].reverse());const o=AU(e,r,i),a=o.length,l=c=>{let u=0;if(a>1)for(;u<n.length-2&&!(c<n[u+1]);u++);const d=O1(n[u],n[u+1],c);return o[u](d)};return t?c=>l(Nu(n[0],n[s-1],c)):l}function SU(n,e){const t=n[n.length-1];for(let r=1;r<=e;r++){const i=O1(0,e,r);n.push(wn(t,1,i))}}function EU(n){const e=[0];return SU(e,n.length-1),e}function CU(n,e){return n.map(t=>t*e)}function _U(n,e){return n.map(()=>e||h8).splice(0,n.length-1)}function Mw({duration:n=300,keyframes:e,times:t,ease:r="easeInOut"}){const i=aU(r)?r.map(VL):VL(r),s={done:!1,value:e[0]},o=CU(t&&t.length===e.length?t:EU(e),n),a=N8(o,e,{ease:Array.isArray(i)?i:_U(e,i)});return{calculatedDuration:n,next:l=>(s.value=a(l),s.done=l>=n,s)}}function T8(n,e){return e?n*(1e3/e):0}const PU=5;function L8(n,e,t){const r=Math.max(e-PU,0);return T8(t-n(r),e-r)}const aE=.001,NU=.01,qL=10,TU=.05,LU=1;function kU({duration:n=800,bounce:e=.25,velocity:t=0,mass:r=1}){let i,s;QV(n<=Eu(qL));let o=1-e;o=Nu(TU,LU,o),n=Nu(NU,qL,zl(n)),o<1?(i=c=>{const u=c*o,d=u*n,p=u-t,f=UC(c,o),y=Math.exp(-d);return aE-p/f*y},s=c=>{const d=c*o*n,p=d*t+t,f=Math.pow(o,2)*Math.pow(c,2)*n,y=Math.exp(-d),g=UC(Math.pow(c,2),o);return(-i(c)+aE>0?-1:1)*((p-f)*y)/g}):(i=c=>{const u=Math.exp(-c*n),d=(c-t)*n+1;return-aE+u*d},s=c=>{const u=Math.exp(-c*n),d=(t-c)*(n*n);return u*d});const a=5/n,l=IU(i,s,a);if(n=Eu(n),isNaN(l))return{stiffness:100,damping:10,duration:n};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:n}}}const RU=12;function IU(n,e,t){let r=t;for(let i=1;i<RU;i++)r=r-n(r)/e(r);return r}function UC(n,e){return n*Math.sqrt(1-e*e)}const MU=["duration","bounce"],FU=["stiffness","damping","mass"];function WL(n,e){return e.some(t=>n[t]!==void 0)}function DU(n){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...n};if(!WL(n,FU)&&WL(n,MU)){const t=kU(n);e={...e,...t,mass:1},e.isResolvedFromDuration=!0}return e}function k8({keyframes:n,restDelta:e,restSpeed:t,...r}){const i=n[0],s=n[n.length-1],o={done:!1,value:i},{stiffness:a,damping:l,mass:c,duration:u,velocity:d,isResolvedFromDuration:p}=DU({...r,velocity:-zl(r.velocity||0)}),f=d||0,y=l/(2*Math.sqrt(a*c)),g=s-i,x=zl(Math.sqrt(a/c)),v=Math.abs(g)<5;t||(t=v?.01:2),e||(e=v?.005:.5);let w;if(y<1){const S=UC(x,y);w=C=>{const N=Math.exp(-y*x*C);return s-N*((f+y*x*g)/S*Math.sin(S*C)+g*Math.cos(S*C))}}else if(y===1)w=S=>s-Math.exp(-x*S)*(g+(f+x*g)*S);else{const S=x*Math.sqrt(y*y-1);w=C=>{const N=Math.exp(-y*x*C),$=Math.min(S*C,300);return s-N*((f+y*x*g)*Math.sinh($)+S*g*Math.cosh($))/S}}return{calculatedDuration:p&&u||null,next:S=>{const C=w(S);if(p)o.done=S>=u;else{let N=f;S!==0&&(y<1?N=L8(w,S,C):N=0);const $=Math.abs(N)<=t,R=Math.abs(s-C)<=e;o.done=$&&R}return o.value=o.done?s:C,o}}}function GL({keyframes:n,velocity:e=0,power:t=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:u}){const d=n[0],p={done:!1,value:d},f=k=>a!==void 0&&k<a||l!==void 0&&k>l,y=k=>a===void 0?l:l===void 0||Math.abs(a-k)<Math.abs(l-k)?a:l;let g=t*e;const x=d+g,v=o===void 0?x:o(x);v!==x&&(g=v-d);const w=k=>-g*Math.exp(-k/r),S=k=>v+w(k),C=k=>{const W=w(k),X=S(k);p.done=Math.abs(W)<=c,p.value=p.done?v:X};let N,$;const R=k=>{f(p.value)&&(N=k,$=k8({keyframes:[p.value,y(p.value)],velocity:L8(S,k,p.value),damping:i,stiffness:s,restDelta:c,restSpeed:u}))};return R(0),{calculatedDuration:null,next:k=>{let W=!1;return!$&&N===void 0&&(W=!0,C(k),R(k)),N!==void 0&&k>N?$.next(k-N):(!W&&C(k),p)}}}const OU=n=>{const e=({timestamp:t})=>n(t);return{start:()=>nn.update(e,!0),stop:()=>Wl(e),now:()=>ti.isProcessing?ti.timestamp:performance.now()}},XL=2e4;function YL(n){let e=0;const t=50;let r=n.next(e);for(;!r.done&&e<XL;)e+=t,r=n.next(e);return e>=XL?1/0:e}const jU={decay:GL,inertia:GL,tween:Mw,keyframes:Mw,spring:k8};function Fw({autoplay:n=!0,delay:e=0,driver:t=OU,keyframes:r,type:i="keyframes",repeat:s=0,repeatDelay:o=0,repeatType:a="loop",onPlay:l,onStop:c,onComplete:u,onUpdate:d,...p}){let f=1,y=!1,g,x;const v=()=>{x=new Promise(be=>{g=be})};v();let w;const S=jU[i]||Mw;let C;S!==Mw&&typeof r[0]!="number"&&(C=N8([0,100],r,{clamp:!1}),r=[0,100]);const N=S({...p,keyframes:r});let $;a==="mirror"&&($=S({...p,keyframes:[...r].reverse(),velocity:-(p.velocity||0)}));let R="idle",k=null,W=null,X=null;N.calculatedDuration===null&&s&&(N.calculatedDuration=YL(N));const{calculatedDuration:M}=N;let j=1/0,K=1/0;M!==null&&(j=M+o,K=j*(s+1)-o);let U=0;const le=be=>{if(W===null)return;f>0&&(W=Math.min(W,be)),f<0&&(W=Math.min(be-K/f,W)),k!==null?U=k:U=Math.round(be-W)*f;const D=U-e*(f>=0?1:-1),G=f>=0?D<0:D>K;U=Math.max(D,0),R==="finished"&&k===null&&(U=K);let Z=U,re=N;if(s){const ge=Math.min(U,K)/j;let Ee=Math.floor(ge),Ae=ge%1;!Ae&&ge>=1&&(Ae=1),Ae===1&&Ee--,Ee=Math.min(Ee,s+1),!!(Ee%2)&&(a==="reverse"?(Ae=1-Ae,o&&(Ae-=o/j)):a==="mirror"&&(re=$)),Z=Nu(0,1,Ae)*j}const oe=G?{done:!1,value:r[0]}:re.next(Z);C&&(oe.value=C(oe.value));let{done:ie}=oe;!G&&M!==null&&(ie=f>=0?U>=K:U<=0);const pe=k===null&&(R==="finished"||R==="running"&&ie);return d&&d(oe.value),pe&&Y(),oe},Q=()=>{w&&w.stop(),w=void 0},ne=()=>{R="idle",Q(),g(),v(),W=X=null},Y=()=>{R="finished",u&&u(),Q(),g()},se=()=>{if(y)return;w||(w=t(le));const be=w.now();l&&l(),k!==null?W=be-k:(!W||R==="finished")&&(W=be),R==="finished"&&v(),X=W,k=null,R="running",w.start()};n&&se();const de={then(be,D){return x.then(be,D)},get time(){return zl(U)},set time(be){be=Eu(be),U=be,k!==null||!w||f===0?k=be:W=w.now()-be/f},get duration(){const be=N.calculatedDuration===null?YL(N):N.calculatedDuration;return zl(be)},get speed(){return f},set speed(be){be===f||!w||(f=be,de.time=zl(U))},get state(){return R},play:se,pause:()=>{R="paused",k=U},stop:()=>{y=!0,R!=="idle"&&(R="idle",c&&c(),ne())},cancel:()=>{X!==null&&le(X),ne()},complete:()=>{R="finished"},sample:be=>(W=0,le(be))};return de}function BU(n){let e;return()=>(e===void 0&&(e=n()),e)}const $U=BU(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),zU=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),j5=10,VU=2e4,UU=(n,e)=>e.type==="spring"||n==="backgroundColor"||!l8(e.ease);function HU(n,e,{onUpdate:t,onComplete:r,...i}){if(!($U()&&zU.has(e)&&!i.repeatDelay&&i.repeatType!=="mirror"&&i.damping!==0&&i.type!=="inertia"))return!1;let o=!1,a,l,c=!1;const u=()=>{l=new Promise(S=>{a=S})};u();let{keyframes:d,duration:p=300,ease:f,times:y}=i;if(UU(e,i)){const S=Fw({...i,repeat:0,delay:0});let C={done:!1,value:d[0]};const N=[];let $=0;for(;!C.done&&$<VU;)C=S.sample($),N.push(C.value),$+=j5;y=void 0,d=N,p=$-j5,f="linear"}const g=eU(n.owner.current,e,d,{...i,duration:p,ease:f,times:y}),x=()=>{c=!1,g.cancel()},v=()=>{c=!0,nn.update(x),a(),u()};return g.onfinish=()=>{c||(n.set(tU(d,i)),r&&r(),v())},{then(S,C){return l.then(S,C)},attachTimeline(S){return g.timeline=S,g.onfinish=null,Rn},get time(){return zl(g.currentTime||0)},set time(S){g.currentTime=Eu(S)},get speed(){return g.playbackRate},set speed(S){g.playbackRate=S},get duration(){return zl(p)},play:()=>{o||(g.play(),Wl(x))},pause:()=>g.pause(),stop:()=>{if(o=!0,g.playState==="idle")return;const{currentTime:S}=g;if(S){const C=Fw({...i,autoplay:!1});n.setWithVelocity(C.sample(S-j5).value,C.sample(S).value,j5)}v()},complete:()=>{c||g.finish()},cancel:v}}function qU({keyframes:n,delay:e,onUpdate:t,onComplete:r}){const i=()=>(t&&t(n[n.length-1]),r&&r(),{time:0,speed:1,duration:0,play:Rn,pause:Rn,stop:Rn,then:s=>(s(),Promise.resolve()),cancel:Rn,complete:Rn});return e?Fw({keyframes:[0,1],duration:0,delay:e,onComplete:i}):i()}const WU={type:"spring",stiffness:500,damping:25,restSpeed:10},GU=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),XU={type:"keyframes",duration:.8},YU={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},KU=(n,{keyframes:e})=>e.length>2?XU:sf.has(n)?n.startsWith("scale")?GU(e[1]):WU:YU,HC=(n,e)=>n==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Tu.test(e)||e==="0")&&!e.startsWith("url(")),JU=new Set(["brightness","contrast","saturate","opacity"]);function QU(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[r]=t.match(mS)||[];if(!r)return n;const i=t.replace(r,"");let s=JU.has(e)?1:0;return r!==t&&(s*=100),e+"("+s+i+")"}const ZU=/([a-z-]*)\(.*?\)/g,qC={...Tu,getAnimatableNone:n=>{const e=n.match(ZU);return e?e.map(QU).join(" "):n}},eH={...qM,color:mi,backgroundColor:mi,outlineColor:mi,fill:mi,stroke:mi,borderColor:mi,borderTopColor:mi,borderRightColor:mi,borderBottomColor:mi,borderLeftColor:mi,filter:qC,WebkitFilter:qC},eN=n=>eH[n];function R8(n,e){let t=eN(n);return t!==qC&&(t=Tu),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const I8=n=>/^0[^.\s]+$/.test(n);function tH(n){if(typeof n=="number")return n===0;if(n!==null)return n==="none"||n==="0"||I8(n)}function nH(n,e,t,r){const i=HC(e,t);let s;Array.isArray(t)?s=[...t]:s=[null,t];const o=r.from!==void 0?r.from:n.get();let a;const l=[];for(let c=0;c<s.length;c++)s[c]===null&&(s[c]=c===0?o:s[c-1]),tH(s[c])&&l.push(c),typeof s[c]=="string"&&s[c]!=="none"&&s[c]!=="0"&&(a=s[c]);if(i&&l.length&&a)for(let c=0;c<l.length;c++){const u=l[c];s[u]=R8(e,a)}return s}function rH({when:n,delay:e,delayChildren:t,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:c,...u}){return!!Object.keys(u).length}function tN(n,e){return n[e]||n.default||n}const iH={skipAnimations:!1},nN=(n,e,t,r={})=>i=>{const s=tN(r,n)||{},o=s.delay||r.delay||0;let{elapsed:a=0}=r;a=a-Eu(o);const l=nH(e,n,t,s),c=l[0],u=l[l.length-1],d=HC(n,c),p=HC(n,u);let f={keyframes:l,velocity:e.getVelocity(),ease:"easeOut",...s,delay:-a,onUpdate:y=>{e.set(y),s.onUpdate&&s.onUpdate(y)},onComplete:()=>{i(),s.onComplete&&s.onComplete()}};if(rH(s)||(f={...f,...KU(n,f)}),f.duration&&(f.duration=Eu(f.duration)),f.repeatDelay&&(f.repeatDelay=Eu(f.repeatDelay)),!d||!p||ZV.current||s.type===!1||iH.skipAnimations)return qU(f);if(!r.isHandoff&&e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const y=HU(e,n,f);if(y)return y}return Fw(f)};function Dw(n){return!!(Ui(n)&&n.add)}const M8=n=>/^\-?\d*\.?\d+$/.test(n);function rN(n,e){n.indexOf(e)===-1&&n.push(e)}function iN(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}class sN{constructor(){this.subscriptions=[]}add(e){return rN(this.subscriptions,e),()=>iN(this.subscriptions,e)}notify(e,t,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,t,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,t,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const sH=n=>!isNaN(parseFloat(n));class oH{constructor(e,t={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,i=!0)=>{this.prev=this.current,this.current=r;const{delta:s,timestamp:o}=ti;this.lastUpdated!==o&&(this.timeDelta=s,this.lastUpdated=o,nn.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>nn.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=sH(this.current),this.owner=t.owner}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new sN);const r=this.events[e].add(t);return e==="change"?()=>{r(),nn.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){!t||!this.passiveEffect?this.updateAndNotify(e,t):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,t,r){this.set(t),this.prev=e,this.timeDelta=r}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?T8(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Sg(n,e){return new oH(n,e)}const F8=n=>e=>e.test(n),aH={test:n=>n==="auto",parse:n=>n},D8=[of,rt,Ta,mc,pV,fV,aH],A0=n=>D8.find(F8(n)),lH=[...D8,mi,Tu],cH=n=>lH.find(F8(n));function uH(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,Sg(t))}function dH(n,e){const t=vS(n,e);let{transitionEnd:r={},transition:i={},...s}=t?n.makeTargetAnimatable(t,!1):{};s={...s,...r};for(const o in s){const a=NV(s[o]);uH(n,o,a)}}function hH(n,e,t){var r,i;const s=Object.keys(e).filter(a=>!n.hasValue(a)),o=s.length;if(o)for(let a=0;a<o;a++){const l=s[a],c=e[l];let u=null;Array.isArray(c)&&(u=c[0]),u===null&&(u=(i=(r=t[l])!==null&&r!==void 0?r:n.readValue(l))!==null&&i!==void 0?i:e[l]),u!=null&&(typeof u=="string"&&(M8(u)||I8(u))?u=parseFloat(u):!cH(u)&&Tu.test(c)&&(u=R8(l,c)),n.addValue(l,Sg(u,{owner:n})),t[l]===void 0&&(t[l]=u),u!==null&&n.setBaseTarget(l,u))}}function fH(n,e){return e?(e[n]||e.default||e).from:void 0}function pH(n,e,t){const r={};for(const i in n){const s=fH(i,e);if(s!==void 0)r[i]=s;else{const o=t.getValue(i);o&&(r[i]=o.get())}}return r}function mH({protectedKeys:n,needsAnimating:e},t){const r=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,r}function gH(n,e){const t=n.get();if(Array.isArray(e)){for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}else return t!==e}function O8(n,e,{delay:t=0,transitionOverride:r,type:i}={}){let{transition:s=n.getDefaultTransition(),transitionEnd:o,...a}=n.makeTargetAnimatable(e);const l=n.getValue("willChange");r&&(s=r);const c=[],u=i&&n.animationState&&n.animationState.getState()[i];for(const d in a){const p=n.getValue(d),f=a[d];if(!p||f===void 0||u&&mH(u,d))continue;const y={delay:t,elapsed:0,...tN(s||{},d)};if(window.HandoffAppearAnimations){const v=n.getProps()[jM];if(v){const w=window.HandoffAppearAnimations(v,d,p,nn);w!==null&&(y.elapsed=w,y.isHandoff=!0)}}let g=!y.isHandoff&&!gH(p,f);if(y.type==="spring"&&(p.getVelocity()||y.velocity)&&(g=!1),p.animation&&(g=!1),g)continue;p.start(nN(d,p,f,n.shouldReduceMotion&&sf.has(d)?{type:!1}:y));const x=p.animation;Dw(l)&&(l.add(d),x.then(()=>l.remove(d))),c.push(x)}return o&&Promise.all(c).then(()=>{o&&dH(n,o)}),c}function WC(n,e,t={}){const r=vS(n,e,t.custom);let{transition:i=n.getDefaultTransition()||{}}=r||{};t.transitionOverride&&(i=t.transitionOverride);const s=r?()=>Promise.all(O8(n,r,t)):()=>Promise.resolve(),o=n.variantChildren&&n.variantChildren.size?(l=0)=>{const{delayChildren:c=0,staggerChildren:u,staggerDirection:d}=i;return vH(n,e,c+l,u,d,t)}:()=>Promise.resolve(),{when:a}=i;if(a){const[l,c]=a==="beforeChildren"?[s,o]:[o,s];return l().then(()=>c())}else return Promise.all([s(),o(t.delay)])}function vH(n,e,t=0,r=0,i=1,s){const o=[],a=(n.variantChildren.size-1)*r,l=i===1?(c=0)=>c*r:(c=0)=>a-c*r;return Array.from(n.variantChildren).sort(yH).forEach((c,u)=>{c.notify("AnimationStart",e),o.push(WC(c,e,{...s,delay:t+l(u)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(o)}function yH(n,e){return n.sortNodePosition(e)}function bH(n,e,t={}){n.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>WC(n,s,t));r=Promise.all(i)}else if(typeof e=="string")r=WC(n,e,t);else{const i=typeof e=="function"?vS(n,e,t.custom):e;r=Promise.all(O8(n,i,t))}return r.then(()=>n.notify("AnimationComplete",e))}const wH=[...$P].reverse(),xH=$P.length;function AH(n){return e=>Promise.all(e.map(({animation:t,options:r})=>bH(n,t,r)))}function SH(n){let e=AH(n);const t=CH();let r=!0;const i=(l,c)=>{const u=vS(n,c);if(u){const{transition:d,transitionEnd:p,...f}=u;l={...l,...f,...p}}return l};function s(l){e=l(n)}function o(l,c){const u=n.getProps(),d=n.getVariantContext(!0)||{},p=[],f=new Set;let y={},g=1/0;for(let v=0;v<xH;v++){const w=wH[v],S=t[w],C=u[w]!==void 0?u[w]:d[w],N=F1(C),$=w===c?S.isActive:null;$===!1&&(g=v);let R=C===d[w]&&C!==u[w]&&N;if(R&&r&&n.manuallyAnimateOnMount&&(R=!1),S.protectedKeys={...y},!S.isActive&&$===null||!C&&!S.prevProp||fS(C)||typeof C=="boolean")continue;let W=EH(S.prevProp,C)||w===c&&S.isActive&&!R&&N||v>g&&N,X=!1;const M=Array.isArray(C)?C:[C];let j=M.reduce(i,{});$===!1&&(j={});const{prevResolvedValues:K={}}=S,U={...K,...j},le=Q=>{W=!0,f.has(Q)&&(X=!0,f.delete(Q)),S.needsAnimating[Q]=!0};for(const Q in U){const ne=j[Q],Y=K[Q];if(y.hasOwnProperty(Q))continue;let se=!1;Rw(ne)&&Rw(Y)?se=!o8(ne,Y):se=ne!==Y,se?ne!==void 0?le(Q):f.add(Q):ne!==void 0&&f.has(Q)?le(Q):S.protectedKeys[Q]=!0}S.prevProp=C,S.prevResolvedValues=j,S.isActive&&(y={...y,...j}),r&&n.blockInitialAnimation&&(W=!1),W&&(!R||X)&&p.push(...M.map(Q=>({animation:Q,options:{type:w,...l}})))}if(f.size){const v={};f.forEach(w=>{const S=n.getBaseTarget(w);S!==void 0&&(v[w]=S)}),p.push({animation:v})}let x=!!p.length;return r&&(u.initial===!1||u.initial===u.animate)&&!n.manuallyAnimateOnMount&&(x=!1),r=!1,x?e(p):Promise.resolve()}function a(l,c,u){var d;if(t[l].isActive===c)return Promise.resolve();(d=n.variantChildren)===null||d===void 0||d.forEach(f=>{var y;return(y=f.animationState)===null||y===void 0?void 0:y.setActive(l,c)}),t[l].isActive=c;const p=o(u,l);for(const f in t)t[f].protectedKeys={};return p}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>t}}function EH(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!o8(e,n):!1}function nd(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function CH(){return{animate:nd(!0),whileInView:nd(),whileHover:nd(),whileTap:nd(),whileDrag:nd(),whileFocus:nd(),exit:nd()}}class _H extends Vu{constructor(e){super(e),e.animationState||(e.animationState=SH(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),fS(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){}}let PH=0;class NH extends Vu{constructor(){super(...arguments),this.id=PH++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t,custom:r}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const s=this.node.animationState.setActive("exit",!e,{custom:r??this.node.getProps().custom});t&&!e&&s.then(()=>t(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const TH={animation:{Feature:_H},exit:{Feature:NH}},KL=(n,e)=>Math.abs(n-e);function LH(n,e){const t=KL(n.x,e.x),r=KL(n.y,e.y);return Math.sqrt(t**2+r**2)}class j8{constructor(e,t,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const d=cE(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,f=LH(d.offset,{x:0,y:0})>=3;if(!p&&!f)return;const{point:y}=d,{timestamp:g}=ti;this.history.push({...y,timestamp:g});const{onStart:x,onMove:v}=this.handlers;p||(x&&x(this.lastMoveEvent,d),this.startEvent=this.lastMoveEvent),v&&v(this.lastMoveEvent,d)},this.handlePointerMove=(d,p)=>{this.lastMoveEvent=d,this.lastMoveEventInfo=lE(p,this.transformPagePoint),nn.update(this.updatePoint,!0)},this.handlePointerUp=(d,p)=>{this.end();const{onEnd:f,onSessionEnd:y,resumeAnimation:g}=this.handlers;if(this.dragSnapToOrigin&&g&&g(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=cE(d.type==="pointercancel"?this.lastMoveEventInfo:lE(p,this.transformPagePoint),this.history);this.startEvent&&f&&f(d,x),y&&y(d,x)},!t8(e))return;this.dragSnapToOrigin=s,this.handlers=t,this.transformPagePoint=r,this.contextWindow=i||window;const o=gS(e),a=lE(o,this.transformPagePoint),{point:l}=a,{timestamp:c}=ti;this.history=[{...l,timestamp:c}];const{onSessionStart:u}=t;u&&u(e,cE(a,this.history)),this.removeListeners=Su($l(this.contextWindow,"pointermove",this.handlePointerMove),$l(this.contextWindow,"pointerup",this.handlePointerUp),$l(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Wl(this.updatePoint)}}function lE(n,e){return e?{point:e(n.point)}:n}function JL(n,e){return{x:n.x-e.x,y:n.y-e.y}}function cE({point:n},e){return{point:n,delta:JL(n,B8(e)),offset:JL(n,kH(e)),velocity:RH(e,.1)}}function kH(n){return n[0]}function B8(n){return n[n.length-1]}function RH(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,r=null;const i=B8(n);for(;t>=0&&(r=n[t],!(i.timestamp-r.timestamp>Eu(e)));)t--;if(!r)return{x:0,y:0};const s=zl(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function ws(n){return n.max-n.min}function GC(n,e=0,t=.01){return Math.abs(n-e)<=t}function QL(n,e,t,r=.5){n.origin=r,n.originPoint=wn(e.min,e.max,n.origin),n.scale=ws(t)/ws(e),(GC(n.scale,1,1e-4)||isNaN(n.scale))&&(n.scale=1),n.translate=wn(t.min,t.max,n.origin)-n.originPoint,(GC(n.translate)||isNaN(n.translate))&&(n.translate=0)}function f1(n,e,t,r){QL(n.x,e.x,t.x,r?r.originX:void 0),QL(n.y,e.y,t.y,r?r.originY:void 0)}function ZL(n,e,t){n.min=t.min+e.min,n.max=n.min+ws(e)}function IH(n,e,t){ZL(n.x,e.x,t.x),ZL(n.y,e.y,t.y)}function ek(n,e,t){n.min=e.min-t.min,n.max=n.min+ws(e)}function p1(n,e,t){ek(n.x,e.x,t.x),ek(n.y,e.y,t.y)}function MH(n,{min:e,max:t},r){return e!==void 0&&n<e?n=r?wn(e,n,r.min):Math.max(n,e):t!==void 0&&n>t&&(n=r?wn(t,n,r.max):Math.min(n,t)),n}function tk(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function FH(n,{top:e,left:t,bottom:r,right:i}){return{x:tk(n.x,t,i),y:tk(n.y,e,r)}}function nk(n,e){let t=e.min-n.min,r=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,r]=[r,t]),{min:t,max:r}}function DH(n,e){return{x:nk(n.x,e.x),y:nk(n.y,e.y)}}function OH(n,e){let t=.5;const r=ws(n),i=ws(e);return i>r?t=O1(e.min,e.max-r,n.min):r>i&&(t=O1(n.min,n.max-i,e.min)),Nu(0,1,t)}function jH(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const XC=.35;function BH(n=XC){return n===!1?n=0:n===!0&&(n=XC),{x:rk(n,"left","right"),y:rk(n,"top","bottom")}}function rk(n,e,t){return{min:ik(n,e),max:ik(n,t)}}function ik(n,e){return typeof n=="number"?n:n[e]||0}const sk=()=>({translate:0,scale:1,origin:0,originPoint:0}),yp=()=>({x:sk(),y:sk()}),ok=()=>({min:0,max:0}),Jn=()=>({x:ok(),y:ok()});function Is(n){return[n("x"),n("y")]}function $8({top:n,left:e,right:t,bottom:r}){return{x:{min:e,max:t},y:{min:n,max:r}}}function $H({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function zH(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),r=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:r.y,right:r.x}}function uE(n){return n===void 0||n===1}function YC({scale:n,scaleX:e,scaleY:t}){return!uE(n)||!uE(e)||!uE(t)}function sd(n){return YC(n)||z8(n)||n.z||n.rotate||n.rotateX||n.rotateY}function z8(n){return ak(n.x)||ak(n.y)}function ak(n){return n&&n!=="0%"}function Ow(n,e,t){const r=n-t,i=e*r;return t+i}function lk(n,e,t,r,i){return i!==void 0&&(n=Ow(n,i,r)),Ow(n,t,r)+e}function KC(n,e=0,t=1,r,i){n.min=lk(n.min,e,t,r,i),n.max=lk(n.max,e,t,r,i)}function V8(n,{x:e,y:t}){KC(n.x,e.translate,e.scale,e.originPoint),KC(n.y,t.translate,t.scale,t.originPoint)}function VH(n,e,t,r=!1){const i=t.length;if(!i)return;e.x=e.y=1;let s,o;for(let a=0;a<i;a++){s=t[a],o=s.projectionDelta;const l=s.instance;l&&l.style&&l.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&bp(n,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,V8(n,o)),r&&sd(s.latestValues)&&bp(n,s.latestValues))}e.x=ck(e.x),e.y=ck(e.y)}function ck(n){return Number.isInteger(n)||n>1.0000000000001||n<.999999999999?n:1}function wc(n,e){n.min=n.min+e,n.max=n.max+e}function uk(n,e,[t,r,i]){const s=e[i]!==void 0?e[i]:.5,o=wn(n.min,n.max,s);KC(n,e[t],e[r],o,e.scale)}const UH=["x","scaleX","originX"],HH=["y","scaleY","originY"];function bp(n,e){uk(n.x,e,UH),uk(n.y,e,HH)}function U8(n,e){return $8(zH(n.getBoundingClientRect(),e))}function qH(n,e,t){const r=U8(n,t),{scroll:i}=e;return i&&(wc(r.x,i.offset.x),wc(r.y,i.offset.y)),r}const H8=({current:n})=>n?n.ownerDocument.defaultView:null,WH=new WeakMap;class GH{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Jn(),this.visualElement=e}start(e,{snapToCursor:t=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=u=>{const{dragSnapToOrigin:d}=this.getProps();d?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(gS(u,"page").point)},s=(u,d)=>{const{drag:p,dragPropagation:f,onDragStart:y}=this.getProps();if(p&&!f&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=r8(p),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Is(x=>{let v=this.getAxisMotionValue(x).get()||0;if(Ta.test(v)){const{projection:w}=this.visualElement;if(w&&w.layout){const S=w.layout.layoutBox[x];S&&(v=ws(S)*(parseFloat(v)/100))}}this.originPoint[x]=v}),y&&nn.update(()=>y(u,d),!1,!0);const{animationState:g}=this.visualElement;g&&g.setActive("whileDrag",!0)},o=(u,d)=>{const{dragPropagation:p,dragDirectionLock:f,onDirectionLock:y,onDrag:g}=this.getProps();if(!p&&!this.openGlobalLock)return;const{offset:x}=d;if(f&&this.currentDirection===null){this.currentDirection=XH(x),this.currentDirection!==null&&y&&y(this.currentDirection);return}this.updateAxis("x",d.point,x),this.updateAxis("y",d.point,x),this.visualElement.render(),g&&g(u,d)},a=(u,d)=>this.stop(u,d),l=()=>Is(u=>{var d;return this.getAnimationState(u)==="paused"&&((d=this.getAxisMotionValue(u).animation)===null||d===void 0?void 0:d.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new j8(e,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:H8(this.visualElement)})}stop(e,t){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=t;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&nn.update(()=>s(e,t))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,r){const{drag:i}=this.getProps();if(!r||!B5(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=MH(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,s=this.constraints;t&&gp(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&i?this.constraints=FH(i.layoutBox,t):this.constraints=!1,this.elastic=BH(r),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Is(o=>{this.getAxisMotionValue(o)&&(this.constraints[o]=jH(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!gp(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=qH(r,i.root,this.visualElement.getTransformPagePoint());let o=DH(i.layout.layoutBox,s);if(t){const a=t($H(o));this.hasMutatedConstraints=!!a,a&&(o=$8(a))}return o}startAnimation(e){const{drag:t,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=Is(u=>{if(!B5(u,t,this.currentDirection))return;let d=l&&l[u]||{};o&&(d={min:0,max:0});const p=i?200:1e6,f=i?40:1e7,y={type:"inertia",velocity:r?e[u]:0,bounceStiffness:p,bounceDamping:f,timeConstant:750,restDelta:1,restSpeed:10,...s,...d};return this.startAxisValueAnimation(u,y)});return Promise.all(c).then(a)}startAxisValueAnimation(e,t){const r=this.getAxisMotionValue(e);return r.start(nN(e,r,0,t))}stopAnimation(){Is(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Is(e=>{var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.pause()})}getAnimationState(e){var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.state}getAxisMotionValue(e){const t="_drag"+e.toUpperCase(),r=this.visualElement.getProps(),i=r[t];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Is(t=>{const{drag:r}=this.getProps();if(!B5(t,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(t);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[t];s.set(e[t]-wn(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:r}=this.visualElement;if(!gp(t)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Is(o=>{const a=this.getAxisMotionValue(o);if(a){const l=a.get();i[o]=OH({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Is(o=>{if(!B5(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(wn(l,c,i[o]))})}addListeners(){if(!this.visualElement.current)return;WH.set(this.visualElement,this);const e=this.visualElement.current,t=$l(e,"pointerdown",l=>{const{drag:c,dragListener:u=!0}=this.getProps();c&&u&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();gp(l)&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),r();const o=jl(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(Is(u=>{const d=this.getAxisMotionValue(u);d&&(this.originPoint[u]+=l[u].translate,d.set(d.get()+l[u].translate))}),this.visualElement.render())});return()=>{o(),t(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=XC,dragMomentum:a=!0}=e;return{...e,drag:t,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function B5(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function XH(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class YH extends Vu{constructor(e){super(e),this.removeGroupControls=Rn,this.removeListeners=Rn,this.controls=new GH(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Rn}unmount(){this.removeGroupControls(),this.removeListeners()}}const dk=n=>(e,t)=>{n&&nn.update(()=>n(e,t))};class KH extends Vu{constructor(){super(...arguments),this.removePointerDownListener=Rn}onPointerDown(e){this.session=new j8(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:H8(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:dk(e),onStart:dk(t),onMove:r,onEnd:(s,o)=>{delete this.session,i&&nn.update(()=>i(s,o))}}}mount(){this.removePointerDownListener=$l(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function JH(){const n=I.useContext(dS);if(n===null)return[!0,null];const{isPresent:e,onExitComplete:t,register:r}=n,i=I.useId();return I.useEffect(()=>r(i),[]),!e&&t?[!1,()=>t&&t(i)]:[!0]}const wb={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function hk(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const S0={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(rt.test(n))n=parseFloat(n);else return n;const t=hk(n,e.target.x),r=hk(n,e.target.y);return`${t}% ${r}%`}},QH={correct:(n,{treeScale:e,projectionDelta:t})=>{const r=n,i=Tu.parse(n);if(i.length>5)return r;const s=Tu.createTransformer(n),o=typeof i[0]!="number"?1:0,a=t.x.scale*e.x,l=t.y.scale*e.y;i[0+o]/=a,i[1+o]/=l;const c=wn(a,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=c),typeof i[3+o]=="number"&&(i[3+o]/=c),s(i)}};class ZH extends et.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;oV(eq),s&&(t.group&&t.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),wb.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:r,drag:i,isPresent:s}=this.props,o=r.projection;return o&&(o.isPresent=s,i||e.layoutDependency!==t||t===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||nn.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function q8(n){const[e,t]=JH(),r=I.useContext(VP);return et.createElement(ZH,{...n,layoutGroup:r,switchLayoutGroup:I.useContext($M),isPresent:e,safeToRemove:t})}const eq={borderRadius:{...S0,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:S0,borderTopRightRadius:S0,borderBottomLeftRadius:S0,borderBottomRightRadius:S0,boxShadow:QH},W8=["TopLeft","TopRight","BottomLeft","BottomRight"],tq=W8.length,fk=n=>typeof n=="string"?parseFloat(n):n,pk=n=>typeof n=="number"||rt.test(n);function nq(n,e,t,r,i,s){i?(n.opacity=wn(0,t.opacity!==void 0?t.opacity:1,rq(r)),n.opacityExit=wn(e.opacity!==void 0?e.opacity:1,0,iq(r))):s&&(n.opacity=wn(e.opacity!==void 0?e.opacity:1,t.opacity!==void 0?t.opacity:1,r));for(let o=0;o<tq;o++){const a=`border${W8[o]}Radius`;let l=mk(e,a),c=mk(t,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||pk(l)===pk(c)?(n[a]=Math.max(wn(fk(l),fk(c),r),0),(Ta.test(c)||Ta.test(l))&&(n[a]+="%")):n[a]=c}(e.rotate||t.rotate)&&(n.rotate=wn(e.rotate||0,t.rotate||0,r))}function mk(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const rq=G8(0,.5,m8),iq=G8(.5,.95,Rn);function G8(n,e,t){return r=>r<n?0:r>e?1:t(O1(n,e,r))}function gk(n,e){n.min=e.min,n.max=e.max}function ks(n,e){gk(n.x,e.x),gk(n.y,e.y)}function vk(n,e,t,r,i){return n-=e,n=Ow(n,1/t,r),i!==void 0&&(n=Ow(n,1/i,r)),n}function sq(n,e=0,t=1,r=.5,i,s=n,o=n){if(Ta.test(e)&&(e=parseFloat(e),e=wn(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=wn(s.min,s.max,r);n===s&&(a-=e),n.min=vk(n.min,e,t,a,i),n.max=vk(n.max,e,t,a,i)}function yk(n,e,[t,r,i],s,o){sq(n,e[t],e[r],e[i],e.scale,s,o)}const oq=["x","scaleX","originX"],aq=["y","scaleY","originY"];function bk(n,e,t,r){yk(n.x,e,oq,t?t.x:void 0,r?r.x:void 0),yk(n.y,e,aq,t?t.y:void 0,r?r.y:void 0)}function wk(n){return n.translate===0&&n.scale===1}function X8(n){return wk(n.x)&&wk(n.y)}function lq(n,e){return n.x.min===e.x.min&&n.x.max===e.x.max&&n.y.min===e.y.min&&n.y.max===e.y.max}function Y8(n,e){return Math.round(n.x.min)===Math.round(e.x.min)&&Math.round(n.x.max)===Math.round(e.x.max)&&Math.round(n.y.min)===Math.round(e.y.min)&&Math.round(n.y.max)===Math.round(e.y.max)}function xk(n){return ws(n.x)/ws(n.y)}class cq{constructor(){this.members=[]}add(e){rN(this.members,e),e.scheduleRender()}remove(e){if(iN(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(i=>e===i);if(t===0)return!1;let r;for(let i=t;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,t){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,t&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:r}=e;t.onExitComplete&&t.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Ak(n,e,t){let r="";const i=n.x.translate/e.x,s=n.y.translate/e.y;if((i||s)&&(r=`translate3d(${i}px, ${s}px, 0) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),t){const{rotate:l,rotateX:c,rotateY:u}=t;l&&(r+=`rotate(${l}deg) `),c&&(r+=`rotateX(${c}deg) `),u&&(r+=`rotateY(${u}deg) `)}const o=n.x.scale*e.x,a=n.y.scale*e.y;return(o!==1||a!==1)&&(r+=`scale(${o}, ${a})`),r||"none"}const uq=(n,e)=>n.depth-e.depth;class dq{constructor(){this.children=[],this.isDirty=!1}add(e){rN(this.children,e),this.isDirty=!0}remove(e){iN(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(uq),this.isDirty=!1,this.children.forEach(e)}}function hq(n,e){const t=performance.now(),r=({timestamp:i})=>{const s=i-t;s>=e&&(Wl(r),n(s-e))};return nn.read(r,!0),()=>Wl(r)}function fq(n){window.MotionDebug&&window.MotionDebug.record(n)}function pq(n){return n instanceof SVGElement&&n.tagName!=="svg"}function mq(n,e,t){const r=Ui(n)?n:Sg(n);return r.start(nN("",r,e,t)),r.animation}const Sk=["","X","Y","Z"],gq={visibility:"hidden"},Ek=1e3;let vq=0;const od={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function K8({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=e==null?void 0:e()){this.id=vq++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,od.totalNodes=od.resolvedTargetDeltas=od.recalculatedProjection=0,this.nodes.forEach(wq),this.nodes.forEach(Cq),this.nodes.forEach(_q),this.nodes.forEach(xq),fq(od)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new dq)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new sN),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=pq(o),this.instance=o;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(c||l)&&(this.isLayoutDirty=!0),n){let d;const p=()=>this.root.updateBlockedByResize=!1;n(o,()=>{this.root.updateBlockedByResize=!0,d&&d(),d=hq(p,250),wb.hasAnimatedSinceResize&&(wb.hasAnimatedSinceResize=!1,this.nodes.forEach(_k))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:p,hasRelativeTargetChanged:f,layout:y})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||u.getDefaultTransition()||kq,{onLayoutAnimationStart:x,onLayoutAnimationComplete:v}=u.getProps(),w=!this.targetLayout||!Y8(this.targetLayout,y)||f,S=!p&&f;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||S||p&&(w||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(d,S);const C={...tN(g,"layout"),onPlay:x,onComplete:v};(u.shouldReduceMotion||this.options.layoutRoot)&&(C.delay=0,C.type=!1),this.startAnimation(C)}else p||_k(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=y})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Wl(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Pq),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const d=this.path[u];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Ck);return}this.isUpdating||this.nodes.forEach(Sq),this.isUpdating=!1,this.nodes.forEach(Eq),this.nodes.forEach(yq),this.nodes.forEach(bq),this.clearAllSnapshots();const a=performance.now();ti.delta=Nu(0,1e3/60,a-ti.timestamp),ti.timestamp=a,ti.isProcessing=!0,eE.update.process(ti),eE.preRender.process(ti),eE.render.process(ti),ti.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(Aq),this.sharedNodes.forEach(Nq)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,nn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){nn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Jn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:r(this.instance),offset:t(this.instance)})}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform,a=this.projectionDelta&&!X8(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;o&&(a||sd(this.latestValues)||u)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),Rq(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return Jn();const a=o.measureViewportBox(),{scroll:l}=this.root;return l&&(wc(a.x,l.offset.x),wc(a.y,l.offset.y)),a}removeElementScroll(o){const a=Jn();ks(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l],{scroll:u,options:d}=c;if(c!==this.root&&u&&d.layoutScroll){if(u.isRoot){ks(a,o);const{scroll:p}=this.root;p&&(wc(a.x,-p.offset.x),wc(a.y,-p.offset.y))}wc(a.x,u.offset.x),wc(a.y,u.offset.y)}}return a}applyTransform(o,a=!1){const l=Jn();ks(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];!a&&u.options.layoutScroll&&u.scroll&&u!==u.root&&bp(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),sd(u.latestValues)&&bp(l,u.latestValues)}return sd(this.latestValues)&&bp(l,this.latestValues),l}removeTransform(o){const a=Jn();ks(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!sd(c.latestValues))continue;YC(c.latestValues)&&c.updateSnapshot();const u=Jn(),d=c.measurePageBox();ks(u,d),bk(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return sd(this.latestValues)&&bk(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ti.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:d,layoutId:p}=this.options;if(!(!this.layout||!(d||p))){if(this.resolvedRelativeTargetAt=ti.timestamp,!this.targetDelta&&!this.relativeTarget){const f=this.getClosestProjectingParent();f&&f.layout&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Jn(),this.relativeTargetOrigin=Jn(),p1(this.relativeTargetOrigin,this.layout.layoutBox,f.layout.layoutBox),ks(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Jn(),this.targetWithTransforms=Jn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),IH(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ks(this.target,this.layout.layoutBox),V8(this.target,this.targetDelta)):ks(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const f=this.getClosestProjectingParent();f&&!!f.resumingFrom==!!this.resumingFrom&&!f.options.layoutScroll&&f.target&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Jn(),this.relativeTargetOrigin=Jn(),p1(this.relativeTargetOrigin,this.target,f.target),ks(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}od.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||YC(this.parent.latestValues)||z8(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===ti.timestamp&&(c=!1),c)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;ks(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,f=this.treeScale.y;VH(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox);const{target:y}=a;if(!y){this.projectionTransform&&(this.projectionDelta=yp(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=yp(),this.projectionDeltaWithTransform=yp());const g=this.projectionTransform;f1(this.projectionDelta,this.layoutCorrected,y,this.latestValues),this.projectionTransform=Ak(this.projectionDelta,this.treeScale),(this.projectionTransform!==g||this.treeScale.x!==p||this.treeScale.y!==f)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",y)),od.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},u={...this.latestValues},d=yp();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const p=Jn(),f=l?l.source:void 0,y=this.layout?this.layout.source:void 0,g=f!==y,x=this.getStack(),v=!x||x.members.length<=1,w=!!(g&&!v&&this.options.crossfade===!0&&!this.path.some(Lq));this.animationProgress=0;let S;this.mixTargetDelta=C=>{const N=C/1e3;Pk(d.x,o.x,N),Pk(d.y,o.y,N),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(p1(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Tq(this.relativeTarget,this.relativeTargetOrigin,p,N),S&&lq(this.relativeTarget,S)&&(this.isProjectionDirty=!1),S||(S=Jn()),ks(S,this.relativeTarget)),g&&(this.animationValues=u,nq(u,c,this.latestValues,N,w,v)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=N},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Wl(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=nn.update(()=>{wb.hasAnimatedSinceResize=!0,this.currentAnimation=mq(0,Ek,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Ek),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:u}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&J8(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||Jn();const d=ws(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+d;const p=ws(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+p}ks(a,l),bp(a,u),f1(this.projectionDeltaWithTransform,this.layoutCorrected,a,u)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new cq),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(a=!0),!a)return;const c={};for(let u=0;u<Sk.length;u++){const d="rotate"+Sk[u];l[d]&&(c[d]=l[d],o.setStaticValue(d,0))}o.render();for(const u in c)o.setStaticValue(u,c[u]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return gq;const c={visibility:""},u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=bb(o==null?void 0:o.pointerEvents)||"",c.transform=u?u(this.latestValues,""):"none",c;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const g={};return this.options.layoutId&&(g.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,g.pointerEvents=bb(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!sd(this.latestValues)&&(g.transform=u?u({},""):"none",this.hasProjected=!1),g}const p=d.animationValues||d.latestValues;this.applyTransformsToTarget(),c.transform=Ak(this.projectionDeltaWithTransform,this.treeScale,p),u&&(c.transform=u(p,c.transform));const{x:f,y}=this.projectionDelta;c.transformOrigin=`${f.origin*100}% ${y.origin*100}% 0`,d.animationValues?c.opacity=d===this?(l=(a=p.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:c.opacity=d===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const g in Lw){if(p[g]===void 0)continue;const{correct:x,applyTo:v}=Lw[g],w=c.transform==="none"?p[g]:x(p[g],d);if(v){const S=v.length;for(let C=0;C<S;C++)c[v[C]]=w}else c[g]=w}return this.options.layoutId&&(c.pointerEvents=d===this?bb(o==null?void 0:o.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(Ck),this.root.sharedNodes.clear()}}}function yq(n){n.updateLayout()}function bq(n){var e;const t=((e=n.resumeFrom)===null||e===void 0?void 0:e.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=n.layout,{animationType:s}=n.options,o=t.source!==n.layout.source;s==="size"?Is(d=>{const p=o?t.measuredBox[d]:t.layoutBox[d],f=ws(p);p.min=r[d].min,p.max=p.min+f}):J8(s,t.layoutBox,r)&&Is(d=>{const p=o?t.measuredBox[d]:t.layoutBox[d],f=ws(r[d]);p.max=p.min+f,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[d].max=n.relativeTarget[d].min+f)});const a=yp();f1(a,r,t.layoutBox);const l=yp();o?f1(l,n.applyTransform(i,!0),t.measuredBox):f1(l,r,t.layoutBox);const c=!X8(a);let u=!1;if(!n.resumeFrom){const d=n.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:p,layout:f}=d;if(p&&f){const y=Jn();p1(y,t.layoutBox,p.layoutBox);const g=Jn();p1(g,r,f.layoutBox),Y8(y,g)||(u=!0),d.options.layoutRoot&&(n.relativeTarget=g,n.relativeTargetOrigin=y,n.relativeParent=d)}}}n.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeTargetChanged:u})}else if(n.isLead()){const{onExitComplete:r}=n.options;r&&r()}n.options.transition=void 0}function wq(n){od.totalNodes++,n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function xq(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function Aq(n){n.clearSnapshot()}function Ck(n){n.clearMeasurements()}function Sq(n){n.isLayoutDirty=!1}function Eq(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function _k(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function Cq(n){n.resolveTargetDelta()}function _q(n){n.calcProjection()}function Pq(n){n.resetRotation()}function Nq(n){n.removeLeadSnapshot()}function Pk(n,e,t){n.translate=wn(e.translate,0,t),n.scale=wn(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function Nk(n,e,t,r){n.min=wn(e.min,t.min,r),n.max=wn(e.max,t.max,r)}function Tq(n,e,t,r){Nk(n.x,e.x,t.x,r),Nk(n.y,e.y,t.y,r)}function Lq(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const kq={duration:.45,ease:[.4,0,.1,1]},Tk=n=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(n),Lk=Tk("applewebkit/")&&!Tk("chrome/")?Math.round:Rn;function kk(n){n.min=Lk(n.min),n.max=Lk(n.max)}function Rq(n){kk(n.x),kk(n.y)}function J8(n,e,t){return n==="position"||n==="preserve-aspect"&&!GC(xk(e),xk(t),.2)}const Iq=K8({attachResizeListener:(n,e)=>jl(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),dE={current:void 0},Q8=K8({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!dE.current){const n=new Iq({});n.mount(window),n.setOptions({layoutScroll:!0}),dE.current=n}return dE.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),Mq={pan:{Feature:KH},drag:{Feature:YH,ProjectionNode:Q8,MeasureLayout:q8}},Fq=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function Dq(n){const e=Fq.exec(n);if(!e)return[,];const[,t,r]=e;return[t,r]}function JC(n,e,t=1){const[r,i]=Dq(n);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const o=s.trim();return M8(o)?parseFloat(o):o}else return $C(i)?JC(i,e,t+1):i}function Oq(n,{...e},t){const r=n.current;if(!(r instanceof Element))return{target:e,transitionEnd:t};t&&(t={...t}),n.values.forEach(i=>{const s=i.get();if(!$C(s))return;const o=JC(s,r);o&&i.set(o)});for(const i in e){const s=e[i];if(!$C(s))continue;const o=JC(s,r);o&&(e[i]=o,t||(t={}),t[i]===void 0&&(t[i]=s))}return{target:e,transitionEnd:t}}const jq=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),Z8=n=>jq.has(n),Bq=n=>Object.keys(n).some(Z8),Rk=n=>n===of||n===rt,Ik=(n,e)=>parseFloat(n.split(", ")[e]),Mk=(n,e)=>(t,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/);if(i)return Ik(i[1],e);{const s=r.match(/^matrix\((.+)\)$/);return s?Ik(s[1],n):0}},$q=new Set(["x","y","z"]),zq=g2.filter(n=>!$q.has(n));function Vq(n){const e=[];return zq.forEach(t=>{const r=n.getValue(t);r!==void 0&&(e.push([t,r.get()]),r.set(t.startsWith("scale")?1:0))}),e.length&&n.render(),e}const Eg={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:Mk(4,13),y:Mk(5,14)};Eg.translateX=Eg.x;Eg.translateY=Eg.y;const Uq=(n,e,t)=>{const r=e.measureViewportBox(),i=e.current,s=getComputedStyle(i),{display:o}=s,a={};o==="none"&&e.setStaticValue("display",n.display||"block"),t.forEach(c=>{a[c]=Eg[c](r,s)}),e.render();const l=e.measureViewportBox();return t.forEach(c=>{const u=e.getValue(c);u&&u.jump(a[c]),n[c]=Eg[c](l,s)}),n},Hq=(n,e,t={},r={})=>{e={...e},r={...r};const i=Object.keys(e).filter(Z8);let s=[],o=!1;const a=[];if(i.forEach(l=>{const c=n.getValue(l);if(!n.hasValue(l))return;let u=t[l],d=A0(u);const p=e[l];let f;if(Rw(p)){const y=p.length,g=p[0]===null?1:0;u=p[g],d=A0(u);for(let x=g;x<y&&p[x]!==null;x++)f?KP(A0(p[x])===f):f=A0(p[x])}else f=A0(p);if(d!==f)if(Rk(d)&&Rk(f)){const y=c.get();typeof y=="string"&&c.set(parseFloat(y)),typeof p=="string"?e[l]=parseFloat(p):Array.isArray(p)&&f===rt&&(e[l]=p.map(parseFloat))}else d!=null&&d.transform&&(f!=null&&f.transform)&&(u===0||p===0)?u===0?c.set(f.transform(u)):e[l]=d.transform(p):(o||(s=Vq(n),o=!0),a.push(l),r[l]=r[l]!==void 0?r[l]:e[l],c.jump(p))}),a.length){const l=a.indexOf("height")>=0?window.pageYOffset:null,c=Uq(e,n,a);return s.length&&s.forEach(([u,d])=>{n.getValue(u).set(d)}),n.render(),hS&&l!==null&&window.scrollTo({top:l}),{target:c,transitionEnd:r}}else return{target:e,transitionEnd:r}};function qq(n,e,t,r){return Bq(e)?Hq(n,e,t,r):{target:e,transitionEnd:r}}const Wq=(n,e,t,r)=>{const i=Oq(n,e,r);return e=i.target,r=i.transitionEnd,qq(n,e,t,r)},QC={current:null},eF={current:!1};function Gq(){if(eF.current=!0,!!hS)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>QC.current=n.matches;n.addListener(e),e()}else QC.current=!1}function Xq(n,e,t){const{willChange:r}=e;for(const i in e){const s=e[i],o=t[i];if(Ui(s))n.addValue(i,s),Dw(r)&&r.add(i);else if(Ui(o))n.addValue(i,Sg(s,{owner:n})),Dw(r)&&r.remove(i);else if(o!==s)if(n.hasValue(i)){const a=n.getValue(i);!a.hasAnimated&&a.set(s)}else{const a=n.getStaticValue(i);n.addValue(i,Sg(a!==void 0?a:s,{owner:n}))}}for(const i in t)e[i]===void 0&&n.removeValue(i);return e}const Fk=new WeakMap,tF=Object.keys(D1),Yq=tF.length,Dk=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],Kq=zP.length;class Jq{constructor({parent:e,props:t,presenceContext:r,reducedMotionConfig:i,visualState:s},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>nn.render(this.render,!1,!0);const{latestValues:a,renderState:l}=s;this.latestValues=a,this.baseTarget={...a},this.initialValues=t.initial?{...a}:{},this.renderState=l,this.parent=e,this.props=t,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=o,this.isControllingVariants=pS(t),this.isVariantNode=BM(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:c,...u}=this.scrapeMotionValuesFromProps(t,{});for(const d in u){const p=u[d];a[d]!==void 0&&Ui(p)&&(p.set(a[d],!1),Dw(c)&&c.add(d))}}scrapeMotionValuesFromProps(e,t){return{}}mount(e){this.current=e,Fk.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,r)=>this.bindToMotionValue(r,t)),eF.current||Gq(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:QC.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Fk.delete(this.current),this.projection&&this.projection.unmount(),Wl(this.notifyUpdate),Wl(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,t){const r=sf.has(e),i=t.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&nn.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=t.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{i(),s()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...t},r,i,s){let o,a;for(let l=0;l<Yq;l++){const c=tF[l],{isEnabled:u,Feature:d,ProjectionNode:p,MeasureLayout:f}=D1[c];p&&(o=p),u(t)&&(!this.features[c]&&d&&(this.features[c]=new d(this)),f&&(a=f))}if((this.type==="html"||this.type==="svg")&&!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:l,layout:c,drag:u,dragConstraints:d,layoutScroll:p,layoutRoot:f}=t;this.projection.setOptions({layoutId:l,layout:c,alwaysMeasureLayout:!!u||d&&gp(d),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof c=="string"?c:"both",initialPromotionConfig:s,layoutScroll:p,layoutRoot:f})}return a}updateFeatures(){for(const e in this.features){const t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Jn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}makeTargetAnimatable(e,t=!0){return this.makeTargetAnimatableFromInstance(e,this.props,t)}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let r=0;r<Dk.length;r++){const i=Dk[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s=e["on"+i];s&&(this.propEventSubscriptions[i]=this.on(i,s))}this.prevMotionValues=Xq(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const t={};for(let r=0;r<Kq;r++){const i=zP[r],s=this.props[i];(F1(s)||s===!1)&&(t[i]=s)}return t}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){t!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,t)),this.values.set(e,t),this.latestValues[e]=t.get()}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&t!==void 0&&(r=Sg(t,{owner:this}),this.addValue(e,r)),r}readValue(e){var t;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(t=this.getBaseTargetFromProps(this.props,e))!==null&&t!==void 0?t:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:r}=this.props,i=typeof r=="string"||typeof r=="object"?(t=YP(this.props,r))===null||t===void 0?void 0:t[e]:void 0;if(r&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!Ui(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new sN),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class nF extends Jq{sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:r}){delete t[e],delete r[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:t,...r},{transformValues:i},s){let o=pH(r,e||{},this);if(i&&(t&&(t=i(t)),r&&(r=i(r)),o&&(o=i(o))),s){hH(this,r,o);const a=Wq(this,r,o,t);t=a.transitionEnd,r=a.target}return{transition:e,transitionEnd:t,...r}}}function Qq(n){return window.getComputedStyle(n)}class Zq extends nF{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,t){if(sf.has(t)){const r=eN(t);return r&&r.default||0}else{const r=Qq(e),i=(UM(t)?r.getPropertyValue(t):r[t])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:t}){return U8(e,t)}build(e,t,r,i){HP(e,t,r,i.transformTemplate)}scrapeMotionValuesFromProps(e,t){return XP(e,t)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Ui(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}renderInstance(e,t,r,i){YM(e,t,r,i)}}class eW extends nF{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(sf.has(t)){const r=eN(t);return r&&r.default||0}return t=KM.has(t)?t:BP(t),e.getAttribute(t)}measureInstanceViewportBox(){return Jn()}scrapeMotionValuesFromProps(e,t){return QM(e,t)}build(e,t,r,i){WP(e,t,r,this.isSVGTag,i.transformTemplate)}renderInstance(e,t,r,i){JM(e,t,r,i)}mount(e){this.isSVGTag=GP(e.tagName),super.mount(e)}}const tW=(n,e)=>UP(n)?new eW(e,{enableHardwareAcceleration:!1}):new Zq(e,{enableHardwareAcceleration:!0}),nW={layout:{ProjectionNode:Q8,MeasureLayout:q8}},rW={...TH,...YV,...Mq,...nW},Mr=iV((n,e)=>DV(n,e,rW,tW));function rF(){const n=I.useRef(!1);return jP(()=>(n.current=!0,()=>{n.current=!1}),[]),n}function iW(){const n=rF(),[e,t]=I.useState(0),r=I.useCallback(()=>{n.current&&t(e+1)},[e]);return[I.useCallback(()=>nn.postRender(r),[r]),e]}class sW extends I.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=t.offsetHeight||0,r.width=t.offsetWidth||0,r.top=t.offsetTop,r.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function oW({children:n,isPresent:e}){const t=I.useId(),r=I.useRef(null),i=I.useRef({width:0,height:0,top:0,left:0});return I.useInsertionEffect(()=>{const{width:s,height:o,top:a,left:l}=i.current;if(e||!r.current||!s||!o)return;r.current.dataset.motionPopId=t;const c=document.createElement("style");return document.head.appendChild(c),c.sheet&&c.sheet.insertRule(`
          [data-motion-pop-id="${t}"] {
            position: absolute !important;
            width: ${s}px !important;
            height: ${o}px !important;
            top: ${a}px !important;
            left: ${l}px !important;
          }
        `),()=>{document.head.removeChild(c)}},[e]),I.createElement(sW,{isPresent:e,childRef:r,sizeRef:i},I.cloneElement(n,{ref:r}))}const hE=({children:n,initial:e,isPresent:t,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:o})=>{const a=ZM(aW),l=I.useId(),c=I.useMemo(()=>({id:l,initial:e,isPresent:t,custom:i,onExitComplete:u=>{a.set(u,!0);for(const d of a.values())if(!d)return;r&&r()},register:u=>(a.set(u,!1),()=>a.delete(u))}),s?void 0:[t]);return I.useMemo(()=>{a.forEach((u,d)=>a.set(d,!1))},[t]),I.useEffect(()=>{!t&&!a.size&&r&&r()},[t]),o==="popLayout"&&(n=I.createElement(oW,{isPresent:t},n)),I.createElement(dS.Provider,{value:c},n)};function aW(){return new Map}function lW(n){return I.useEffect(()=>()=>n(),[])}const ad=n=>n.key||"";function cW(n,e){n.forEach(t=>{const r=ad(t);e.set(r,t)})}function uW(n){const e=[];return I.Children.forEach(n,t=>{I.isValidElement(t)&&e.push(t)}),e}const Ok=({children:n,custom:e,initial:t=!0,onExitComplete:r,exitBeforeEnter:i,presenceAffectsLayout:s=!0,mode:o="sync"})=>{const a=I.useContext(VP).forceRender||iW()[0],l=rF(),c=uW(n);let u=c;const d=I.useRef(new Map).current,p=I.useRef(u),f=I.useRef(new Map).current,y=I.useRef(!0);if(jP(()=>{y.current=!1,cW(c,f),p.current=u}),lW(()=>{y.current=!0,f.clear(),d.clear()}),y.current)return I.createElement(I.Fragment,null,u.map(w=>I.createElement(hE,{key:ad(w),isPresent:!0,initial:t?void 0:!1,presenceAffectsLayout:s,mode:o},w)));u=[...u];const g=p.current.map(ad),x=c.map(ad),v=g.length;for(let w=0;w<v;w++){const S=g[w];x.indexOf(S)===-1&&!d.has(S)&&d.set(S,void 0)}return o==="wait"&&d.size&&(u=[]),d.forEach((w,S)=>{if(x.indexOf(S)!==-1)return;const C=f.get(S);if(!C)return;const N=g.indexOf(S);let $=w;if(!$){const R=()=>{d.delete(S);const k=Array.from(f.keys()).filter(W=>!x.includes(W));if(k.forEach(W=>f.delete(W)),p.current=c.filter(W=>{const X=ad(W);return X===S||k.includes(X)}),!d.size){if(l.current===!1)return;a(),r&&r()}};$=I.createElement(hE,{key:ad(C),isPresent:!1,onExitComplete:R,custom:e,presenceAffectsLayout:s,mode:o},C),d.set(S,$)}u.splice(N,0,$)}),u=u.map(w=>{const S=w.key;return d.has(S)?w:I.createElement(hE,{key:ad(w),isPresent:!0,presenceAffectsLayout:s,mode:o},w)}),I.createElement(I.Fragment,null,d.size?u:u.map(w=>I.cloneElement(w)))};var dW={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const hW=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Sn=(n,e)=>{const t=I.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:o,children:a,...l},c)=>I.createElement("svg",{ref:c,...dW,width:i,height:i,stroke:r,strokeWidth:o?Number(s)*24/Number(i):s,className:`lucide lucide-${hW(n)}`,...l},[...e.map(([u,d])=>I.createElement(u,d)),...(Array.isArray(a)?a:[a])||[]]));return t.displayName=`${n}`,t},fW=Sn("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),pW=Sn("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]),mW=Sn("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),iF=Sn("Check",[["polyline",{points:"20 6 9 17 4 12",key:"10jjfj"}]]),sF=Sn("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),gW=Sn("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),vW=Sn("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),ZC=Sn("FileCheck",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]),yW=Sn("FileImage",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["circle",{cx:"10",cy:"13",r:"2",key:"6v46hv"}],["path",{d:"m20 17-1.09-1.09a2 2 0 0 0-2.82 0L10 22",key:"17vly1"}]]),Qo=Sn("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),oF=Sn("FileX",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"9.5",x2:"14.5",y1:"12.5",y2:"17.5",key:"izs6du"}],["line",{x1:"14.5",x2:"9.5",y1:"12.5",y2:"17.5",key:"1lehlj"}]]),bW=Sn("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),wW=Sn("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]),xW=Sn("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),AW=Sn("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]),SW=Sn("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),EW=Sn("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),CW=Sn("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),jk=Sn("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),_W=Sn("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),PW=Sn("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),m1=Sn("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),aF=Sn("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function lF(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var i=n.length;for(e=0;e<i;e++)n[e]&&(t=lF(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function cF(){for(var n,e,t=0,r="",i=arguments.length;t<i;t++)(n=arguments[t])&&(e=lF(n))&&(r&&(r+=" "),r+=e);return r}function NW(){for(var n=0,e,t,r="";n<arguments.length;)(e=arguments[n++])&&(t=uF(e))&&(r&&(r+=" "),r+=t);return r}function uF(n){if(typeof n=="string")return n;for(var e,t="",r=0;r<n.length;r++)n[r]&&(e=uF(n[r]))&&(t&&(t+=" "),t+=e);return t}var oN="-";function TW(n){var e=kW(n),t=n.conflictingClassGroups,r=n.conflictingClassGroupModifiers,i=r===void 0?{}:r;function s(a){var l=a.split(oN);return l[0]===""&&l.length!==1&&l.shift(),dF(l,e)||LW(a)}function o(a,l){var c=t[a]||[];return l&&i[a]?[].concat(c,i[a]):c}return{getClassGroupId:s,getConflictingClassGroupIds:o}}function dF(n,e){var o;if(n.length===0)return e.classGroupId;var t=n[0],r=e.nextPart.get(t),i=r?dF(n.slice(1),r):void 0;if(i)return i;if(e.validators.length!==0){var s=n.join(oN);return(o=e.validators.find(function(a){var l=a.validator;return l(s)}))==null?void 0:o.classGroupId}}var Bk=/^\[(.+)\]$/;function LW(n){if(Bk.test(n)){var e=Bk.exec(n)[1],t=e==null?void 0:e.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}}function kW(n){var e=n.theme,t=n.prefix,r={nextPart:new Map,validators:[]},i=IW(Object.entries(n.classGroups),t);return i.forEach(function(s){var o=s[0],a=s[1];e_(a,r,o,e)}),r}function e_(n,e,t,r){n.forEach(function(i){if(typeof i=="string"){var s=i===""?e:$k(e,i);s.classGroupId=t;return}if(typeof i=="function"){if(RW(i)){e_(i(r),e,t,r);return}e.validators.push({validator:i,classGroupId:t});return}Object.entries(i).forEach(function(o){var a=o[0],l=o[1];e_(l,$k(e,a),t,r)})})}function $k(n,e){var t=n;return e.split(oN).forEach(function(r){t.nextPart.has(r)||t.nextPart.set(r,{nextPart:new Map,validators:[]}),t=t.nextPart.get(r)}),t}function RW(n){return n.isThemeGetter}function IW(n,e){return e?n.map(function(t){var r=t[0],i=t[1],s=i.map(function(o){return typeof o=="string"?e+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(function(a){var l=a[0],c=a[1];return[e+l,c]})):o});return[r,s]}):n}function MW(n){if(n<1)return{get:function(){},set:function(){}};var e=0,t=new Map,r=new Map;function i(s,o){t.set(s,o),e++,e>n&&(e=0,r=t,t=new Map)}return{get:function(o){var a=t.get(o);if(a!==void 0)return a;if((a=r.get(o))!==void 0)return i(o,a),a},set:function(o,a){t.has(o)?t.set(o,a):i(o,a)}}}var hF="!";function FW(n){var e=n.separator||":",t=e.length===1,r=e[0],i=e.length;return function(o){for(var a=[],l=0,c=0,u,d=0;d<o.length;d++){var p=o[d];if(l===0){if(p===r&&(t||o.slice(d,d+i)===e)){a.push(o.slice(c,d)),c=d+i;continue}if(p==="/"){u=d;continue}}p==="["?l++:p==="]"&&l--}var f=a.length===0?o:o.substring(c),y=f.startsWith(hF),g=y?f.substring(1):f,x=u&&u>c?u-c:void 0;return{modifiers:a,hasImportantModifier:y,baseClassName:g,maybePostfixModifierPosition:x}}}function DW(n){if(n.length<=1)return n;var e=[],t=[];return n.forEach(function(r){var i=r[0]==="[";i?(e.push.apply(e,t.sort().concat([r])),t=[]):t.push(r)}),e.push.apply(e,t.sort()),e}function OW(n){return{cache:MW(n.cacheSize),splitModifiers:FW(n),...TW(n)}}var jW=/\s+/;function BW(n,e){var t=e.splitModifiers,r=e.getClassGroupId,i=e.getConflictingClassGroupIds,s=new Set;return n.trim().split(jW).map(function(o){var a=t(o),l=a.modifiers,c=a.hasImportantModifier,u=a.baseClassName,d=a.maybePostfixModifierPosition,p=r(d?u.substring(0,d):u),f=!!d;if(!p){if(!d)return{isTailwindClass:!1,originalClassName:o};if(p=r(u),!p)return{isTailwindClass:!1,originalClassName:o};f=!1}var y=DW(l).join(":"),g=c?y+hF:y;return{isTailwindClass:!0,modifierId:g,classGroupId:p,originalClassName:o,hasPostfixModifier:f}}).reverse().filter(function(o){if(!o.isTailwindClass)return!0;var a=o.modifierId,l=o.classGroupId,c=o.hasPostfixModifier,u=a+l;return s.has(u)?!1:(s.add(u),i(l,c).forEach(function(d){return s.add(a+d)}),!0)}).reverse().map(function(o){return o.originalClassName}).join(" ")}function $W(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];var r,i,s,o=a;function a(c){var u=e[0],d=e.slice(1),p=d.reduce(function(f,y){return y(f)},u());return r=OW(p),i=r.cache.get,s=r.cache.set,o=l,l(c)}function l(c){var u=i(c);if(u)return u;var d=BW(c,r);return s(c,d),d}return function(){return o(NW.apply(null,arguments))}}function rn(n){var e=function(r){return r[n]||[]};return e.isThemeGetter=!0,e}var fF=/^\[(?:([a-z-]+):)?(.+)\]$/i,zW=/^\d+\/\d+$/,VW=new Set(["px","full","screen"]),UW=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,HW=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,qW=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/;function ao(n){return bd(n)||VW.has(n)||zW.test(n)||t_(n)}function t_(n){return af(n,"length",JW)}function WW(n){return af(n,"size",pF)}function GW(n){return af(n,"position",pF)}function XW(n){return af(n,"url",QW)}function $5(n){return af(n,"number",bd)}function bd(n){return!Number.isNaN(Number(n))}function YW(n){return n.endsWith("%")&&bd(n.slice(0,-1))}function E0(n){return zk(n)||af(n,"number",zk)}function Et(n){return fF.test(n)}function C0(){return!0}function hc(n){return UW.test(n)}function KW(n){return af(n,"",ZW)}function af(n,e,t){var r=fF.exec(n);return r?r[1]?r[1]===e:t(r[2]):!1}function JW(n){return HW.test(n)}function pF(){return!1}function QW(n){return n.startsWith("url(")}function zk(n){return Number.isInteger(Number(n))}function ZW(n){return qW.test(n)}function eG(){var n=rn("colors"),e=rn("spacing"),t=rn("blur"),r=rn("brightness"),i=rn("borderColor"),s=rn("borderRadius"),o=rn("borderSpacing"),a=rn("borderWidth"),l=rn("contrast"),c=rn("grayscale"),u=rn("hueRotate"),d=rn("invert"),p=rn("gap"),f=rn("gradientColorStops"),y=rn("gradientColorStopPositions"),g=rn("inset"),x=rn("margin"),v=rn("opacity"),w=rn("padding"),S=rn("saturate"),C=rn("scale"),N=rn("sepia"),$=rn("skew"),R=rn("space"),k=rn("translate"),W=function(){return["auto","contain","none"]},X=function(){return["auto","hidden","clip","visible","scroll"]},M=function(){return["auto",Et,e]},j=function(){return[Et,e]},K=function(){return["",ao]},U=function(){return["auto",bd,Et]},le=function(){return["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"]},Q=function(){return["solid","dashed","dotted","double","none"]},ne=function(){return["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"]},Y=function(){return["start","end","center","between","around","evenly","stretch"]},se=function(){return["","0",Et]},de=function(){return["auto","avoid","all","avoid-page","page","left","right","column"]},be=function(){return[bd,$5]},D=function(){return[bd,Et]};return{cacheSize:500,theme:{colors:[C0],spacing:[ao],blur:["none","",hc,Et],brightness:be(),borderColor:[n],borderRadius:["none","","full",hc,Et],borderSpacing:j(),borderWidth:K(),contrast:be(),grayscale:se(),hueRotate:D(),invert:se(),gap:j(),gradientColorStops:[n],gradientColorStopPositions:[YW,t_],inset:M(),margin:M(),opacity:be(),padding:j(),saturate:be(),scale:be(),sepia:se(),skew:D(),space:j(),translate:j()},classGroups:{aspect:[{aspect:["auto","square","video",Et]}],container:["container"],columns:[{columns:[hc]}],"break-after":[{"break-after":de()}],"break-before":[{"break-before":de()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none"]}],clear:[{clear:["left","right","both","none"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[].concat(le(),[Et])}],overflow:[{overflow:X()}],"overflow-x":[{"overflow-x":X()}],"overflow-y":[{"overflow-y":X()}],overscroll:[{overscroll:W()}],"overscroll-x":[{"overscroll-x":W()}],"overscroll-y":[{"overscroll-y":W()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",E0]}],basis:[{basis:M()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Et]}],grow:[{grow:se()}],shrink:[{shrink:se()}],order:[{order:["first","last","none",E0]}],"grid-cols":[{"grid-cols":[C0]}],"col-start-end":[{col:["auto",{span:["full",E0]},Et]}],"col-start":[{"col-start":U()}],"col-end":[{"col-end":U()}],"grid-rows":[{"grid-rows":[C0]}],"row-start-end":[{row:["auto",{span:[E0]},Et]}],"row-start":[{"row-start":U()}],"row-end":[{"row-end":U()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Et]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Et]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal"].concat(Y())}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal"].concat(Y(),["baseline"])}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[].concat(Y(),["baseline"])}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[w]}],px:[{px:[w]}],py:[{py:[w]}],ps:[{ps:[w]}],pe:[{pe:[w]}],pt:[{pt:[w]}],pr:[{pr:[w]}],pb:[{pb:[w]}],pl:[{pl:[w]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[R]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[R]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit",Et,e]}],"min-w":[{"min-w":["min","max","fit",Et,ao]}],"max-w":[{"max-w":["0","none","full","min","max","fit","prose",{screen:[hc]},hc,Et]}],h:[{h:[Et,e,"auto","min","max","fit"]}],"min-h":[{"min-h":["min","max","fit",Et,ao]}],"max-h":[{"max-h":[Et,e,"min","max","fit"]}],"font-size":[{text:["base",hc,t_]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",$5]}],"font-family":[{font:[C0]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Et]}],"line-clamp":[{"line-clamp":["none",bd,$5]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Et,ao]}],"list-image":[{"list-image":["none",Et]}],"list-style-type":[{list:["none","disc","decimal",Et]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[n]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[n]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[].concat(Q(),["wavy"])}],"text-decoration-thickness":[{decoration:["auto","from-font",ao]}],"underline-offset":[{"underline-offset":["auto",Et,ao]}],"text-decoration-color":[{decoration:[n]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],indent:[{indent:j()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Et]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Et]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[].concat(le(),[GW])}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",WW]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},XW]}],"bg-color":[{bg:[n]}],"gradient-from-pos":[{from:[y]}],"gradient-via-pos":[{via:[y]}],"gradient-to-pos":[{to:[y]}],"gradient-from":[{from:[f]}],"gradient-via":[{via:[f]}],"gradient-to":[{to:[f]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[].concat(Q(),["hidden"])}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:Q()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:[""].concat(Q())}],"outline-offset":[{"outline-offset":[Et,ao]}],"outline-w":[{outline:[ao]}],"outline-color":[{outline:[n]}],"ring-w":[{ring:K()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[n]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[ao]}],"ring-offset-color":[{"ring-offset":[n]}],shadow:[{shadow:["","inner","none",hc,KW]}],"shadow-color":[{shadow:[C0]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":ne()}],"bg-blend":[{"bg-blend":ne()}],filter:[{filter:["","none"]}],blur:[{blur:[t]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",hc,Et]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[d]}],saturate:[{saturate:[S]}],sepia:[{sepia:[N]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[t]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[S]}],"backdrop-sepia":[{"backdrop-sepia":[N]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Et]}],duration:[{duration:D()}],ease:[{ease:["linear","in","out","in-out",Et]}],delay:[{delay:D()}],animate:[{animate:["none","spin","ping","pulse","bounce",Et]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[C]}],"scale-x":[{"scale-x":[C]}],"scale-y":[{"scale-y":[C]}],rotate:[{rotate:[E0,Et]}],"translate-x":[{"translate-x":[k]}],"translate-y":[{"translate-y":[k]}],"skew-x":[{"skew-x":[$]}],"skew-y":[{"skew-y":[$]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Et]}],accent:[{accent:["auto",n]}],appearance:["appearance-none"],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Et]}],"caret-color":[{caret:[n]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":j()}],"scroll-mx":[{"scroll-mx":j()}],"scroll-my":[{"scroll-my":j()}],"scroll-ms":[{"scroll-ms":j()}],"scroll-me":[{"scroll-me":j()}],"scroll-mt":[{"scroll-mt":j()}],"scroll-mr":[{"scroll-mr":j()}],"scroll-mb":[{"scroll-mb":j()}],"scroll-ml":[{"scroll-ml":j()}],"scroll-p":[{"scroll-p":j()}],"scroll-px":[{"scroll-px":j()}],"scroll-py":[{"scroll-py":j()}],"scroll-ps":[{"scroll-ps":j()}],"scroll-pe":[{"scroll-pe":j()}],"scroll-pt":[{"scroll-pt":j()}],"scroll-pr":[{"scroll-pr":j()}],"scroll-pb":[{"scroll-pb":j()}],"scroll-pl":[{"scroll-pl":j()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","pinch-zoom","manipulation",{pan:["x","left","right","y","up","down"]}]}],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Et]}],fill:[{fill:[n,"none"]}],"stroke-w":[{stroke:[ao,$5]}],stroke:[{stroke:[n,"none"]}],sr:["sr-only","not-sr-only"]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}var tG=$W(eG);function Wt(...n){return tG(cF(n))}function Vk(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function mF(...n){return e=>{let t=!1;const r=n.map(i=>{const s=Vk(i,e);return!t&&typeof s=="function"&&(t=!0),s});if(t)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():Vk(n[i],null)}}}}function Lu(...n){return I.useCallback(mF(...n),n)}function jw(n){const e=rG(n),t=I.forwardRef((r,i)=>{const{children:s,...o}=r,a=I.Children.toArray(s),l=a.find(sG);if(l){const c=l.props.children,u=a.map(d=>d===l?I.Children.count(c)>1?I.Children.only(null):I.isValidElement(c)?c.props.children:null:d);return T.jsx(e,{...o,ref:i,children:I.isValidElement(c)?I.cloneElement(c,void 0,u):null})}return T.jsx(e,{...o,ref:i,children:s})});return t.displayName=`${n}.Slot`,t}var nG=jw("Slot");function rG(n){const e=I.forwardRef((t,r)=>{const{children:i,...s}=t;if(I.isValidElement(i)){const o=aG(i),a=oG(s,i.props);return i.type!==I.Fragment&&(a.ref=r?mF(r,o):o),I.cloneElement(i,a)}return I.Children.count(i)>1?I.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var iG=Symbol("radix.slottable");function sG(n){return I.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===iG}function oG(n,e){const t={...e};for(const r in e){const i=n[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?t[r]=(...a)=>{const l=s(...a);return i(...a),l}:i&&(t[r]=i):r==="style"?t[r]={...i,...s}:r==="className"&&(t[r]=[i,s].filter(Boolean).join(" "))}return{...n,...t}}function aG(n){var r,i;let e=(r=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(i=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}const Uk=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,Hk=cF,yS=(n,e)=>t=>{var r;if((e==null?void 0:e.variants)==null)return Hk(n,t==null?void 0:t.class,t==null?void 0:t.className);const{variants:i,defaultVariants:s}=e,o=Object.keys(i).map(c=>{const u=t==null?void 0:t[c],d=s==null?void 0:s[c];if(u===null)return null;const p=Uk(u)||Uk(d);return i[c][p]}),a=t&&Object.entries(t).reduce((c,u)=>{let[d,p]=u;return p===void 0||(c[d]=p),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,u)=>{let{class:d,className:p,...f}=u;return Object.entries(f).every(y=>{let[g,x]=y;return Array.isArray(x)?x.includes({...s,...a}[g]):{...s,...a}[g]===x})?[...c,d,p]:c},[]);return Hk(n,o,l,t==null?void 0:t.class,t==null?void 0:t.className)},lG=yS("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Cu=et.forwardRef(({className:n,variant:e,size:t,asChild:r=!1,...i},s)=>{const o=r?nG:"button";return T.jsx(o,{className:Wt(lG({variant:e,size:t,className:n})),ref:s,...i})});Cu.displayName="Button";function In(n,e,{checkForDefaultPrevented:t=!0}={}){return function(i){if(n==null||n(i),t===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function bS(n,e=[]){let t=[];function r(s,o){const a=I.createContext(o),l=t.length;t=[...t,o];const c=d=>{var v;const{scope:p,children:f,...y}=d,g=((v=p==null?void 0:p[n])==null?void 0:v[l])||a,x=I.useMemo(()=>y,Object.values(y));return T.jsx(g.Provider,{value:x,children:f})};c.displayName=s+"Provider";function u(d,p){var g;const f=((g=p==null?void 0:p[n])==null?void 0:g[l])||a,y=I.useContext(f);if(y)return y;if(o!==void 0)return o;throw new Error(`\`${d}\` must be used within \`${s}\``)}return[c,u]}const i=()=>{const s=t.map(o=>I.createContext(o));return function(a){const l=(a==null?void 0:a[n])||s;return I.useMemo(()=>({[`__scope${n}`]:{...a,[n]:l}}),[a,l])}};return i.scopeName=n,[r,cG(i,...e)]}function cG(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const r=n.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const d=l(s)[`__scope${c}`];return{...a,...d}},{});return I.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return t.scopeName=e.scopeName,t}function gF(n){const e=n+"CollectionProvider",[t,r]=bS(e),[i,s]=t(e,{collectionRef:{current:null},itemMap:new Map}),o=g=>{const{scope:x,children:v}=g,w=et.useRef(null),S=et.useRef(new Map).current;return T.jsx(i,{scope:x,itemMap:S,collectionRef:w,children:v})};o.displayName=e;const a=n+"CollectionSlot",l=jw(a),c=et.forwardRef((g,x)=>{const{scope:v,children:w}=g,S=s(a,v),C=Lu(x,S.collectionRef);return T.jsx(l,{ref:C,children:w})});c.displayName=a;const u=n+"CollectionItemSlot",d="data-radix-collection-item",p=jw(u),f=et.forwardRef((g,x)=>{const{scope:v,children:w,...S}=g,C=et.useRef(null),N=Lu(x,C),$=s(u,v);return et.useEffect(()=>($.itemMap.set(C,{ref:C,...S}),()=>void $.itemMap.delete(C))),T.jsx(p,{[d]:"",ref:N,children:w})});f.displayName=u;function y(g){const x=s(n+"CollectionConsumer",g);return et.useCallback(()=>{const w=x.collectionRef.current;if(!w)return[];const S=Array.from(w.querySelectorAll(`[${d}]`));return Array.from(x.itemMap.values()).sort(($,R)=>S.indexOf($.ref.current)-S.indexOf(R.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:o,Slot:c,ItemSlot:f},y,r]}var uG=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Br=uG.reduce((n,e)=>{const t=jw(`Primitive.${e}`),r=I.forwardRef((i,s)=>{const{asChild:o,...a}=i,l=o?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),T.jsx(l,{...a,ref:s})});return r.displayName=`Primitive.${e}`,{...n,[e]:r}},{});function vF(n,e){n&&zu.flushSync(()=>n.dispatchEvent(e))}function ku(n){const e=I.useRef(n);return I.useEffect(()=>{e.current=n}),I.useMemo(()=>(...t)=>{var r;return(r=e.current)==null?void 0:r.call(e,...t)},[])}function dG(n,e=globalThis==null?void 0:globalThis.document){const t=ku(n);I.useEffect(()=>{const r=i=>{i.key==="Escape"&&t(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[t,e])}var hG="DismissableLayer",n_="dismissableLayer.update",fG="dismissableLayer.pointerDownOutside",pG="dismissableLayer.focusOutside",qk,yF=I.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),bF=I.forwardRef((n,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:a,...l}=n,c=I.useContext(yF),[u,d]=I.useState(null),p=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,f]=I.useState({}),y=Lu(e,R=>d(R)),g=Array.from(c.layers),[x]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),v=g.indexOf(x),w=u?g.indexOf(u):-1,S=c.layersWithOutsidePointerEventsDisabled.size>0,C=w>=v,N=gG(R=>{const k=R.target,W=[...c.branches].some(X=>X.contains(k));!C||W||(i==null||i(R),o==null||o(R),R.defaultPrevented||a==null||a())},p),$=vG(R=>{const k=R.target;[...c.branches].some(X=>X.contains(k))||(s==null||s(R),o==null||o(R),R.defaultPrevented||a==null||a())},p);return dG(R=>{w===c.layers.size-1&&(r==null||r(R),!R.defaultPrevented&&a&&(R.preventDefault(),a()))},p),I.useEffect(()=>{if(u)return t&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(qk=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),Wk(),()=>{t&&c.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=qk)}},[u,p,t,c]),I.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),Wk())},[u,c]),I.useEffect(()=>{const R=()=>f({});return document.addEventListener(n_,R),()=>document.removeEventListener(n_,R)},[]),T.jsx(Br.div,{...l,ref:y,style:{pointerEvents:S?C?"auto":"none":void 0,...n.style},onFocusCapture:In(n.onFocusCapture,$.onFocusCapture),onBlurCapture:In(n.onBlurCapture,$.onBlurCapture),onPointerDownCapture:In(n.onPointerDownCapture,N.onPointerDownCapture)})});bF.displayName=hG;var mG="DismissableLayerBranch",wF=I.forwardRef((n,e)=>{const t=I.useContext(yF),r=I.useRef(null),i=Lu(e,r);return I.useEffect(()=>{const s=r.current;if(s)return t.branches.add(s),()=>{t.branches.delete(s)}},[t.branches]),T.jsx(Br.div,{...n,ref:i})});wF.displayName=mG;function gG(n,e=globalThis==null?void 0:globalThis.document){const t=ku(n),r=I.useRef(!1),i=I.useRef(()=>{});return I.useEffect(()=>{const s=a=>{if(a.target&&!r.current){let l=function(){xF(fG,t,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=l,e.addEventListener("click",i.current,{once:!0})):l()}else e.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,t]),{onPointerDownCapture:()=>r.current=!0}}function vG(n,e=globalThis==null?void 0:globalThis.document){const t=ku(n),r=I.useRef(!1);return I.useEffect(()=>{const i=s=>{s.target&&!r.current&&xF(pG,t,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,t]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Wk(){const n=new CustomEvent(n_);document.dispatchEvent(n)}function xF(n,e,t,{discrete:r}){const i=t.originalEvent.target,s=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:t});e&&i.addEventListener(n,e,{once:!0}),r?vF(i,s):i.dispatchEvent(s)}var yG=bF,bG=wF,Cg=globalThis!=null&&globalThis.document?I.useLayoutEffect:()=>{},wG="Portal",AF=I.forwardRef((n,e)=>{var a;const{container:t,...r}=n,[i,s]=I.useState(!1);Cg(()=>s(!0),[]);const o=t||i&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?PM.createPortal(T.jsx(Br.div,{...r,ref:e}),o):null});AF.displayName=wG;function xG(n,e){return I.useReducer((t,r)=>e[t][r]??t,n)}var aN=n=>{const{present:e,children:t}=n,r=AG(e),i=typeof t=="function"?t({present:r.isPresent}):I.Children.only(t),s=Lu(r.ref,SG(i));return typeof t=="function"||r.isPresent?I.cloneElement(i,{ref:s}):null};aN.displayName="Presence";function AG(n){const[e,t]=I.useState(),r=I.useRef(null),i=I.useRef(n),s=I.useRef("none"),o=n?"mounted":"unmounted",[a,l]=xG(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return I.useEffect(()=>{const c=z5(r.current);s.current=a==="mounted"?c:"none"},[a]),Cg(()=>{const c=r.current,u=i.current;if(u!==n){const p=s.current,f=z5(c);n?l("MOUNT"):f==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(u&&p!==f?"ANIMATION_OUT":"UNMOUNT"),i.current=n}},[n,l]),Cg(()=>{if(e){let c;const u=e.ownerDocument.defaultView??window,d=f=>{const g=z5(r.current).includes(f.animationName);if(f.target===e&&g&&(l("ANIMATION_END"),!i.current)){const x=e.style.animationFillMode;e.style.animationFillMode="forwards",c=u.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=x)})}},p=f=>{f.target===e&&(s.current=z5(r.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",d),e.addEventListener("animationend",d),()=>{u.clearTimeout(c),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",d),e.removeEventListener("animationend",d)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:I.useCallback(c=>{r.current=c?getComputedStyle(c):null,t(c)},[])}}function z5(n){return(n==null?void 0:n.animationName)||"none"}function SG(n){var r,i;let e=(r=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(i=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var EG=G4[" useInsertionEffect ".trim().toString()]||Cg;function lN({prop:n,defaultProp:e,onChange:t=()=>{},caller:r}){const[i,s,o]=CG({defaultProp:e,onChange:t}),a=n!==void 0,l=a?n:i;{const u=I.useRef(n!==void 0);I.useEffect(()=>{const d=u.current;d!==a&&console.warn(`${r} is changing from ${d?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=a},[a,r])}const c=I.useCallback(u=>{var d;if(a){const p=_G(u)?u(n):u;p!==n&&((d=o.current)==null||d.call(o,p))}else s(u)},[a,n,s,o]);return[l,c]}function CG({defaultProp:n,onChange:e}){const[t,r]=I.useState(n),i=I.useRef(t),s=I.useRef(e);return EG(()=>{s.current=e},[e]),I.useEffect(()=>{var o;i.current!==t&&((o=s.current)==null||o.call(s,t),i.current=t)},[t,i]),[t,r,s]}function _G(n){return typeof n=="function"}var PG=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),NG="VisuallyHidden",cN=I.forwardRef((n,e)=>T.jsx(Br.span,{...n,ref:e,style:{...PG,...n.style}}));cN.displayName=NG;var uN="ToastProvider",[dN,TG,LG]=gF("Toast"),[SF,Wee]=bS("Toast",[LG]),[kG,wS]=SF(uN),EF=n=>{const{__scopeToast:e,label:t="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:s=50,children:o}=n,[a,l]=I.useState(null),[c,u]=I.useState(0),d=I.useRef(!1),p=I.useRef(!1);return t.trim()||console.error(`Invalid prop \`label\` supplied to \`${uN}\`. Expected non-empty \`string\`.`),T.jsx(dN.Provider,{scope:e,children:T.jsx(kG,{scope:e,label:t,duration:r,swipeDirection:i,swipeThreshold:s,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:I.useCallback(()=>u(f=>f+1),[]),onToastRemove:I.useCallback(()=>u(f=>f-1),[]),isFocusedToastEscapeKeyDownRef:d,isClosePausedRef:p,children:o})})};EF.displayName=uN;var CF="ToastViewport",RG=["F8"],r_="toast.viewportPause",i_="toast.viewportResume",_F=I.forwardRef((n,e)=>{const{__scopeToast:t,hotkey:r=RG,label:i="Notifications ({hotkey})",...s}=n,o=wS(CF,t),a=TG(t),l=I.useRef(null),c=I.useRef(null),u=I.useRef(null),d=I.useRef(null),p=Lu(e,d,o.onViewportChange),f=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),y=o.toastCount>0;I.useEffect(()=>{const x=v=>{var S;r.length!==0&&r.every(C=>v[C]||v.code===C)&&((S=d.current)==null||S.focus())};return document.addEventListener("keydown",x),()=>document.removeEventListener("keydown",x)},[r]),I.useEffect(()=>{const x=l.current,v=d.current;if(y&&x&&v){const w=()=>{if(!o.isClosePausedRef.current){const $=new CustomEvent(r_);v.dispatchEvent($),o.isClosePausedRef.current=!0}},S=()=>{if(o.isClosePausedRef.current){const $=new CustomEvent(i_);v.dispatchEvent($),o.isClosePausedRef.current=!1}},C=$=>{!x.contains($.relatedTarget)&&S()},N=()=>{x.contains(document.activeElement)||S()};return x.addEventListener("focusin",w),x.addEventListener("focusout",C),x.addEventListener("pointermove",w),x.addEventListener("pointerleave",N),window.addEventListener("blur",w),window.addEventListener("focus",S),()=>{x.removeEventListener("focusin",w),x.removeEventListener("focusout",C),x.removeEventListener("pointermove",w),x.removeEventListener("pointerleave",N),window.removeEventListener("blur",w),window.removeEventListener("focus",S)}}},[y,o.isClosePausedRef]);const g=I.useCallback(({tabbingDirection:x})=>{const w=a().map(S=>{const C=S.ref.current,N=[C,...qG(C)];return x==="forwards"?N:N.reverse()});return(x==="forwards"?w.reverse():w).flat()},[a]);return I.useEffect(()=>{const x=d.current;if(x){const v=w=>{var N,$,R;const S=w.altKey||w.ctrlKey||w.metaKey;if(w.key==="Tab"&&!S){const k=document.activeElement,W=w.shiftKey;if(w.target===x&&W){(N=c.current)==null||N.focus();return}const j=g({tabbingDirection:W?"backwards":"forwards"}),K=j.findIndex(U=>U===k);fE(j.slice(K+1))?w.preventDefault():W?($=c.current)==null||$.focus():(R=u.current)==null||R.focus()}};return x.addEventListener("keydown",v),()=>x.removeEventListener("keydown",v)}},[a,g]),T.jsxs(bG,{ref:l,role:"region","aria-label":i.replace("{hotkey}",f),tabIndex:-1,style:{pointerEvents:y?void 0:"none"},children:[y&&T.jsx(s_,{ref:c,onFocusFromOutsideViewport:()=>{const x=g({tabbingDirection:"forwards"});fE(x)}}),T.jsx(dN.Slot,{scope:t,children:T.jsx(Br.ol,{tabIndex:-1,...s,ref:p})}),y&&T.jsx(s_,{ref:u,onFocusFromOutsideViewport:()=>{const x=g({tabbingDirection:"backwards"});fE(x)}})]})});_F.displayName=CF;var PF="ToastFocusProxy",s_=I.forwardRef((n,e)=>{const{__scopeToast:t,onFocusFromOutsideViewport:r,...i}=n,s=wS(PF,t);return T.jsx(cN,{"aria-hidden":!0,tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:o=>{var c;const a=o.relatedTarget;!((c=s.viewport)!=null&&c.contains(a))&&r()}})});s_.displayName=PF;var w2="Toast",IG="toast.swipeStart",MG="toast.swipeMove",FG="toast.swipeCancel",DG="toast.swipeEnd",NF=I.forwardRef((n,e)=>{const{forceMount:t,open:r,defaultOpen:i,onOpenChange:s,...o}=n,[a,l]=lN({prop:r,defaultProp:i??!0,onChange:s,caller:w2});return T.jsx(aN,{present:t||a,children:T.jsx(BG,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:ku(n.onPause),onResume:ku(n.onResume),onSwipeStart:In(n.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:In(n.onSwipeMove,c=>{const{x:u,y:d}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${d}px`)}),onSwipeCancel:In(n.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:In(n.onSwipeEnd,c=>{const{x:u,y:d}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${d}px`),l(!1)})})})});NF.displayName=w2;var[OG,jG]=SF(w2,{onClose(){}}),BG=I.forwardRef((n,e)=>{const{__scopeToast:t,type:r="foreground",duration:i,open:s,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:u,onSwipeMove:d,onSwipeCancel:p,onSwipeEnd:f,...y}=n,g=wS(w2,t),[x,v]=I.useState(null),w=Lu(e,U=>v(U)),S=I.useRef(null),C=I.useRef(null),N=i||g.duration,$=I.useRef(0),R=I.useRef(N),k=I.useRef(0),{onToastAdd:W,onToastRemove:X}=g,M=ku(()=>{var le;(x==null?void 0:x.contains(document.activeElement))&&((le=g.viewport)==null||le.focus()),o()}),j=I.useCallback(U=>{!U||U===1/0||(window.clearTimeout(k.current),$.current=new Date().getTime(),k.current=window.setTimeout(M,U))},[M]);I.useEffect(()=>{const U=g.viewport;if(U){const le=()=>{j(R.current),c==null||c()},Q=()=>{const ne=new Date().getTime()-$.current;R.current=R.current-ne,window.clearTimeout(k.current),l==null||l()};return U.addEventListener(r_,Q),U.addEventListener(i_,le),()=>{U.removeEventListener(r_,Q),U.removeEventListener(i_,le)}}},[g.viewport,N,l,c,j]),I.useEffect(()=>{s&&!g.isClosePausedRef.current&&j(N)},[s,N,g.isClosePausedRef,j]),I.useEffect(()=>(W(),()=>X()),[W,X]);const K=I.useMemo(()=>x?FF(x):null,[x]);return g.viewport?T.jsxs(T.Fragment,{children:[K&&T.jsx($G,{__scopeToast:t,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:K}),T.jsx(OG,{scope:t,onClose:M,children:zu.createPortal(T.jsx(dN.ItemSlot,{scope:t,children:T.jsx(yG,{asChild:!0,onEscapeKeyDown:In(a,()=>{g.isFocusedToastEscapeKeyDownRef.current||M(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:T.jsx(Br.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":g.swipeDirection,...y,ref:w,style:{userSelect:"none",touchAction:"none",...n.style},onKeyDown:In(n.onKeyDown,U=>{U.key==="Escape"&&(a==null||a(U.nativeEvent),U.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,M()))}),onPointerDown:In(n.onPointerDown,U=>{U.button===0&&(S.current={x:U.clientX,y:U.clientY})}),onPointerMove:In(n.onPointerMove,U=>{if(!S.current)return;const le=U.clientX-S.current.x,Q=U.clientY-S.current.y,ne=!!C.current,Y=["left","right"].includes(g.swipeDirection),se=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,de=Y?se(0,le):0,be=Y?0:se(0,Q),D=U.pointerType==="touch"?10:2,G={x:de,y:be},Z={originalEvent:U,delta:G};ne?(C.current=G,V5(MG,d,Z,{discrete:!1})):Gk(G,g.swipeDirection,D)?(C.current=G,V5(IG,u,Z,{discrete:!1}),U.target.setPointerCapture(U.pointerId)):(Math.abs(le)>D||Math.abs(Q)>D)&&(S.current=null)}),onPointerUp:In(n.onPointerUp,U=>{const le=C.current,Q=U.target;if(Q.hasPointerCapture(U.pointerId)&&Q.releasePointerCapture(U.pointerId),C.current=null,S.current=null,le){const ne=U.currentTarget,Y={originalEvent:U,delta:le};Gk(le,g.swipeDirection,g.swipeThreshold)?V5(DG,f,Y,{discrete:!0}):V5(FG,p,Y,{discrete:!0}),ne.addEventListener("click",se=>se.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),$G=n=>{const{__scopeToast:e,children:t,...r}=n,i=wS(w2,e),[s,o]=I.useState(!1),[a,l]=I.useState(!1);return UG(()=>o(!0)),I.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:T.jsx(AF,{asChild:!0,children:T.jsx(cN,{...r,children:s&&T.jsxs(T.Fragment,{children:[i.label," ",t]})})})},zG="ToastTitle",TF=I.forwardRef((n,e)=>{const{__scopeToast:t,...r}=n;return T.jsx(Br.div,{...r,ref:e})});TF.displayName=zG;var VG="ToastDescription",LF=I.forwardRef((n,e)=>{const{__scopeToast:t,...r}=n;return T.jsx(Br.div,{...r,ref:e})});LF.displayName=VG;var kF="ToastAction",RF=I.forwardRef((n,e)=>{const{altText:t,...r}=n;return t.trim()?T.jsx(MF,{altText:t,asChild:!0,children:T.jsx(hN,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${kF}\`. Expected non-empty \`string\`.`),null)});RF.displayName=kF;var IF="ToastClose",hN=I.forwardRef((n,e)=>{const{__scopeToast:t,...r}=n,i=jG(IF,t);return T.jsx(MF,{asChild:!0,children:T.jsx(Br.button,{type:"button",...r,ref:e,onClick:In(n.onClick,i.onClose)})})});hN.displayName=IF;var MF=I.forwardRef((n,e)=>{const{__scopeToast:t,altText:r,...i}=n;return T.jsx(Br.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:e})});function FF(n){const e=[];return Array.from(n.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),HG(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",s=r.dataset.radixToastAnnounceExclude==="";if(!i)if(s){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...FF(r))}}),e}function V5(n,e,t,{discrete:r}){const i=t.originalEvent.currentTarget,s=new CustomEvent(n,{bubbles:!0,cancelable:!0,detail:t});e&&i.addEventListener(n,e,{once:!0}),r?vF(i,s):i.dispatchEvent(s)}var Gk=(n,e,t=0)=>{const r=Math.abs(n.x),i=Math.abs(n.y),s=r>i;return e==="left"||e==="right"?s&&r>t:!s&&i>t};function UG(n=()=>{}){const e=ku(n);Cg(()=>{let t=0,r=0;return t=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(t),window.cancelAnimationFrame(r)}},[e])}function HG(n){return n.nodeType===n.ELEMENT_NODE}function qG(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function fE(n){const e=document.activeElement;return n.some(t=>t===e?!0:(t.focus(),document.activeElement!==e))}var WG=EF,DF=_F,OF=NF,jF=TF,BF=LF,$F=RF,zF=hN;const GG=WG,VF=et.forwardRef(({className:n,...e},t)=>T.jsx(DF,{ref:t,className:Wt("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",n),...e}));VF.displayName=DF.displayName;const XG=yS("data-[swipe=move]:transition-none group relative pointer-events-auto flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full data-[state=closed]:slide-out-to-right-full",{variants:{variant:{default:"bg-background border",destructive:"group destructive border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),UF=et.forwardRef(({className:n,variant:e,...t},r)=>T.jsx(OF,{ref:r,className:Wt(XG({variant:e}),n),...t}));UF.displayName=OF.displayName;const YG=et.forwardRef(({className:n,...e},t)=>T.jsx($F,{ref:t,className:Wt("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-destructive/30 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",n),...e}));YG.displayName=$F.displayName;const HF=et.forwardRef(({className:n,...e},t)=>T.jsx(zF,{ref:t,className:Wt("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",n),"toast-close":"",...e,children:T.jsx(aF,{className:"h-4 w-4"})}));HF.displayName=zF.displayName;const qF=et.forwardRef(({className:n,...e},t)=>T.jsx(jF,{ref:t,className:Wt("text-sm font-semibold",n),...e}));qF.displayName=jF.displayName;const WF=et.forwardRef(({className:n,...e},t)=>T.jsx(BF,{ref:t,className:Wt("text-sm opacity-90",n),...e}));WF.displayName=BF.displayName;const KG=1;let pE=0;function JG(){return pE=(pE+1)%Number.MAX_VALUE,pE.toString()}const gi={state:{toasts:[]},listeners:[],getState:()=>gi.state,setState:n=>{typeof n=="function"?gi.state=n(gi.state):gi.state={...gi.state,...n},gi.listeners.forEach(e=>e(gi.state))},subscribe:n=>(gi.listeners.push(n),()=>{gi.listeners=gi.listeners.filter(e=>e!==n)})},QG=({...n})=>{const e=JG(),t=i=>gi.setState(s=>({...s,toasts:s.toasts.map(o=>o.id===e?{...o,...i}:o)})),r=()=>gi.setState(i=>({...i,toasts:i.toasts.filter(s=>s.id!==e)}));return gi.setState(i=>({...i,toasts:[{...n,id:e,dismiss:r},...i.toasts].slice(0,KG)})),{id:e,dismiss:r,update:t}};function fN(){const[n,e]=I.useState(gi.getState());return I.useEffect(()=>gi.subscribe(r=>{e(r)}),[]),I.useEffect(()=>{const t=[];return n.toasts.forEach(r=>{if(r.duration===1/0)return;const i=setTimeout(()=>{r.dismiss()},r.duration||5e3);t.push(i)}),()=>{t.forEach(r=>clearTimeout(r))}},[n.toasts]),{toast:QG,toasts:n.toasts}}function ZG(){const{toasts:n}=fN();return T.jsxs(GG,{children:[n.map(({id:e,title:t,description:r,action:i,...s})=>T.jsxs(UF,{...s,children:[T.jsxs("div",{className:"grid gap-1",children:[t&&T.jsx(qF,{children:t}),r&&T.jsx(WF,{children:r})]}),i,T.jsx(HF,{})]},e)),T.jsx(VF,{})]})}const Oi=et.forwardRef(({className:n,...e},t)=>T.jsx("div",{ref:t,className:Wt("rounded-lg border bg-card text-card-foreground shadow-sm",n),...e}));Oi.displayName="Card";const Lo=et.forwardRef(({className:n,...e},t)=>T.jsx("div",{ref:t,className:Wt("flex flex-col space-y-1.5 p-6",n),...e}));Lo.displayName="CardHeader";const ko=et.forwardRef(({className:n,...e},t)=>T.jsx("h3",{ref:t,className:Wt("text-2xl font-semibold leading-none tracking-tight",n),...e}));ko.displayName="CardTitle";const _g=et.forwardRef(({className:n,...e},t)=>T.jsx("p",{ref:t,className:Wt("text-sm text-muted-foreground",n),...e}));_g.displayName="CardDescription";const ji=et.forwardRef(({className:n,...e},t)=>T.jsx("div",{ref:t,className:Wt("p-6 pt-0",n),...e}));ji.displayName="CardContent";const eX=et.forwardRef(({className:n,...e},t)=>T.jsx("div",{ref:t,className:Wt("flex items-center p-6 pt-0",n),...e}));eX.displayName="CardFooter";const tX=yS("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function j1({className:n,variant:e,...t}){return T.jsx("div",{className:Wt(tX({variant:e}),n),...t})}const mE={nomeCompleto:"",dataNascimento:"",nomePai:"",nomeMae:"",sexo:"",estadoCivil:"",nacionalidade:"",naturalidade:"",telefone:"",email:"",endereco:"",cidade:"",estado:"",cep:"",documentos:{rg:{numero:"",dataEmissao:"",orgaoEmissor:"",arquivos:[],observacoes:"",status:"pendente"},cpf:{numero:"",arquivos:[],observacoes:"",status:"pendente"},cnh:{numero:"",categoria:"",validade:"",arquivos:[],observacoes:"",status:"pendente"},tituloEleitor:{numero:"",zona:"",secao:"",arquivos:[],observacoes:"",status:"pendente"},reservista:{arquivos:[],observacoes:"",status:"pendente"},escolaridade:{arquivos:[],observacoes:"",status:"pendente"},comprovanteEndereco:{arquivos:[],observacoes:"",status:"pendente"},certidaoNascimento:{arquivos:[],observacoes:"",status:"pendente"},certidaoCasamento:{arquivos:[],observacoes:"",status:"pendente"},carteiraTrabalhoDigital:{numero:"",arquivos:[],observacoes:"",status:"pendente"}}};function pN(){const[n,e]=I.useState([]),[t,r]=I.useState(mE);return I.useEffect(()=>{const l=localStorage.getItem("bimbo-employees");l&&e(JSON.parse(l))},[]),{employees:n,currentEmployee:t,setCurrentEmployee:r,saveEmployee:l=>{const c={...l,id:Date.now().toString(),createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},u=[...n,c];return e(u),localStorage.setItem("bimbo-employees",JSON.stringify(u)),r(mE),c},updateEmployee:(l,c)=>{const u=n.map(d=>d.id===l?{...c,id:l,updatedAt:new Date().toISOString()}:d);e(u),localStorage.setItem("bimbo-employees",JSON.stringify(u))},deleteEmployee:l=>{const c=n.filter(u=>u.id!==l);e(c),localStorage.setItem("bimbo-employees",JSON.stringify(c))},getEmployeeStats:()=>{const l=n.length,c=n.filter(d=>{const p=d.documentos||{};return Object.values(p).some(f=>f.status==="pendente")}).length,u=l-c;return{total:l,complete:u,incomplete:c}},initialEmployeeData:mE}}function Xk(){const{employees:n,getEmployeeStats:e}=pN(),t=e(),r=n.sort((o,a)=>new Date(a.createdAt)-new Date(o.createdAt)).slice(0,5),i={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},s={hidden:{y:20,opacity:0},visible:{y:0,opacity:1,transition:{duration:.5}}};return T.jsxs(Mr.div,{variants:i,initial:"hidden",animate:"visible",className:"space-y-8",children:[T.jsxs(Mr.div,{variants:s,className:"text-center",children:[T.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Dashboard BIMBO ID+"}),T.jsx("p",{className:"text-gray-600 mt-2",children:"Viso geral do sistema de gerenciamento de colaboradores"})]}),T.jsxs(Mr.div,{variants:s,className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[T.jsxs(Oi,{className:"document-card",children:[T.jsxs(Lo,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[T.jsx(ko,{className:"text-sm font-medium",children:"Total de Colaboradores"}),T.jsx(m1,{className:"h-4 w-4 text-blue-600"})]}),T.jsxs(ji,{children:[T.jsx("div",{className:"text-2xl font-bold text-blue-600",children:t.total}),T.jsx("p",{className:"text-xs text-muted-foreground",children:"Cadastros no sistema"})]})]}),T.jsxs(Oi,{className:"document-card",children:[T.jsxs(Lo,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[T.jsx(ko,{className:"text-sm font-medium",children:"Cadastros Completos"}),T.jsx(ZC,{className:"h-4 w-4 text-green-600"})]}),T.jsxs(ji,{children:[T.jsx("div",{className:"text-2xl font-bold text-green-600",children:t.complete}),T.jsx("p",{className:"text-xs text-muted-foreground",children:"Documentao finalizada"})]})]}),T.jsxs(Oi,{className:"document-card",children:[T.jsxs(Lo,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[T.jsx(ko,{className:"text-sm font-medium",children:"Cadastros Pendentes"}),T.jsx(oF,{className:"h-4 w-4 text-amber-600"})]}),T.jsxs(ji,{children:[T.jsx("div",{className:"text-2xl font-bold text-amber-600",children:t.incomplete}),T.jsx("p",{className:"text-xs text-muted-foreground",children:"Documentao incompleta"})]})]}),T.jsxs(Oi,{className:"document-card",children:[T.jsxs(Lo,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[T.jsx(ko,{className:"text-sm font-medium",children:"Taxa de Concluso"}),T.jsx(jk,{className:"h-4 w-4 text-purple-600"})]}),T.jsxs(ji,{children:[T.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:[t.total>0?Math.round(t.complete/t.total*100):0,"%"]}),T.jsx("p",{className:"text-xs text-muted-foreground",children:"Eficincia do processo"})]})]})]}),T.jsx(Mr.div,{variants:s,children:T.jsxs(Oi,{className:"document-card",children:[T.jsxs(Lo,{children:[T.jsxs(ko,{className:"flex items-center gap-2",children:[T.jsx(mW,{className:"h-5 w-5 text-blue-600"}),"Colaboradores Recentes"]}),T.jsx(_g,{children:"ltimos cadastros realizados no sistema"})]}),T.jsx(ji,{children:r.length===0?T.jsxs("div",{className:"text-center py-8 text-gray-500",children:[T.jsx(m1,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),T.jsx("p",{children:"Nenhum colaborador cadastrado ainda"}),T.jsx("p",{className:"text-sm",children:"Comece criando seu primeiro cadastro!"})]}):T.jsx("div",{className:"space-y-4",children:r.map((o,a)=>{var d;const l=Object.values(o.documentos||{}).filter(p=>p.status==="pendente").length,c=Object.keys(o.documentos||{}).length,u=c-l;return T.jsxs(Mr.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:a*.1},className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[T.jsxs("div",{className:"flex items-center space-x-4",children:[T.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-purple-500 rounded-full flex items-center justify-center text-white font-semibold",children:((d=o.nomeCompleto)==null?void 0:d.charAt(0))||"N"}),T.jsxs("div",{children:[T.jsx("p",{className:"font-medium",children:o.nomeCompleto||"Nome no informado"}),T.jsxs("p",{className:"text-sm text-gray-500",children:[o.cargo||"Cargo no informado","  ",o.setor||"Setor no informado"]})]})]}),T.jsxs("div",{className:"flex items-center space-x-2",children:[T.jsxs(j1,{variant:l===0?"default":"secondary",children:[u,"/",c," docs"]}),T.jsx(j1,{variant:l===0?"default":"outline",className:l===0?"status-completed":"status-pending",children:l===0?"Completo":"Pendente"})]})]},o.id)})})})]})}),T.jsx(Mr.div,{variants:s,children:T.jsxs(Oi,{className:"document-card",children:[T.jsxs(Lo,{children:[T.jsxs(ko,{className:"flex items-center gap-2",children:[T.jsx(pW,{className:"h-5 w-5 text-blue-600"}),"Aes Rpidas"]}),T.jsx(_g,{children:"Funcionalidades principais do sistema"})]}),T.jsx(ji,{children:T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[T.jsxs(Mr.div,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"p-4 bg-gradient-to-br from-blue-50 to-blue-100 rounded-lg cursor-pointer hover:shadow-md transition-all",children:[T.jsx(m1,{className:"h-8 w-8 text-blue-600 mb-2"}),T.jsx("h3",{className:"font-semibold text-blue-900",children:"Novo Cadastro"}),T.jsx("p",{className:"text-sm text-blue-700",children:"Adicionar novo colaborador"})]}),T.jsxs(Mr.div,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"p-4 bg-gradient-to-br from-green-50 to-green-100 rounded-lg cursor-pointer hover:shadow-md transition-all",children:[T.jsx(ZC,{className:"h-8 w-8 text-green-600 mb-2"}),T.jsx("h3",{className:"font-semibold text-green-900",children:"Gerenciar Docs"}),T.jsx("p",{className:"text-sm text-green-700",children:"Visualizar documentao"})]}),T.jsxs(Mr.div,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"p-4 bg-gradient-to-br from-purple-50 to-purple-100 rounded-lg cursor-pointer hover:shadow-md transition-all",children:[T.jsx(jk,{className:"h-8 w-8 text-purple-600 mb-2"}),T.jsx("h3",{className:"font-semibold text-purple-900",children:"Relatrios"}),T.jsx("p",{className:"text-sm text-purple-700",children:"Anlises e estatsticas"})]})]})})]})})]})}const yn=et.forwardRef(({className:n,type:e,...t},r)=>T.jsx("input",{type:e,className:Wt("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",n),ref:r,...t}));yn.displayName="Input";var nX="Label",GF=I.forwardRef((n,e)=>T.jsx(Br.label,{...n,ref:e,onMouseDown:t=>{var i;t.target.closest("button, input, select, textarea")||((i=n.onMouseDown)==null||i.call(n,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));GF.displayName=nX;var XF=GF;const rX=yS("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Kt=et.forwardRef(({className:n,...e},t)=>T.jsx(XF,{ref:t,className:Wt(rX(),n),...e}));Kt.displayName=XF.displayName;function Dt(){return Dt=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Dt.apply(null,arguments)}function Yk(n,[e,t]){return Math.min(t,Math.max(e,n))}function Ar(n,e,{checkForDefaultPrevented:t=!0}={}){return function(i){if(n==null||n(i),t===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function mN(n,e=[]){let t=[];function r(s,o){const a=I.createContext(o),l=t.length;t=[...t,o];function c(d){const{scope:p,children:f,...y}=d,g=(p==null?void 0:p[n][l])||a,x=I.useMemo(()=>y,Object.values(y));return I.createElement(g.Provider,{value:x},f)}function u(d,p){const f=(p==null?void 0:p[n][l])||a,y=I.useContext(f);if(y)return y;if(o!==void 0)return o;throw new Error(`\`${d}\` must be used within \`${s}\``)}return c.displayName=s+"Provider",[c,u]}const i=()=>{const s=t.map(o=>I.createContext(o));return function(a){const l=(a==null?void 0:a[n])||s;return I.useMemo(()=>({[`__scope${n}`]:{...a,[n]:l}}),[a,l])}};return i.scopeName=n,[r,iX(i,...e)]}function iX(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const r=n.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const d=l(s)[`__scope${c}`];return{...a,...d}},{});return I.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return t.scopeName=e.scopeName,t}function sX(n,e){typeof n=="function"?n(e):n!=null&&(n.current=e)}function YF(...n){return e=>n.forEach(t=>sX(t,e))}function si(...n){return I.useCallback(YF(...n),n)}const B1=I.forwardRef((n,e)=>{const{children:t,...r}=n,i=I.Children.toArray(t),s=i.find(aX);if(s){const o=s.props.children,a=i.map(l=>l===s?I.Children.count(o)>1?I.Children.only(null):I.isValidElement(o)?o.props.children:null:l);return I.createElement(o_,Dt({},r,{ref:e}),I.isValidElement(o)?I.cloneElement(o,void 0,a):null)}return I.createElement(o_,Dt({},r,{ref:e}),t)});B1.displayName="Slot";const o_=I.forwardRef((n,e)=>{const{children:t,...r}=n;return I.isValidElement(t)?I.cloneElement(t,{...lX(r,t.props),ref:e?YF(e,t.ref):t.ref}):I.Children.count(t)>1?I.Children.only(null):null});o_.displayName="SlotClone";const oX=({children:n})=>I.createElement(I.Fragment,null,n);function aX(n){return I.isValidElement(n)&&n.type===oX}function lX(n,e){const t={...e};for(const r in e){const i=n[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?t[r]=(...a)=>{s(...a),i(...a)}:i&&(t[r]=i):r==="style"?t[r]={...i,...s}:r==="className"&&(t[r]=[i,s].filter(Boolean).join(" "))}return{...n,...t}}function cX(n){const e=n+"CollectionProvider",[t,r]=mN(e),[i,s]=t(e,{collectionRef:{current:null},itemMap:new Map}),o=f=>{const{scope:y,children:g}=f,x=et.useRef(null),v=et.useRef(new Map).current;return et.createElement(i,{scope:y,itemMap:v,collectionRef:x},g)},a=n+"CollectionSlot",l=et.forwardRef((f,y)=>{const{scope:g,children:x}=f,v=s(a,g),w=si(y,v.collectionRef);return et.createElement(B1,{ref:w},x)}),c=n+"CollectionItemSlot",u="data-radix-collection-item",d=et.forwardRef((f,y)=>{const{scope:g,children:x,...v}=f,w=et.useRef(null),S=si(y,w),C=s(c,g);return et.useEffect(()=>(C.itemMap.set(w,{ref:w,...v}),()=>void C.itemMap.delete(w))),et.createElement(B1,{[u]:"",ref:S},x)});function p(f){const y=s(n+"CollectionConsumer",f);return et.useCallback(()=>{const x=y.collectionRef.current;if(!x)return[];const v=Array.from(x.querySelectorAll(`[${u}]`));return Array.from(y.itemMap.values()).sort((C,N)=>v.indexOf(C.ref.current)-v.indexOf(N.ref.current))},[y.collectionRef,y.itemMap])}return[{Provider:o,Slot:l,ItemSlot:d},p,r]}const uX=I.createContext(void 0);function dX(n){const e=I.useContext(uX);return n||e||"ltr"}const hX=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],$r=hX.reduce((n,e)=>{const t=I.forwardRef((r,i)=>{const{asChild:s,...o}=r,a=s?B1:e;return I.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),I.createElement(a,Dt({},o,{ref:i}))});return t.displayName=`Primitive.${e}`,{...n,[e]:t}},{});function fX(n,e){n&&zu.flushSync(()=>n.dispatchEvent(e))}function Gl(n){const e=I.useRef(n);return I.useEffect(()=>{e.current=n}),I.useMemo(()=>(...t)=>{var r;return(r=e.current)===null||r===void 0?void 0:r.call(e,...t)},[])}function pX(n,e=globalThis==null?void 0:globalThis.document){const t=Gl(n);I.useEffect(()=>{const r=i=>{i.key==="Escape"&&t(i)};return e.addEventListener("keydown",r),()=>e.removeEventListener("keydown",r)},[t,e])}const a_="dismissableLayer.update",mX="dismissableLayer.pointerDownOutside",gX="dismissableLayer.focusOutside";let Kk;const vX=I.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),yX=I.forwardRef((n,e)=>{var t;const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:i,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:a,onDismiss:l,...c}=n,u=I.useContext(vX),[d,p]=I.useState(null),f=(t=d==null?void 0:d.ownerDocument)!==null&&t!==void 0?t:globalThis==null?void 0:globalThis.document,[,y]=I.useState({}),g=si(e,k=>p(k)),x=Array.from(u.layers),[v]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),w=x.indexOf(v),S=d?x.indexOf(d):-1,C=u.layersWithOutsidePointerEventsDisabled.size>0,N=S>=w,$=bX(k=>{const W=k.target,X=[...u.branches].some(M=>M.contains(W));!N||X||(s==null||s(k),a==null||a(k),k.defaultPrevented||l==null||l())},f),R=wX(k=>{const W=k.target;[...u.branches].some(M=>M.contains(W))||(o==null||o(k),a==null||a(k),k.defaultPrevented||l==null||l())},f);return pX(k=>{S===u.layers.size-1&&(i==null||i(k),!k.defaultPrevented&&l&&(k.preventDefault(),l()))},f),I.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(Kk=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),Jk(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=Kk)}},[d,f,r,u]),I.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),Jk())},[d,u]),I.useEffect(()=>{const k=()=>y({});return document.addEventListener(a_,k),()=>document.removeEventListener(a_,k)},[]),I.createElement($r.div,Dt({},c,{ref:g,style:{pointerEvents:C?N?"auto":"none":void 0,...n.style},onFocusCapture:Ar(n.onFocusCapture,R.onFocusCapture),onBlurCapture:Ar(n.onBlurCapture,R.onBlurCapture),onPointerDownCapture:Ar(n.onPointerDownCapture,$.onPointerDownCapture)}))});function bX(n,e=globalThis==null?void 0:globalThis.document){const t=Gl(n),r=I.useRef(!1),i=I.useRef(()=>{});return I.useEffect(()=>{const s=a=>{if(a.target&&!r.current){let c=function(){KF(mX,t,l,{discrete:!0})};const l={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=c,e.addEventListener("click",i.current,{once:!0})):c()}else e.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,t]),{onPointerDownCapture:()=>r.current=!0}}function wX(n,e=globalThis==null?void 0:globalThis.document){const t=Gl(n),r=I.useRef(!1);return I.useEffect(()=>{const i=s=>{s.target&&!r.current&&KF(gX,t,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,t]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Jk(){const n=new CustomEvent(a_);document.dispatchEvent(n)}function KF(n,e,t,{discrete:r}){const i=t.originalEvent.target,s=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:t});e&&i.addEventListener(n,e,{once:!0}),r?fX(i,s):i.dispatchEvent(s)}let gE=0;function xX(){I.useEffect(()=>{var n,e;const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(n=t[0])!==null&&n!==void 0?n:Qk()),document.body.insertAdjacentElement("beforeend",(e=t[1])!==null&&e!==void 0?e:Qk()),gE++,()=>{gE===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(r=>r.remove()),gE--}},[])}function Qk(){const n=document.createElement("span");return n.setAttribute("data-radix-focus-guard",""),n.tabIndex=0,n.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",n}const vE="focusScope.autoFocusOnMount",yE="focusScope.autoFocusOnUnmount",Zk={bubbles:!1,cancelable:!0},AX=I.forwardRef((n,e)=>{const{loop:t=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...o}=n,[a,l]=I.useState(null),c=Gl(i),u=Gl(s),d=I.useRef(null),p=si(e,g=>l(g)),f=I.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;I.useEffect(()=>{if(r){let g=function(S){if(f.paused||!a)return;const C=S.target;a.contains(C)?d.current=C:gc(d.current,{select:!0})},x=function(S){if(f.paused||!a)return;const C=S.relatedTarget;C!==null&&(a.contains(C)||gc(d.current,{select:!0}))},v=function(S){if(document.activeElement===document.body)for(const N of S)N.removedNodes.length>0&&gc(a)};document.addEventListener("focusin",g),document.addEventListener("focusout",x);const w=new MutationObserver(v);return a&&w.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",x),w.disconnect()}}},[r,a,f.paused]),I.useEffect(()=>{if(a){t6.add(f);const g=document.activeElement;if(!a.contains(g)){const v=new CustomEvent(vE,Zk);a.addEventListener(vE,c),a.dispatchEvent(v),v.defaultPrevented||(SX(NX(JF(a)),{select:!0}),document.activeElement===g&&gc(a))}return()=>{a.removeEventListener(vE,c),setTimeout(()=>{const v=new CustomEvent(yE,Zk);a.addEventListener(yE,u),a.dispatchEvent(v),v.defaultPrevented||gc(g??document.body,{select:!0}),a.removeEventListener(yE,u),t6.remove(f)},0)}}},[a,c,u,f]);const y=I.useCallback(g=>{if(!t&&!r||f.paused)return;const x=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,v=document.activeElement;if(x&&v){const w=g.currentTarget,[S,C]=EX(w);S&&C?!g.shiftKey&&v===C?(g.preventDefault(),t&&gc(S,{select:!0})):g.shiftKey&&v===S&&(g.preventDefault(),t&&gc(C,{select:!0})):v===w&&g.preventDefault()}},[t,r,f.paused]);return I.createElement($r.div,Dt({tabIndex:-1},o,{ref:p,onKeyDown:y}))});function SX(n,{select:e=!1}={}){const t=document.activeElement;for(const r of n)if(gc(r,{select:e}),document.activeElement!==t)return}function EX(n){const e=JF(n),t=e6(e,n),r=e6(e.reverse(),n);return[t,r]}function JF(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function e6(n,e){for(const t of n)if(!CX(t,{upTo:e}))return t}function CX(n,{upTo:e}){if(getComputedStyle(n).visibility==="hidden")return!0;for(;n;){if(e!==void 0&&n===e)return!1;if(getComputedStyle(n).display==="none")return!0;n=n.parentElement}return!1}function _X(n){return n instanceof HTMLInputElement&&"select"in n}function gc(n,{select:e=!1}={}){if(n&&n.focus){const t=document.activeElement;n.focus({preventScroll:!0}),n!==t&&_X(n)&&e&&n.select()}}const t6=PX();function PX(){let n=[];return{add(e){const t=n[0];e!==t&&(t==null||t.pause()),n=n6(n,e),n.unshift(e)},remove(e){var t;n=n6(n,e),(t=n[0])===null||t===void 0||t.resume()}}}function n6(n,e){const t=[...n],r=t.indexOf(e);return r!==-1&&t.splice(r,1),t}function NX(n){return n.filter(e=>e.tagName!=="A")}const Xs=globalThis!=null&&globalThis.document?I.useLayoutEffect:()=>{},TX=G4["useId".toString()]||(()=>{});let LX=0;function QF(n){const[e,t]=I.useState(TX());return Xs(()=>{n||t(r=>r??String(LX++))},[n]),n||(e?`radix-${e}`:"")}const kX=["top","right","bottom","left"],Ru=Math.min,ps=Math.max,Bw=Math.round,U5=Math.floor,La=n=>({x:n,y:n}),RX={left:"right",right:"left",bottom:"top",top:"bottom"},IX={start:"end",end:"start"};function l_(n,e,t){return ps(n,Ru(e,t))}function Xl(n,e){return typeof n=="function"?n(e):n}function Yl(n){return n.split("-")[0]}function Ig(n){return n.split("-")[1]}function gN(n){return n==="x"?"y":"x"}function vN(n){return n==="y"?"height":"width"}const MX=new Set(["top","bottom"]);function Ca(n){return MX.has(Yl(n))?"y":"x"}function yN(n){return gN(Ca(n))}function FX(n,e,t){t===void 0&&(t=!1);const r=Ig(n),i=yN(n),s=vN(i);let o=i==="x"?r===(t?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=$w(o)),[o,$w(o)]}function DX(n){const e=$w(n);return[c_(n),e,c_(e)]}function c_(n){return n.replace(/start|end/g,e=>IX[e])}const r6=["left","right"],i6=["right","left"],OX=["top","bottom"],jX=["bottom","top"];function BX(n,e,t){switch(n){case"top":case"bottom":return t?e?i6:r6:e?r6:i6;case"left":case"right":return e?OX:jX;default:return[]}}function $X(n,e,t,r){const i=Ig(n);let s=BX(Yl(n),t==="start",r);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(c_)))),s}function $w(n){return n.replace(/left|right|bottom|top/g,e=>RX[e])}function zX(n){return{top:0,right:0,bottom:0,left:0,...n}}function ZF(n){return typeof n!="number"?zX(n):{top:n,right:n,bottom:n,left:n}}function zw(n){const{x:e,y:t,width:r,height:i}=n;return{width:r,height:i,top:t,left:e,right:e+r,bottom:t+i,x:e,y:t}}function s6(n,e,t){let{reference:r,floating:i}=n;const s=Ca(e),o=yN(e),a=vN(o),l=Yl(e),c=s==="y",u=r.x+r.width/2-i.width/2,d=r.y+r.height/2-i.height/2,p=r[a]/2-i[a]/2;let f;switch(l){case"top":f={x:u,y:r.y-i.height};break;case"bottom":f={x:u,y:r.y+r.height};break;case"right":f={x:r.x+r.width,y:d};break;case"left":f={x:r.x-i.width,y:d};break;default:f={x:r.x,y:r.y}}switch(Ig(e)){case"start":f[o]-=p*(t&&c?-1:1);break;case"end":f[o]+=p*(t&&c?-1:1);break}return f}const VX=async(n,e,t)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=t,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:n,floating:e,strategy:i}),{x:u,y:d}=s6(c,r,l),p=r,f={},y=0;for(let g=0;g<a.length;g++){const{name:x,fn:v}=a[g],{x:w,y:S,data:C,reset:N}=await v({x:u,y:d,initialPlacement:r,placement:p,strategy:i,middlewareData:f,rects:c,platform:o,elements:{reference:n,floating:e}});u=w??u,d=S??d,f={...f,[x]:{...f[x],...C}},N&&y<=50&&(y++,typeof N=="object"&&(N.placement&&(p=N.placement),N.rects&&(c=N.rects===!0?await o.getElementRects({reference:n,floating:e,strategy:i}):N.rects),{x:u,y:d}=s6(c,p,l)),g=-1)}return{x:u,y:d,placement:p,strategy:i,middlewareData:f}};async function $1(n,e){var t;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:l}=n,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:p=!1,padding:f=0}=Xl(e,n),y=ZF(f),x=a[p?d==="floating"?"reference":"floating":d],v=zw(await s.getClippingRect({element:(t=await(s.isElement==null?void 0:s.isElement(x)))==null||t?x:x.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),w=d==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,S=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),C=await(s.isElement==null?void 0:s.isElement(S))?await(s.getScale==null?void 0:s.getScale(S))||{x:1,y:1}:{x:1,y:1},N=zw(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:w,offsetParent:S,strategy:l}):w);return{top:(v.top-N.top+y.top)/C.y,bottom:(N.bottom-v.bottom+y.bottom)/C.y,left:(v.left-N.left+y.left)/C.x,right:(N.right-v.right+y.right)/C.x}}const UX=n=>({name:"arrow",options:n,async fn(e){const{x:t,y:r,placement:i,rects:s,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:u=0}=Xl(n,e)||{};if(c==null)return{};const d=ZF(u),p={x:t,y:r},f=yN(i),y=vN(f),g=await o.getDimensions(c),x=f==="y",v=x?"top":"left",w=x?"bottom":"right",S=x?"clientHeight":"clientWidth",C=s.reference[y]+s.reference[f]-p[f]-s.floating[y],N=p[f]-s.reference[f],$=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let R=$?$[S]:0;(!R||!await(o.isElement==null?void 0:o.isElement($)))&&(R=a.floating[S]||s.floating[y]);const k=C/2-N/2,W=R/2-g[y]/2-1,X=Ru(d[v],W),M=Ru(d[w],W),j=X,K=R-g[y]-M,U=R/2-g[y]/2+k,le=l_(j,U,K),Q=!l.arrow&&Ig(i)!=null&&U!==le&&s.reference[y]/2-(U<j?X:M)-g[y]/2<0,ne=Q?U<j?U-j:U-K:0;return{[f]:p[f]+ne,data:{[f]:le,centerOffset:U-le-ne,...Q&&{alignmentOffset:ne}},reset:Q}}}),HX=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:u=!0,crossAxis:d=!0,fallbackPlacements:p,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:g=!0,...x}=Xl(n,e);if((t=s.arrow)!=null&&t.alignmentOffset)return{};const v=Yl(i),w=Ca(a),S=Yl(a)===a,C=await(l.isRTL==null?void 0:l.isRTL(c.floating)),N=p||(S||!g?[$w(a)]:DX(a)),$=y!=="none";!p&&$&&N.push(...$X(a,g,y,C));const R=[a,...N],k=await $1(e,x),W=[];let X=((r=s.flip)==null?void 0:r.overflows)||[];if(u&&W.push(k[v]),d){const U=FX(i,o,C);W.push(k[U[0]],k[U[1]])}if(X=[...X,{placement:i,overflows:W}],!W.every(U=>U<=0)){var M,j;const U=(((M=s.flip)==null?void 0:M.index)||0)+1,le=R[U];if(le&&(!(d==="alignment"?w!==Ca(le):!1)||X.every(Y=>Y.overflows[0]>0&&Ca(Y.placement)===w)))return{data:{index:U,overflows:X},reset:{placement:le}};let Q=(j=X.filter(ne=>ne.overflows[0]<=0).sort((ne,Y)=>ne.overflows[1]-Y.overflows[1])[0])==null?void 0:j.placement;if(!Q)switch(f){case"bestFit":{var K;const ne=(K=X.filter(Y=>{if($){const se=Ca(Y.placement);return se===w||se==="y"}return!0}).map(Y=>[Y.placement,Y.overflows.filter(se=>se>0).reduce((se,de)=>se+de,0)]).sort((Y,se)=>Y[1]-se[1])[0])==null?void 0:K[0];ne&&(Q=ne);break}case"initialPlacement":Q=a;break}if(i!==Q)return{reset:{placement:Q}}}return{}}}};function o6(n,e){return{top:n.top-e.height,right:n.right-e.width,bottom:n.bottom-e.height,left:n.left-e.width}}function a6(n){return kX.some(e=>n[e]>=0)}const qX=function(n){return n===void 0&&(n={}),{name:"hide",options:n,async fn(e){const{rects:t}=e,{strategy:r="referenceHidden",...i}=Xl(n,e);switch(r){case"referenceHidden":{const s=await $1(e,{...i,elementContext:"reference"}),o=o6(s,t.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:a6(o)}}}case"escaped":{const s=await $1(e,{...i,altBoundary:!0}),o=o6(s,t.floating);return{data:{escapedOffsets:o,escaped:a6(o)}}}default:return{}}}}},eD=new Set(["left","top"]);async function WX(n,e){const{placement:t,platform:r,elements:i}=n,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=Yl(t),a=Ig(t),l=Ca(t)==="y",c=eD.has(o)?-1:1,u=s&&l?-1:1,d=Xl(e,n);let{mainAxis:p,crossAxis:f,alignmentAxis:y}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return a&&typeof y=="number"&&(f=a==="end"?y*-1:y),l?{x:f*u,y:p*c}:{x:p*c,y:f*u}}const GX=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,r;const{x:i,y:s,placement:o,middlewareData:a}=e,l=await WX(e,n);return o===((t=a.offset)==null?void 0:t.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:o}}}}},XX=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:t,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:x=>{let{x:v,y:w}=x;return{x:v,y:w}}},...l}=Xl(n,e),c={x:t,y:r},u=await $1(e,l),d=Ca(Yl(i)),p=gN(d);let f=c[p],y=c[d];if(s){const x=p==="y"?"top":"left",v=p==="y"?"bottom":"right",w=f+u[x],S=f-u[v];f=l_(w,f,S)}if(o){const x=d==="y"?"top":"left",v=d==="y"?"bottom":"right",w=y+u[x],S=y-u[v];y=l_(w,y,S)}const g=a.fn({...e,[p]:f,[d]:y});return{...g,data:{x:g.x-t,y:g.y-r,enabled:{[p]:s,[d]:o}}}}}},YX=function(n){return n===void 0&&(n={}),{options:n,fn(e){const{x:t,y:r,placement:i,rects:s,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=Xl(n,e),u={x:t,y:r},d=Ca(i),p=gN(d);let f=u[p],y=u[d];const g=Xl(a,e),x=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(l){const S=p==="y"?"height":"width",C=s.reference[p]-s.floating[S]+x.mainAxis,N=s.reference[p]+s.reference[S]-x.mainAxis;f<C?f=C:f>N&&(f=N)}if(c){var v,w;const S=p==="y"?"width":"height",C=eD.has(Yl(i)),N=s.reference[d]-s.floating[S]+(C&&((v=o.offset)==null?void 0:v[d])||0)+(C?0:x.crossAxis),$=s.reference[d]+s.reference[S]+(C?0:((w=o.offset)==null?void 0:w[d])||0)-(C?x.crossAxis:0);y<N?y=N:y>$&&(y=$)}return{[p]:f,[d]:y}}}},KX=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(e){var t,r;const{placement:i,rects:s,platform:o,elements:a}=e,{apply:l=()=>{},...c}=Xl(n,e),u=await $1(e,c),d=Yl(i),p=Ig(i),f=Ca(i)==="y",{width:y,height:g}=s.floating;let x,v;d==="top"||d==="bottom"?(x=d,v=p===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(v=d,x=p==="end"?"top":"bottom");const w=g-u.top-u.bottom,S=y-u.left-u.right,C=Ru(g-u[x],w),N=Ru(y-u[v],S),$=!e.middlewareData.shift;let R=C,k=N;if((t=e.middlewareData.shift)!=null&&t.enabled.x&&(k=S),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(R=w),$&&!p){const X=ps(u.left,0),M=ps(u.right,0),j=ps(u.top,0),K=ps(u.bottom,0);f?k=y-2*(X!==0||M!==0?X+M:ps(u.left,u.right)):R=g-2*(j!==0||K!==0?j+K:ps(u.top,u.bottom))}await l({...e,availableWidth:k,availableHeight:R});const W=await o.getDimensions(a.floating);return y!==W.width||g!==W.height?{reset:{rects:!0}}:{}}}};function xS(){return typeof window<"u"}function Mg(n){return tD(n)?(n.nodeName||"").toLowerCase():"#document"}function ys(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function Ma(n){var e;return(e=(tD(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function tD(n){return xS()?n instanceof Node||n instanceof ys(n).Node:!1}function Do(n){return xS()?n instanceof Element||n instanceof ys(n).Element:!1}function Ra(n){return xS()?n instanceof HTMLElement||n instanceof ys(n).HTMLElement:!1}function l6(n){return!xS()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof ys(n).ShadowRoot}const JX=new Set(["inline","contents"]);function x2(n){const{overflow:e,overflowX:t,overflowY:r,display:i}=Oo(n);return/auto|scroll|overlay|hidden|clip/.test(e+r+t)&&!JX.has(i)}const QX=new Set(["table","td","th"]);function ZX(n){return QX.has(Mg(n))}const eY=[":popover-open",":modal"];function AS(n){return eY.some(e=>{try{return n.matches(e)}catch{return!1}})}const tY=["transform","translate","scale","rotate","perspective"],nY=["transform","translate","scale","rotate","perspective","filter"],rY=["paint","layout","strict","content"];function bN(n){const e=wN(),t=Do(n)?Oo(n):n;return tY.some(r=>t[r]?t[r]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||nY.some(r=>(t.willChange||"").includes(r))||rY.some(r=>(t.contain||"").includes(r))}function iY(n){let e=Iu(n);for(;Ra(e)&&!Pg(e);){if(bN(e))return e;if(AS(e))return null;e=Iu(e)}return null}function wN(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const sY=new Set(["html","body","#document"]);function Pg(n){return sY.has(Mg(n))}function Oo(n){return ys(n).getComputedStyle(n)}function SS(n){return Do(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function Iu(n){if(Mg(n)==="html")return n;const e=n.assignedSlot||n.parentNode||l6(n)&&n.host||Ma(n);return l6(e)?e.host:e}function nD(n){const e=Iu(n);return Pg(e)?n.ownerDocument?n.ownerDocument.body:n.body:Ra(e)&&x2(e)?e:nD(e)}function z1(n,e,t){var r;e===void 0&&(e=[]),t===void 0&&(t=!0);const i=nD(n),s=i===((r=n.ownerDocument)==null?void 0:r.body),o=ys(i);if(s){const a=u_(o);return e.concat(o,o.visualViewport||[],x2(i)?i:[],a&&t?z1(a):[])}return e.concat(i,z1(i,[],t))}function u_(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function rD(n){const e=Oo(n);let t=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=Ra(n),s=i?n.offsetWidth:t,o=i?n.offsetHeight:r,a=Bw(t)!==s||Bw(r)!==o;return a&&(t=s,r=o),{width:t,height:r,$:a}}function xN(n){return Do(n)?n:n.contextElement}function kp(n){const e=xN(n);if(!Ra(e))return La(1);const t=e.getBoundingClientRect(),{width:r,height:i,$:s}=rD(e);let o=(s?Bw(t.width):t.width)/r,a=(s?Bw(t.height):t.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const oY=La(0);function iD(n){const e=ys(n);return!wN()||!e.visualViewport?oY:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function aY(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==ys(n)?!1:e}function Qh(n,e,t,r){e===void 0&&(e=!1),t===void 0&&(t=!1);const i=n.getBoundingClientRect(),s=xN(n);let o=La(1);e&&(r?Do(r)&&(o=kp(r)):o=kp(n));const a=aY(s,t,r)?iD(s):La(0);let l=(i.left+a.x)/o.x,c=(i.top+a.y)/o.y,u=i.width/o.x,d=i.height/o.y;if(s){const p=ys(s),f=r&&Do(r)?ys(r):r;let y=p,g=u_(y);for(;g&&r&&f!==y;){const x=kp(g),v=g.getBoundingClientRect(),w=Oo(g),S=v.left+(g.clientLeft+parseFloat(w.paddingLeft))*x.x,C=v.top+(g.clientTop+parseFloat(w.paddingTop))*x.y;l*=x.x,c*=x.y,u*=x.x,d*=x.y,l+=S,c+=C,y=ys(g),g=u_(y)}}return zw({width:u,height:d,x:l,y:c})}function AN(n,e){const t=SS(n).scrollLeft;return e?e.left+t:Qh(Ma(n)).left+t}function sD(n,e,t){t===void 0&&(t=!1);const r=n.getBoundingClientRect(),i=r.left+e.scrollLeft-(t?0:AN(n,r)),s=r.top+e.scrollTop;return{x:i,y:s}}function lY(n){let{elements:e,rect:t,offsetParent:r,strategy:i}=n;const s=i==="fixed",o=Ma(r),a=e?AS(e.floating):!1;if(r===o||a&&s)return t;let l={scrollLeft:0,scrollTop:0},c=La(1);const u=La(0),d=Ra(r);if((d||!d&&!s)&&((Mg(r)!=="body"||x2(o))&&(l=SS(r)),Ra(r))){const f=Qh(r);c=kp(r),u.x=f.x+r.clientLeft,u.y=f.y+r.clientTop}const p=o&&!d&&!s?sD(o,l,!0):La(0);return{width:t.width*c.x,height:t.height*c.y,x:t.x*c.x-l.scrollLeft*c.x+u.x+p.x,y:t.y*c.y-l.scrollTop*c.y+u.y+p.y}}function cY(n){return Array.from(n.getClientRects())}function uY(n){const e=Ma(n),t=SS(n),r=n.ownerDocument.body,i=ps(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=ps(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-t.scrollLeft+AN(n);const a=-t.scrollTop;return Oo(r).direction==="rtl"&&(o+=ps(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}function dY(n,e){const t=ys(n),r=Ma(n),i=t.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;const c=wN();(!c||c&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a,y:l}}const hY=new Set(["absolute","fixed"]);function fY(n,e){const t=Qh(n,!0,e==="fixed"),r=t.top+n.clientTop,i=t.left+n.clientLeft,s=Ra(n)?kp(n):La(1),o=n.clientWidth*s.x,a=n.clientHeight*s.y,l=i*s.x,c=r*s.y;return{width:o,height:a,x:l,y:c}}function c6(n,e,t){let r;if(e==="viewport")r=dY(n,t);else if(e==="document")r=uY(Ma(n));else if(Do(e))r=fY(e,t);else{const i=iD(n);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return zw(r)}function oD(n,e){const t=Iu(n);return t===e||!Do(t)||Pg(t)?!1:Oo(t).position==="fixed"||oD(t,e)}function pY(n,e){const t=e.get(n);if(t)return t;let r=z1(n,[],!1).filter(a=>Do(a)&&Mg(a)!=="body"),i=null;const s=Oo(n).position==="fixed";let o=s?Iu(n):n;for(;Do(o)&&!Pg(o);){const a=Oo(o),l=bN(o);!l&&a.position==="fixed"&&(i=null),(s?!l&&!i:!l&&a.position==="static"&&!!i&&hY.has(i.position)||x2(o)&&!l&&oD(n,o))?r=r.filter(u=>u!==o):i=a,o=Iu(o)}return e.set(n,r),r}function mY(n){let{element:e,boundary:t,rootBoundary:r,strategy:i}=n;const o=[...t==="clippingAncestors"?AS(e)?[]:pY(e,this._c):[].concat(t),r],a=o[0],l=o.reduce((c,u)=>{const d=c6(e,u,i);return c.top=ps(d.top,c.top),c.right=Ru(d.right,c.right),c.bottom=Ru(d.bottom,c.bottom),c.left=ps(d.left,c.left),c},c6(e,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function gY(n){const{width:e,height:t}=rD(n);return{width:e,height:t}}function vY(n,e,t){const r=Ra(e),i=Ma(e),s=t==="fixed",o=Qh(n,!0,s,e);let a={scrollLeft:0,scrollTop:0};const l=La(0);function c(){l.x=AN(i)}if(r||!r&&!s)if((Mg(e)!=="body"||x2(i))&&(a=SS(e)),r){const f=Qh(e,!0,s,e);l.x=f.x+e.clientLeft,l.y=f.y+e.clientTop}else i&&c();s&&!r&&i&&c();const u=i&&!r&&!s?sD(i,a):La(0),d=o.left+a.scrollLeft-l.x-u.x,p=o.top+a.scrollTop-l.y-u.y;return{x:d,y:p,width:o.width,height:o.height}}function bE(n){return Oo(n).position==="static"}function u6(n,e){if(!Ra(n)||Oo(n).position==="fixed")return null;if(e)return e(n);let t=n.offsetParent;return Ma(n)===t&&(t=t.ownerDocument.body),t}function aD(n,e){const t=ys(n);if(AS(n))return t;if(!Ra(n)){let i=Iu(n);for(;i&&!Pg(i);){if(Do(i)&&!bE(i))return i;i=Iu(i)}return t}let r=u6(n,e);for(;r&&ZX(r)&&bE(r);)r=u6(r,e);return r&&Pg(r)&&bE(r)&&!bN(r)?t:r||iY(n)||t}const yY=async function(n){const e=this.getOffsetParent||aD,t=this.getDimensions,r=await t(n.floating);return{reference:vY(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function bY(n){return Oo(n).direction==="rtl"}const wY={convertOffsetParentRelativeRectToViewportRelativeRect:lY,getDocumentElement:Ma,getClippingRect:mY,getOffsetParent:aD,getElementRects:yY,getClientRects:cY,getDimensions:gY,getScale:kp,isElement:Do,isRTL:bY};function lD(n,e){return n.x===e.x&&n.y===e.y&&n.width===e.width&&n.height===e.height}function xY(n,e){let t=null,r;const i=Ma(n);function s(){var a;clearTimeout(r),(a=t)==null||a.disconnect(),t=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const c=n.getBoundingClientRect(),{left:u,top:d,width:p,height:f}=c;if(a||e(),!p||!f)return;const y=U5(d),g=U5(i.clientWidth-(u+p)),x=U5(i.clientHeight-(d+f)),v=U5(u),S={rootMargin:-y+"px "+-g+"px "+-x+"px "+-v+"px",threshold:ps(0,Ru(1,l))||1};let C=!0;function N($){const R=$[0].intersectionRatio;if(R!==l){if(!C)return o();R?o(!1,R):r=setTimeout(()=>{o(!1,1e-7)},1e3)}R===1&&!lD(c,n.getBoundingClientRect())&&o(),C=!1}try{t=new IntersectionObserver(N,{...S,root:i.ownerDocument})}catch{t=new IntersectionObserver(N,S)}t.observe(n)}return o(!0),s}function AY(n,e,t,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=xN(n),u=i||s?[...c?z1(c):[],...z1(e)]:[];u.forEach(v=>{i&&v.addEventListener("scroll",t,{passive:!0}),s&&v.addEventListener("resize",t)});const d=c&&a?xY(c,t):null;let p=-1,f=null;o&&(f=new ResizeObserver(v=>{let[w]=v;w&&w.target===c&&f&&(f.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var S;(S=f)==null||S.observe(e)})),t()}),c&&!l&&f.observe(c),f.observe(e));let y,g=l?Qh(n):null;l&&x();function x(){const v=Qh(n);g&&!lD(g,v)&&t(),g=v,y=requestAnimationFrame(x)}return t(),()=>{var v;u.forEach(w=>{i&&w.removeEventListener("scroll",t),s&&w.removeEventListener("resize",t)}),d==null||d(),(v=f)==null||v.disconnect(),f=null,l&&cancelAnimationFrame(y)}}const SY=GX,EY=XX,CY=HX,_Y=KX,PY=qX,d6=UX,NY=YX,TY=(n,e,t)=>{const r=new Map,i={platform:wY,...t},s={...i.platform,_c:r};return VX(n,e,{...i,platform:s})};var LY=typeof document<"u",kY=function(){},xb=LY?I.useLayoutEffect:kY;function Vw(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,r,i;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(r=t;r--!==0;)if(!Vw(n[r],e[r]))return!1;return!0}if(i=Object.keys(n),t=i.length,t!==Object.keys(e).length)return!1;for(r=t;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=t;r--!==0;){const s=i[r];if(!(s==="_owner"&&n.$$typeof)&&!Vw(n[s],e[s]))return!1}return!0}return n!==n&&e!==e}function cD(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function h6(n,e){const t=cD(n);return Math.round(e*t)/t}function wE(n){const e=I.useRef(n);return xb(()=>{e.current=n}),e}function RY(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=n,[u,d]=I.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[p,f]=I.useState(r);Vw(p,r)||f(r);const[y,g]=I.useState(null),[x,v]=I.useState(null),w=I.useCallback(Y=>{Y!==$.current&&($.current=Y,g(Y))},[]),S=I.useCallback(Y=>{Y!==R.current&&(R.current=Y,v(Y))},[]),C=s||y,N=o||x,$=I.useRef(null),R=I.useRef(null),k=I.useRef(u),W=l!=null,X=wE(l),M=wE(i),j=wE(c),K=I.useCallback(()=>{if(!$.current||!R.current)return;const Y={placement:e,strategy:t,middleware:p};M.current&&(Y.platform=M.current),TY($.current,R.current,Y).then(se=>{const de={...se,isPositioned:j.current!==!1};U.current&&!Vw(k.current,de)&&(k.current=de,zu.flushSync(()=>{d(de)}))})},[p,e,t,M,j]);xb(()=>{c===!1&&k.current.isPositioned&&(k.current.isPositioned=!1,d(Y=>({...Y,isPositioned:!1})))},[c]);const U=I.useRef(!1);xb(()=>(U.current=!0,()=>{U.current=!1}),[]),xb(()=>{if(C&&($.current=C),N&&(R.current=N),C&&N){if(X.current)return X.current(C,N,K);K()}},[C,N,K,X,W]);const le=I.useMemo(()=>({reference:$,floating:R,setReference:w,setFloating:S}),[w,S]),Q=I.useMemo(()=>({reference:C,floating:N}),[C,N]),ne=I.useMemo(()=>{const Y={position:t,left:0,top:0};if(!Q.floating)return Y;const se=h6(Q.floating,u.x),de=h6(Q.floating,u.y);return a?{...Y,transform:"translate("+se+"px, "+de+"px)",...cD(Q.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:se,top:de}},[t,a,Q.floating,u.x,u.y]);return I.useMemo(()=>({...u,update:K,refs:le,elements:Q,floatingStyles:ne}),[u,K,le,Q,ne])}const IY=n=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:n,fn(t){const{element:r,padding:i}=typeof n=="function"?n(t):n;return r&&e(r)?r.current!=null?d6({element:r.current,padding:i}).fn(t):{}:r?d6({element:r,padding:i}).fn(t):{}}}},MY=(n,e)=>({...SY(n),options:[n,e]}),FY=(n,e)=>({...EY(n),options:[n,e]}),DY=(n,e)=>({...NY(n),options:[n,e]}),OY=(n,e)=>({...CY(n),options:[n,e]}),jY=(n,e)=>({..._Y(n),options:[n,e]}),BY=(n,e)=>({...PY(n),options:[n,e]}),$Y=(n,e)=>({...IY(n),options:[n,e]});function zY(n){const[e,t]=I.useState(void 0);return Xs(()=>{if(n){t({width:n.offsetWidth,height:n.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let o,a;if("borderBoxSize"in s){const l=s.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=n.offsetWidth,a=n.offsetHeight;t({width:o,height:a})});return r.observe(n,{box:"border-box"}),()=>r.unobserve(n)}else t(void 0)},[n]),e}const uD="Popper",[dD,hD]=mN(uD),[VY,fD]=dD(uD),UY=n=>{const{__scopePopper:e,children:t}=n,[r,i]=I.useState(null);return I.createElement(VY,{scope:e,anchor:r,onAnchorChange:i},t)},HY="PopperAnchor",qY=I.forwardRef((n,e)=>{const{__scopePopper:t,virtualRef:r,...i}=n,s=fD(HY,t),o=I.useRef(null),a=si(e,o);return I.useEffect(()=>{s.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:I.createElement($r.div,Dt({},i,{ref:a}))}),pD="PopperContent",[WY,Gee]=dD(pD),GY=I.forwardRef((n,e)=>{var t,r,i,s,o,a,l,c;const{__scopePopper:u,side:d="bottom",sideOffset:p=0,align:f="center",alignOffset:y=0,arrowPadding:g=0,avoidCollisions:x=!0,collisionBoundary:v=[],collisionPadding:w=0,sticky:S="partial",hideWhenDetached:C=!1,updatePositionStrategy:N="optimized",onPlaced:$,...R}=n,k=fD(pD,u),[W,X]=I.useState(null),M=si(e,we=>X(we)),[j,K]=I.useState(null),U=zY(j),le=(t=U==null?void 0:U.width)!==null&&t!==void 0?t:0,Q=(r=U==null?void 0:U.height)!==null&&r!==void 0?r:0,ne=d+(f!=="center"?"-"+f:""),Y=typeof w=="number"?w:{top:0,right:0,bottom:0,left:0,...w},se=Array.isArray(v)?v:[v],de=se.length>0,be={padding:Y,boundary:se.filter(XY),altBoundary:de},{refs:D,floatingStyles:G,placement:Z,isPositioned:re,middlewareData:oe}=RY({strategy:"fixed",placement:ne,whileElementsMounted:(...we)=>AY(...we,{animationFrame:N==="always"}),elements:{reference:k.anchor},middleware:[MY({mainAxis:p+Q,alignmentAxis:y}),x&&FY({mainAxis:!0,crossAxis:!1,limiter:S==="partial"?DY():void 0,...be}),x&&OY({...be}),jY({...be,apply:({elements:we,rects:te,availableWidth:nt,availableHeight:Xe})=>{const{width:ke,height:Fe}=te.reference,Oe=we.floating.style;Oe.setProperty("--radix-popper-available-width",`${nt}px`),Oe.setProperty("--radix-popper-available-height",`${Xe}px`),Oe.setProperty("--radix-popper-anchor-width",`${ke}px`),Oe.setProperty("--radix-popper-anchor-height",`${Fe}px`)}}),j&&$Y({element:j,padding:g}),YY({arrowWidth:le,arrowHeight:Q}),C&&BY({strategy:"referenceHidden",...be})]}),[ie,pe]=mD(Z),ge=Gl($);Xs(()=>{re&&(ge==null||ge())},[re,ge]);const Ee=(i=oe.arrow)===null||i===void 0?void 0:i.x,Ae=(s=oe.arrow)===null||s===void 0?void 0:s.y,Ne=((o=oe.arrow)===null||o===void 0?void 0:o.centerOffset)!==0,[Re,qe]=I.useState();return Xs(()=>{W&&qe(window.getComputedStyle(W).zIndex)},[W]),I.createElement("div",{ref:D.setFloating,"data-radix-popper-content-wrapper":"",style:{...G,transform:re?G.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Re,"--radix-popper-transform-origin":[(a=oe.transformOrigin)===null||a===void 0?void 0:a.x,(l=oe.transformOrigin)===null||l===void 0?void 0:l.y].join(" ")},dir:n.dir},I.createElement(WY,{scope:u,placedSide:ie,onArrowChange:K,arrowX:Ee,arrowY:Ae,shouldHideArrow:Ne},I.createElement($r.div,Dt({"data-side":ie,"data-align":pe},R,{ref:M,style:{...R.style,animation:re?void 0:"none",opacity:(c=oe.hide)!==null&&c!==void 0&&c.referenceHidden?0:void 0}}))))});function XY(n){return n!==null}const YY=n=>({name:"transformOrigin",options:n,fn(e){var t,r,i,s,o;const{placement:a,rects:l,middlewareData:c}=e,d=((t=c.arrow)===null||t===void 0?void 0:t.centerOffset)!==0,p=d?0:n.arrowWidth,f=d?0:n.arrowHeight,[y,g]=mD(a),x={start:"0%",center:"50%",end:"100%"}[g],v=((r=(i=c.arrow)===null||i===void 0?void 0:i.x)!==null&&r!==void 0?r:0)+p/2,w=((s=(o=c.arrow)===null||o===void 0?void 0:o.y)!==null&&s!==void 0?s:0)+f/2;let S="",C="";return y==="bottom"?(S=d?x:`${v}px`,C=`${-f}px`):y==="top"?(S=d?x:`${v}px`,C=`${l.floating.height+f}px`):y==="right"?(S=`${-f}px`,C=d?x:`${w}px`):y==="left"&&(S=`${l.floating.width+f}px`,C=d?x:`${w}px`),{data:{x:S,y:C}}}});function mD(n){const[e,t="center"]=n.split("-");return[e,t]}const KY=UY,JY=qY,QY=GY,ZY=I.forwardRef((n,e)=>{var t;const{container:r=globalThis==null||(t=globalThis.document)===null||t===void 0?void 0:t.body,...i}=n;return r?PM.createPortal(I.createElement($r.div,Dt({},i,{ref:e})),r):null});function f6({prop:n,defaultProp:e,onChange:t=()=>{}}){const[r,i]=eK({defaultProp:e,onChange:t}),s=n!==void 0,o=s?n:r,a=Gl(t),l=I.useCallback(c=>{if(s){const d=typeof c=="function"?c(n):c;d!==n&&a(d)}else i(c)},[s,n,i,a]);return[o,l]}function eK({defaultProp:n,onChange:e}){const t=I.useState(n),[r]=t,i=I.useRef(r),s=Gl(e);return I.useEffect(()=>{i.current!==r&&(s(r),i.current=r)},[r,i,s]),t}function tK(n){const e=I.useRef({value:n,previous:n});return I.useMemo(()=>(e.current.value!==n&&(e.current.previous=e.current.value,e.current.value=n),e.current.previous),[n])}const nK=I.forwardRef((n,e)=>I.createElement($r.span,Dt({},n,{ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...n.style}})));var rK=function(n){if(typeof document>"u")return null;var e=Array.isArray(n)?n[0]:n;return e.ownerDocument.body},Hf=new WeakMap,H5=new WeakMap,q5={},xE=0,gD=function(n){return n&&(n.host||gD(n.parentNode))},iK=function(n,e){return e.map(function(t){if(n.contains(t))return t;var r=gD(t);return r&&n.contains(r)?r:(console.error("aria-hidden",t,"in not contained inside",n,". Doing nothing"),null)}).filter(function(t){return!!t})},sK=function(n,e,t,r){var i=iK(e,Array.isArray(n)?n:[n]);q5[t]||(q5[t]=new WeakMap);var s=q5[t],o=[],a=new Set,l=new Set(i),c=function(d){!d||a.has(d)||(a.add(d),c(d.parentNode))};i.forEach(c);var u=function(d){!d||l.has(d)||Array.prototype.forEach.call(d.children,function(p){if(a.has(p))u(p);else try{var f=p.getAttribute(r),y=f!==null&&f!=="false",g=(Hf.get(p)||0)+1,x=(s.get(p)||0)+1;Hf.set(p,g),s.set(p,x),o.push(p),g===1&&y&&H5.set(p,!0),x===1&&p.setAttribute(t,"true"),y||p.setAttribute(r,"true")}catch(v){console.error("aria-hidden: cannot operate on ",p,v)}})};return u(e),a.clear(),xE++,function(){o.forEach(function(d){var p=Hf.get(d)-1,f=s.get(d)-1;Hf.set(d,p),s.set(d,f),p||(H5.has(d)||d.removeAttribute(r),H5.delete(d)),f||d.removeAttribute(t)}),xE--,xE||(Hf=new WeakMap,Hf=new WeakMap,H5=new WeakMap,q5={})}},oK=function(n,e,t){t===void 0&&(t="data-aria-hidden");var r=Array.from(Array.isArray(n)?n:[n]),i=e||rK(n);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live], script"))),sK(r,i,t,"aria-hidden")):function(){return null}},Sa=function(){return Sa=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},Sa.apply(this,arguments)};function vD(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function aK(n,e,t){if(t||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return n.concat(s||Array.prototype.slice.call(e))}var Ab="right-scroll-bar-position",Sb="width-before-scroll-bar",lK="with-scroll-bars-hidden",cK="--removed-body-scroll-bar-size";function AE(n,e){return typeof n=="function"?n(e):n&&(n.current=e),n}function uK(n,e){var t=I.useState(function(){return{value:n,callback:e,facade:{get current(){return t.value},set current(r){var i=t.value;i!==r&&(t.value=r,t.callback(r,i))}}}})[0];return t.callback=e,t.facade}var dK=typeof window<"u"?I.useLayoutEffect:I.useEffect,p6=new WeakMap;function hK(n,e){var t=uK(e||null,function(r){return n.forEach(function(i){return AE(i,r)})});return dK(function(){var r=p6.get(t);if(r){var i=new Set(r),s=new Set(n),o=t.current;i.forEach(function(a){s.has(a)||AE(a,null)}),s.forEach(function(a){i.has(a)||AE(a,o)})}p6.set(t,n)},[n]),t}function fK(n){return n}function pK(n,e){e===void 0&&(e=fK);var t=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return t.length?t[t.length-1]:n},useMedium:function(s){var o=e(s,r);return t.push(o),function(){t=t.filter(function(a){return a!==o})}},assignSyncMedium:function(s){for(r=!0;t.length;){var o=t;t=[],o.forEach(s)}t={push:function(a){return s(a)},filter:function(){return t}}},assignMedium:function(s){r=!0;var o=[];if(t.length){var a=t;t=[],a.forEach(s),o=t}var l=function(){var u=o;o=[],u.forEach(s)},c=function(){return Promise.resolve().then(l)};c(),t={push:function(u){o.push(u),c()},filter:function(u){return o=o.filter(u),t}}}};return i}function mK(n){n===void 0&&(n={});var e=pK(null);return e.options=Sa({async:!0,ssr:!1},n),e}var yD=function(n){var e=n.sideCar,t=vD(n,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return I.createElement(r,Sa({},t))};yD.isSideCarExport=!0;function gK(n,e){return n.useMedium(e),yD}var bD=mK(),SE=function(){},ES=I.forwardRef(function(n,e){var t=I.useRef(null),r=I.useState({onScrollCapture:SE,onWheelCapture:SE,onTouchMoveCapture:SE}),i=r[0],s=r[1],o=n.forwardProps,a=n.children,l=n.className,c=n.removeScrollBar,u=n.enabled,d=n.shards,p=n.sideCar,f=n.noIsolation,y=n.inert,g=n.allowPinchZoom,x=n.as,v=x===void 0?"div":x,w=vD(n,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),S=p,C=hK([t,e]),N=Sa(Sa({},w),i);return I.createElement(I.Fragment,null,u&&I.createElement(S,{sideCar:bD,removeScrollBar:c,shards:d,noIsolation:f,inert:y,setCallbacks:s,allowPinchZoom:!!g,lockRef:t}),o?I.cloneElement(I.Children.only(a),Sa(Sa({},N),{ref:C})):I.createElement(v,Sa({},N,{className:l,ref:C}),a))});ES.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};ES.classNames={fullWidth:Sb,zeroRight:Ab};var m6,vK=function(){if(m6)return m6;if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function yK(){if(!document)return null;var n=document.createElement("style");n.type="text/css";var e=vK();return e&&n.setAttribute("nonce",e),n}function bK(n,e){n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}function wK(n){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(n)}var xK=function(){var n=0,e=null;return{add:function(t){n==0&&(e=yK())&&(bK(e,t),wK(e)),n++},remove:function(){n--,!n&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},AK=function(){var n=xK();return function(e,t){I.useEffect(function(){return n.add(e),function(){n.remove()}},[e&&t])}},wD=function(){var n=AK(),e=function(t){var r=t.styles,i=t.dynamic;return n(r,i),null};return e},SK={left:0,top:0,right:0,gap:0},EE=function(n){return parseInt(n||"",10)||0},EK=function(n){var e=window.getComputedStyle(document.body),t=e[n==="padding"?"paddingLeft":"marginLeft"],r=e[n==="padding"?"paddingTop":"marginTop"],i=e[n==="padding"?"paddingRight":"marginRight"];return[EE(t),EE(r),EE(i)]},CK=function(n){if(n===void 0&&(n="margin"),typeof window>"u")return SK;var e=EK(n),t=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-t+e[2]-e[0])}},_K=wD(),Rp="data-scroll-locked",PK=function(n,e,t,r){var i=n.left,s=n.top,o=n.right,a=n.gap;return t===void 0&&(t="margin"),`
  .`.concat(lK,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(Rp,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),t==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),t==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Ab,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Sb,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Ab," .").concat(Ab,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Sb," .").concat(Sb,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Rp,`] {
    `).concat(cK,": ").concat(a,`px;
  }
`)},g6=function(){var n=parseInt(document.body.getAttribute(Rp)||"0",10);return isFinite(n)?n:0},NK=function(){I.useEffect(function(){return document.body.setAttribute(Rp,(g6()+1).toString()),function(){var n=g6()-1;n<=0?document.body.removeAttribute(Rp):document.body.setAttribute(Rp,n.toString())}},[])},TK=function(n){var e=n.noRelative,t=n.noImportant,r=n.gapMode,i=r===void 0?"margin":r;NK();var s=I.useMemo(function(){return CK(i)},[i]);return I.createElement(_K,{styles:PK(s,!e,i,t?"":"!important")})},d_=!1;if(typeof window<"u")try{var W5=Object.defineProperty({},"passive",{get:function(){return d_=!0,!0}});window.addEventListener("test",W5,W5),window.removeEventListener("test",W5,W5)}catch{d_=!1}var qf=d_?{passive:!1}:!1,LK=function(n){return n.tagName==="TEXTAREA"},xD=function(n,e){var t=window.getComputedStyle(n);return t[e]!=="hidden"&&!(t.overflowY===t.overflowX&&!LK(n)&&t[e]==="visible")},kK=function(n){return xD(n,"overflowY")},RK=function(n){return xD(n,"overflowX")},v6=function(n,e){var t=e;do{typeof ShadowRoot<"u"&&t instanceof ShadowRoot&&(t=t.host);var r=AD(n,t);if(r){var i=SD(n,t),s=i[1],o=i[2];if(s>o)return!0}t=t.parentNode}while(t&&t!==document.body);return!1},IK=function(n){var e=n.scrollTop,t=n.scrollHeight,r=n.clientHeight;return[e,t,r]},MK=function(n){var e=n.scrollLeft,t=n.scrollWidth,r=n.clientWidth;return[e,t,r]},AD=function(n,e){return n==="v"?kK(e):RK(e)},SD=function(n,e){return n==="v"?IK(e):MK(e)},FK=function(n,e){return n==="h"&&e==="rtl"?-1:1},DK=function(n,e,t,r,i){var s=FK(n,window.getComputedStyle(e).direction),o=s*r,a=t.target,l=e.contains(a),c=!1,u=o>0,d=0,p=0;do{var f=SD(n,a),y=f[0],g=f[1],x=f[2],v=g-x-s*y;(y||v)&&AD(n,a)&&(d+=v,p+=y),a=a.parentNode}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(u&&(i&&d===0||!i&&o>d)||!u&&(i&&p===0||!i&&-o>p))&&(c=!0),c},G5=function(n){return"changedTouches"in n?[n.changedTouches[0].clientX,n.changedTouches[0].clientY]:[0,0]},y6=function(n){return[n.deltaX,n.deltaY]},b6=function(n){return n&&"current"in n?n.current:n},OK=function(n,e){return n[0]===e[0]&&n[1]===e[1]},jK=function(n){return`
  .block-interactivity-`.concat(n,` {pointer-events: none;}
  .allow-interactivity-`).concat(n,` {pointer-events: all;}
`)},BK=0,Wf=[];function $K(n){var e=I.useRef([]),t=I.useRef([0,0]),r=I.useRef(),i=I.useState(BK++)[0],s=I.useState(function(){return wD()})[0],o=I.useRef(n);I.useEffect(function(){o.current=n},[n]),I.useEffect(function(){if(n.inert){document.body.classList.add("block-interactivity-".concat(i));var g=aK([n.lockRef.current],(n.shards||[]).map(b6),!0).filter(Boolean);return g.forEach(function(x){return x.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),g.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(i))})}}},[n.inert,n.lockRef.current,n.shards]);var a=I.useCallback(function(g,x){if("touches"in g&&g.touches.length===2)return!o.current.allowPinchZoom;var v=G5(g),w=t.current,S="deltaX"in g?g.deltaX:w[0]-v[0],C="deltaY"in g?g.deltaY:w[1]-v[1],N,$=g.target,R=Math.abs(S)>Math.abs(C)?"h":"v";if("touches"in g&&R==="h"&&$.type==="range")return!1;var k=v6(R,$);if(!k)return!0;if(k?N=R:(N=R==="v"?"h":"v",k=v6(R,$)),!k)return!1;if(!r.current&&"changedTouches"in g&&(S||C)&&(r.current=N),!N)return!0;var W=r.current||N;return DK(W,x,g,W==="h"?S:C,!0)},[]),l=I.useCallback(function(g){var x=g;if(!(!Wf.length||Wf[Wf.length-1]!==s)){var v="deltaY"in x?y6(x):G5(x),w=e.current.filter(function(N){return N.name===x.type&&N.target===x.target&&OK(N.delta,v)})[0];if(w&&w.should){x.cancelable&&x.preventDefault();return}if(!w){var S=(o.current.shards||[]).map(b6).filter(Boolean).filter(function(N){return N.contains(x.target)}),C=S.length>0?a(x,S[0]):!o.current.noIsolation;C&&x.cancelable&&x.preventDefault()}}},[]),c=I.useCallback(function(g,x,v,w){var S={name:g,delta:x,target:v,should:w};e.current.push(S),setTimeout(function(){e.current=e.current.filter(function(C){return C!==S})},1)},[]),u=I.useCallback(function(g){t.current=G5(g),r.current=void 0},[]),d=I.useCallback(function(g){c(g.type,y6(g),g.target,a(g,n.lockRef.current))},[]),p=I.useCallback(function(g){c(g.type,G5(g),g.target,a(g,n.lockRef.current))},[]);I.useEffect(function(){return Wf.push(s),n.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:p}),document.addEventListener("wheel",l,qf),document.addEventListener("touchmove",l,qf),document.addEventListener("touchstart",u,qf),function(){Wf=Wf.filter(function(g){return g!==s}),document.removeEventListener("wheel",l,qf),document.removeEventListener("touchmove",l,qf),document.removeEventListener("touchstart",u,qf)}},[]);var f=n.removeScrollBar,y=n.inert;return I.createElement(I.Fragment,null,y?I.createElement(s,{styles:jK(i)}):null,f?I.createElement(TK,{gapMode:"margin"}):null)}const zK=gK(bD,$K);var ED=I.forwardRef(function(n,e){return I.createElement(ES,Sa({},n,{ref:e,sideCar:zK}))});ED.classNames=ES.classNames;const VK=ED,UK=[" ","Enter","ArrowUp","ArrowDown"],HK=[" ","Enter"],CS="Select",[_S,PS,qK]=cX(CS),[Fg,Xee]=mN(CS,[qK,hD]),SN=hD(),[WK,lf]=Fg(CS),[GK,XK]=Fg(CS),YK=n=>{const{__scopeSelect:e,children:t,open:r,defaultOpen:i,onOpenChange:s,value:o,defaultValue:a,onValueChange:l,dir:c,name:u,autoComplete:d,disabled:p,required:f}=n,y=SN(e),[g,x]=I.useState(null),[v,w]=I.useState(null),[S,C]=I.useState(!1),N=dX(c),[$=!1,R]=f6({prop:r,defaultProp:i,onChange:s}),[k,W]=f6({prop:o,defaultProp:a,onChange:l}),X=I.useRef(null),M=g?!!g.closest("form"):!0,[j,K]=I.useState(new Set),U=Array.from(j).map(le=>le.props.value).join(";");return I.createElement(KY,y,I.createElement(WK,{required:f,scope:e,trigger:g,onTriggerChange:x,valueNode:v,onValueNodeChange:w,valueNodeHasChildren:S,onValueNodeHasChildrenChange:C,contentId:QF(),value:k,onValueChange:W,open:$,onOpenChange:R,dir:N,triggerPointerDownPosRef:X,disabled:p},I.createElement(_S.Provider,{scope:e},I.createElement(GK,{scope:n.__scopeSelect,onNativeOptionAdd:I.useCallback(le=>{K(Q=>new Set(Q).add(le))},[]),onNativeOptionRemove:I.useCallback(le=>{K(Q=>{const ne=new Set(Q);return ne.delete(le),ne})},[])},t)),M?I.createElement(TD,{key:U,"aria-hidden":!0,required:f,tabIndex:-1,name:u,autoComplete:d,value:k,onChange:le=>W(le.target.value),disabled:p},k===void 0?I.createElement("option",{value:""}):null,Array.from(j)):null))},KK="SelectTrigger",JK=I.forwardRef((n,e)=>{const{__scopeSelect:t,disabled:r=!1,...i}=n,s=SN(t),o=lf(KK,t),a=o.disabled||r,l=si(e,o.onTriggerChange),c=PS(t),[u,d,p]=LD(y=>{const g=c().filter(w=>!w.disabled),x=g.find(w=>w.value===o.value),v=kD(g,y,x);v!==void 0&&o.onValueChange(v.value)}),f=()=>{a||(o.onOpenChange(!0),p())};return I.createElement(JY,Dt({asChild:!0},s),I.createElement($r.button,Dt({type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":ND(o.value)?"":void 0},i,{ref:l,onClick:Ar(i.onClick,y=>{y.currentTarget.focus()}),onPointerDown:Ar(i.onPointerDown,y=>{const g=y.target;g.hasPointerCapture(y.pointerId)&&g.releasePointerCapture(y.pointerId),y.button===0&&y.ctrlKey===!1&&(f(),o.triggerPointerDownPosRef.current={x:Math.round(y.pageX),y:Math.round(y.pageY)},y.preventDefault())}),onKeyDown:Ar(i.onKeyDown,y=>{const g=u.current!=="";!(y.ctrlKey||y.altKey||y.metaKey)&&y.key.length===1&&d(y.key),!(g&&y.key===" ")&&UK.includes(y.key)&&(f(),y.preventDefault())})})))}),QK="SelectValue",ZK=I.forwardRef((n,e)=>{const{__scopeSelect:t,className:r,style:i,children:s,placeholder:o="",...a}=n,l=lf(QK,t),{onValueNodeHasChildrenChange:c}=l,u=s!==void 0,d=si(e,l.onValueNodeChange);return Xs(()=>{c(u)},[c,u]),I.createElement($r.span,Dt({},a,{ref:d,style:{pointerEvents:"none"}}),ND(l.value)?I.createElement(I.Fragment,null,o):s)}),eJ=I.forwardRef((n,e)=>{const{__scopeSelect:t,children:r,...i}=n;return I.createElement($r.span,Dt({"aria-hidden":!0},i,{ref:e}),r||"")}),tJ=n=>I.createElement(ZY,Dt({asChild:!0},n)),Ng="SelectContent",nJ=I.forwardRef((n,e)=>{const t=lf(Ng,n.__scopeSelect),[r,i]=I.useState();if(Xs(()=>{i(new DocumentFragment)},[]),!t.open){const s=r;return s?zu.createPortal(I.createElement(CD,{scope:n.__scopeSelect},I.createElement(_S.Slot,{scope:n.__scopeSelect},I.createElement("div",null,n.children))),s):null}return I.createElement(rJ,Dt({},n,{ref:e}))}),Za=10,[CD,cf]=Fg(Ng),rJ=I.forwardRef((n,e)=>{const{__scopeSelect:t,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:s,onPointerDownOutside:o,side:a,sideOffset:l,align:c,alignOffset:u,arrowPadding:d,collisionBoundary:p,collisionPadding:f,sticky:y,hideWhenDetached:g,avoidCollisions:x,...v}=n,w=lf(Ng,t),[S,C]=I.useState(null),[N,$]=I.useState(null),R=si(e,ie=>C(ie)),[k,W]=I.useState(null),[X,M]=I.useState(null),j=PS(t),[K,U]=I.useState(!1),le=I.useRef(!1);I.useEffect(()=>{if(S)return oK(S)},[S]),xX();const Q=I.useCallback(ie=>{const[pe,...ge]=j().map(Ne=>Ne.ref.current),[Ee]=ge.slice(-1),Ae=document.activeElement;for(const Ne of ie)if(Ne===Ae||(Ne==null||Ne.scrollIntoView({block:"nearest"}),Ne===pe&&N&&(N.scrollTop=0),Ne===Ee&&N&&(N.scrollTop=N.scrollHeight),Ne==null||Ne.focus(),document.activeElement!==Ae))return},[j,N]),ne=I.useCallback(()=>Q([k,S]),[Q,k,S]);I.useEffect(()=>{K&&ne()},[K,ne]);const{onOpenChange:Y,triggerPointerDownPosRef:se}=w;I.useEffect(()=>{if(S){let ie={x:0,y:0};const pe=Ee=>{var Ae,Ne,Re,qe;ie={x:Math.abs(Math.round(Ee.pageX)-((Ae=(Ne=se.current)===null||Ne===void 0?void 0:Ne.x)!==null&&Ae!==void 0?Ae:0)),y:Math.abs(Math.round(Ee.pageY)-((Re=(qe=se.current)===null||qe===void 0?void 0:qe.y)!==null&&Re!==void 0?Re:0))}},ge=Ee=>{ie.x<=10&&ie.y<=10?Ee.preventDefault():S.contains(Ee.target)||Y(!1),document.removeEventListener("pointermove",pe),se.current=null};return se.current!==null&&(document.addEventListener("pointermove",pe),document.addEventListener("pointerup",ge,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",pe),document.removeEventListener("pointerup",ge,{capture:!0})}}},[S,Y,se]),I.useEffect(()=>{const ie=()=>Y(!1);return window.addEventListener("blur",ie),window.addEventListener("resize",ie),()=>{window.removeEventListener("blur",ie),window.removeEventListener("resize",ie)}},[Y]);const[de,be]=LD(ie=>{const pe=j().filter(Ae=>!Ae.disabled),ge=pe.find(Ae=>Ae.ref.current===document.activeElement),Ee=kD(pe,ie,ge);Ee&&setTimeout(()=>Ee.ref.current.focus())}),D=I.useCallback((ie,pe,ge)=>{const Ee=!le.current&&!ge;(w.value!==void 0&&w.value===pe||Ee)&&(W(ie),Ee&&(le.current=!0))},[w.value]),G=I.useCallback(()=>S==null?void 0:S.focus(),[S]),Z=I.useCallback((ie,pe,ge)=>{const Ee=!le.current&&!ge;(w.value!==void 0&&w.value===pe||Ee)&&M(ie)},[w.value]),re=r==="popper"?w6:iJ,oe=re===w6?{side:a,sideOffset:l,align:c,alignOffset:u,arrowPadding:d,collisionBoundary:p,collisionPadding:f,sticky:y,hideWhenDetached:g,avoidCollisions:x}:{};return I.createElement(CD,{scope:t,content:S,viewport:N,onViewportChange:$,itemRefCallback:D,selectedItem:k,onItemLeave:G,itemTextRefCallback:Z,focusSelectedItem:ne,selectedItemText:X,position:r,isPositioned:K,searchRef:de},I.createElement(VK,{as:B1,allowPinchZoom:!0},I.createElement(AX,{asChild:!0,trapped:w.open,onMountAutoFocus:ie=>{ie.preventDefault()},onUnmountAutoFocus:Ar(i,ie=>{var pe;(pe=w.trigger)===null||pe===void 0||pe.focus({preventScroll:!0}),ie.preventDefault()})},I.createElement(yX,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:ie=>ie.preventDefault(),onDismiss:()=>w.onOpenChange(!1)},I.createElement(re,Dt({role:"listbox",id:w.contentId,"data-state":w.open?"open":"closed",dir:w.dir,onContextMenu:ie=>ie.preventDefault()},v,oe,{onPlaced:()=>U(!0),ref:R,style:{display:"flex",flexDirection:"column",outline:"none",...v.style},onKeyDown:Ar(v.onKeyDown,ie=>{const pe=ie.ctrlKey||ie.altKey||ie.metaKey;if(ie.key==="Tab"&&ie.preventDefault(),!pe&&ie.key.length===1&&be(ie.key),["ArrowUp","ArrowDown","Home","End"].includes(ie.key)){let Ee=j().filter(Ae=>!Ae.disabled).map(Ae=>Ae.ref.current);if(["ArrowUp","End"].includes(ie.key)&&(Ee=Ee.slice().reverse()),["ArrowUp","ArrowDown"].includes(ie.key)){const Ae=ie.target,Ne=Ee.indexOf(Ae);Ee=Ee.slice(Ne+1)}setTimeout(()=>Q(Ee)),ie.preventDefault()}})}))))))}),iJ=I.forwardRef((n,e)=>{const{__scopeSelect:t,onPlaced:r,...i}=n,s=lf(Ng,t),o=cf(Ng,t),[a,l]=I.useState(null),[c,u]=I.useState(null),d=si(e,R=>u(R)),p=PS(t),f=I.useRef(!1),y=I.useRef(!0),{viewport:g,selectedItem:x,selectedItemText:v,focusSelectedItem:w}=o,S=I.useCallback(()=>{if(s.trigger&&s.valueNode&&a&&c&&g&&x&&v){const R=s.trigger.getBoundingClientRect(),k=c.getBoundingClientRect(),W=s.valueNode.getBoundingClientRect(),X=v.getBoundingClientRect();if(s.dir!=="rtl"){const Ae=X.left-k.left,Ne=W.left-Ae,Re=R.left-Ne,qe=R.width+Re,we=Math.max(qe,k.width),te=window.innerWidth-Za,nt=Yk(Ne,[Za,te-we]);a.style.minWidth=qe+"px",a.style.left=nt+"px"}else{const Ae=k.right-X.right,Ne=window.innerWidth-W.right-Ae,Re=window.innerWidth-R.right-Ne,qe=R.width+Re,we=Math.max(qe,k.width),te=window.innerWidth-Za,nt=Yk(Ne,[Za,te-we]);a.style.minWidth=qe+"px",a.style.right=nt+"px"}const M=p(),j=window.innerHeight-Za*2,K=g.scrollHeight,U=window.getComputedStyle(c),le=parseInt(U.borderTopWidth,10),Q=parseInt(U.paddingTop,10),ne=parseInt(U.borderBottomWidth,10),Y=parseInt(U.paddingBottom,10),se=le+Q+K+Y+ne,de=Math.min(x.offsetHeight*5,se),be=window.getComputedStyle(g),D=parseInt(be.paddingTop,10),G=parseInt(be.paddingBottom,10),Z=R.top+R.height/2-Za,re=j-Z,oe=x.offsetHeight/2,ie=x.offsetTop+oe,pe=le+Q+ie,ge=se-pe;if(pe<=Z){const Ae=x===M[M.length-1].ref.current;a.style.bottom="0px";const Ne=c.clientHeight-g.offsetTop-g.offsetHeight,Re=Math.max(re,oe+(Ae?G:0)+Ne+ne),qe=pe+Re;a.style.height=qe+"px"}else{const Ae=x===M[0].ref.current;a.style.top="0px";const Re=Math.max(Z,le+g.offsetTop+(Ae?D:0)+oe)+ge;a.style.height=Re+"px",g.scrollTop=pe-Z+g.offsetTop}a.style.margin=`${Za}px 0`,a.style.minHeight=de+"px",a.style.maxHeight=j+"px",r==null||r(),requestAnimationFrame(()=>f.current=!0)}},[p,s.trigger,s.valueNode,a,c,g,x,v,s.dir,r]);Xs(()=>S(),[S]);const[C,N]=I.useState();Xs(()=>{c&&N(window.getComputedStyle(c).zIndex)},[c]);const $=I.useCallback(R=>{R&&y.current===!0&&(S(),w==null||w(),y.current=!1)},[S,w]);return I.createElement(sJ,{scope:t,contentWrapper:a,shouldExpandOnScrollRef:f,onScrollButtonChange:$},I.createElement("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:C}},I.createElement($r.div,Dt({},i,{ref:d,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}}))))}),w6=I.forwardRef((n,e)=>{const{__scopeSelect:t,align:r="start",collisionPadding:i=Za,...s}=n,o=SN(t);return I.createElement(QY,Dt({},o,s,{ref:e,align:r,collisionPadding:i,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}}))}),[sJ,EN]=Fg(Ng,{}),x6="SelectViewport",oJ=I.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n,i=cf(x6,t),s=EN(x6,t),o=si(e,i.onViewportChange),a=I.useRef(0);return I.createElement(I.Fragment,null,I.createElement("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"}}),I.createElement(_S.Slot,{scope:t},I.createElement($r.div,Dt({"data-radix-select-viewport":"",role:"presentation"},r,{ref:o,style:{position:"relative",flex:1,overflow:"auto",...r.style},onScroll:Ar(r.onScroll,l=>{const c=l.currentTarget,{contentWrapper:u,shouldExpandOnScrollRef:d}=s;if(d!=null&&d.current&&u){const p=Math.abs(a.current-c.scrollTop);if(p>0){const f=window.innerHeight-Za*2,y=parseFloat(u.style.minHeight),g=parseFloat(u.style.height),x=Math.max(y,g);if(x<f){const v=x+p,w=Math.min(f,v),S=v-w;u.style.height=w+"px",u.style.bottom==="0px"&&(c.scrollTop=S>0?S:0,u.style.justifyContent="flex-end")}}}a.current=c.scrollTop})}))))}),aJ="SelectGroup",[Yee,lJ]=Fg(aJ),cJ="SelectLabel",uJ=I.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n,i=lJ(cJ,t);return I.createElement($r.div,Dt({id:i.id},r,{ref:e}))}),h_="SelectItem",[dJ,_D]=Fg(h_),hJ=I.forwardRef((n,e)=>{const{__scopeSelect:t,value:r,disabled:i=!1,textValue:s,...o}=n,a=lf(h_,t),l=cf(h_,t),c=a.value===r,[u,d]=I.useState(s??""),[p,f]=I.useState(!1),y=si(e,v=>{var w;return(w=l.itemRefCallback)===null||w===void 0?void 0:w.call(l,v,r,i)}),g=QF(),x=()=>{i||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return I.createElement(dJ,{scope:t,value:r,disabled:i,textId:g,isSelected:c,onItemTextChange:I.useCallback(v=>{d(w=>{var S;return w||((S=v==null?void 0:v.textContent)!==null&&S!==void 0?S:"").trim()})},[])},I.createElement(_S.ItemSlot,{scope:t,value:r,disabled:i,textValue:u},I.createElement($r.div,Dt({role:"option","aria-labelledby":g,"data-highlighted":p?"":void 0,"aria-selected":c&&p,"data-state":c?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1},o,{ref:y,onFocus:Ar(o.onFocus,()=>f(!0)),onBlur:Ar(o.onBlur,()=>f(!1)),onPointerUp:Ar(o.onPointerUp,x),onPointerMove:Ar(o.onPointerMove,v=>{if(i){var w;(w=l.onItemLeave)===null||w===void 0||w.call(l)}else v.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ar(o.onPointerLeave,v=>{if(v.currentTarget===document.activeElement){var w;(w=l.onItemLeave)===null||w===void 0||w.call(l)}}),onKeyDown:Ar(o.onKeyDown,v=>{var w;((w=l.searchRef)===null||w===void 0?void 0:w.current)!==""&&v.key===" "||(HK.includes(v.key)&&x(),v.key===" "&&v.preventDefault())})}))))}),X5="SelectItemText",fJ=I.forwardRef((n,e)=>{const{__scopeSelect:t,className:r,style:i,...s}=n,o=lf(X5,t),a=cf(X5,t),l=_D(X5,t),c=XK(X5,t),[u,d]=I.useState(null),p=si(e,v=>d(v),l.onItemTextChange,v=>{var w;return(w=a.itemTextRefCallback)===null||w===void 0?void 0:w.call(a,v,l.value,l.disabled)}),f=u==null?void 0:u.textContent,y=I.useMemo(()=>I.createElement("option",{key:l.value,value:l.value,disabled:l.disabled},f),[l.disabled,l.value,f]),{onNativeOptionAdd:g,onNativeOptionRemove:x}=c;return Xs(()=>(g(y),()=>x(y)),[g,x,y]),I.createElement(I.Fragment,null,I.createElement($r.span,Dt({id:l.textId},s,{ref:p})),l.isSelected&&o.valueNode&&!o.valueNodeHasChildren?zu.createPortal(s.children,o.valueNode):null)}),pJ="SelectItemIndicator",mJ=I.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n;return _D(pJ,t).isSelected?I.createElement($r.span,Dt({"aria-hidden":!0},r,{ref:e})):null}),A6="SelectScrollUpButton",gJ=I.forwardRef((n,e)=>{const t=cf(A6,n.__scopeSelect),r=EN(A6,n.__scopeSelect),[i,s]=I.useState(!1),o=si(e,r.onScrollButtonChange);return Xs(()=>{if(t.viewport&&t.isPositioned){let l=function(){const c=a.scrollTop>0;s(c)};const a=t.viewport;return l(),a.addEventListener("scroll",l),()=>a.removeEventListener("scroll",l)}},[t.viewport,t.isPositioned]),i?I.createElement(PD,Dt({},n,{ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=t;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}})):null}),S6="SelectScrollDownButton",vJ=I.forwardRef((n,e)=>{const t=cf(S6,n.__scopeSelect),r=EN(S6,n.__scopeSelect),[i,s]=I.useState(!1),o=si(e,r.onScrollButtonChange);return Xs(()=>{if(t.viewport&&t.isPositioned){let l=function(){const c=a.scrollHeight-a.clientHeight,u=Math.ceil(a.scrollTop)<c;s(u)};const a=t.viewport;return l(),a.addEventListener("scroll",l),()=>a.removeEventListener("scroll",l)}},[t.viewport,t.isPositioned]),i?I.createElement(PD,Dt({},n,{ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=t;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}})):null}),PD=I.forwardRef((n,e)=>{const{__scopeSelect:t,onAutoScroll:r,...i}=n,s=cf("SelectScrollButton",t),o=I.useRef(null),a=PS(t),l=I.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return I.useEffect(()=>()=>l(),[l]),Xs(()=>{var c;const u=a().find(d=>d.ref.current===document.activeElement);u==null||(c=u.ref.current)===null||c===void 0||c.scrollIntoView({block:"nearest"})},[a]),I.createElement($r.div,Dt({"aria-hidden":!0},i,{ref:e,style:{flexShrink:0,...i.style},onPointerDown:Ar(i.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:Ar(i.onPointerMove,()=>{var c;(c=s.onItemLeave)===null||c===void 0||c.call(s),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:Ar(i.onPointerLeave,()=>{l()})}))}),yJ=I.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n;return I.createElement($r.div,Dt({"aria-hidden":!0},r,{ref:e}))});function ND(n){return n===""||n===void 0}const TD=I.forwardRef((n,e)=>{const{value:t,...r}=n,i=I.useRef(null),s=si(e,i),o=tK(t);return I.useEffect(()=>{const a=i.current,l=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==t&&u){const d=new Event("change",{bubbles:!0});u.call(a,t),a.dispatchEvent(d)}},[o,t]),I.createElement(nK,{asChild:!0},I.createElement("select",Dt({},r,{ref:s,defaultValue:t})))});TD.displayName="BubbleSelect";function LD(n){const e=Gl(n),t=I.useRef(""),r=I.useRef(0),i=I.useCallback(o=>{const a=t.current+o;e(a),function l(c){t.current=c,window.clearTimeout(r.current),c!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(a)},[e]),s=I.useCallback(()=>{t.current="",window.clearTimeout(r.current)},[]);return I.useEffect(()=>()=>window.clearTimeout(r.current),[]),[t,i,s]}function kD(n,e,t){const i=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,s=t?n.indexOf(t):-1;let o=bJ(n,Math.max(s,0));i.length===1&&(o=o.filter(c=>c!==t));const l=o.find(c=>c.textValue.toLowerCase().startsWith(i.toLowerCase()));return l!==t?l:void 0}function bJ(n,e){return n.map((t,r)=>n[(e+r)%n.length])}const wJ=YK,RD=JK,xJ=ZK,AJ=eJ,SJ=tJ,ID=nJ,EJ=oJ,MD=uJ,FD=hJ,CJ=fJ,_J=mJ,DD=gJ,OD=vJ,jD=yJ,Uw=wJ,Hw=xJ,V1=et.forwardRef(({className:n,children:e,...t},r)=>T.jsxs(RD,{ref:r,className:Wt("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",n),...t,children:[e,T.jsx(AJ,{asChild:!0,children:T.jsx(sF,{className:"h-4 w-4 opacity-50"})})]}));V1.displayName=RD.displayName;const BD=et.forwardRef(({className:n,...e},t)=>T.jsx(DD,{ref:t,className:Wt("flex cursor-default items-center justify-center py-1",n),...e,children:T.jsx(gW,{className:"h-4 w-4"})}));BD.displayName=DD.displayName;const $D=et.forwardRef(({className:n,...e},t)=>T.jsx(OD,{ref:t,className:Wt("flex cursor-default items-center justify-center py-1",n),...e,children:T.jsx(sF,{className:"h-4 w-4"})}));$D.displayName=OD.displayName;const U1=et.forwardRef(({className:n,children:e,position:t="popper",...r},i)=>T.jsx(SJ,{children:T.jsxs(ID,{ref:i,className:Wt("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",n),position:t,...r,children:[T.jsx(BD,{}),T.jsx(EJ,{className:Wt("p-1",t==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),T.jsx($D,{})]})}));U1.displayName=ID.displayName;const PJ=et.forwardRef(({className:n,...e},t)=>T.jsx(MD,{ref:t,className:Wt("py-1.5 pl-8 pr-2 text-sm font-semibold",n),...e}));PJ.displayName=MD.displayName;const Bn=et.forwardRef(({className:n,children:e,...t},r)=>T.jsxs(FD,{ref:r,className:Wt("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",n),...t,children:[T.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:T.jsx(_J,{children:T.jsx(iF,{className:"h-4 w-4"})})}),T.jsx(CJ,{children:e})]}));Bn.displayName=FD.displayName;const NJ=et.forwardRef(({className:n,...e},t)=>T.jsx(jD,{ref:t,className:Wt("-mx-1 my-1 h-px bg-muted",n),...e}));NJ.displayName=jD.displayName;const TJ=({employeeData:n,onInputChange:e})=>T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[T.jsxs("div",{className:"space-y-2",children:[T.jsx(Kt,{htmlFor:"nomeCompleto",children:"Nome Completo *"}),T.jsx(yn,{id:"nomeCompleto",value:n.nomeCompleto,onChange:t=>e("nomeCompleto",t.target.value),placeholder:"Digite o nome completo"})]}),T.jsxs("div",{className:"space-y-2",children:[T.jsx(Kt,{htmlFor:"dataNascimento",children:"Data de Nascimento"}),T.jsx(yn,{id:"dataNascimento",type:"date",value:n.dataNascimento,onChange:t=>e("dataNascimento",t.target.value)})]}),T.jsxs("div",{className:"space-y-2",children:[T.jsx(Kt,{htmlFor:"nomePai",children:"Nome do Pai"}),T.jsx(yn,{id:"nomePai",value:n.nomePai,onChange:t=>e("nomePai",t.target.value),placeholder:"Digite o nome do pai"})]}),T.jsxs("div",{className:"space-y-2",children:[T.jsx(Kt,{htmlFor:"nomeMae",children:"Nome da Me"}),T.jsx(yn,{id:"nomeMae",value:n.nomeMae,onChange:t=>e("nomeMae",t.target.value),placeholder:"Digite o nome da me"})]}),T.jsxs("div",{className:"md:col-span-2 space-y-2",children:[" ",T.jsx(Kt,{children:"RG:"})," ",T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[" ",T.jsxs("div",{className:"space-y-2",children:[T.jsx(Kt,{htmlFor:"rgNumero",children:"Nmero"}),T.jsx(yn,{id:"rgNumero",value:n.documentos.rg.numero,onChange:t=>e("documentos",{...n.documentos,rg:{...n.documentos.rg,numero:t.target.value}}),placeholder:"00.000.000-0"})]}),T.jsxs("div",{className:"space-y-2",children:[T.jsx(Kt,{htmlFor:"rgDataEmissao",children:"Data de Emisso"}),T.jsx(yn,{id:"rgDataEmissao",type:"date",value:n.documentos.rg.dataEmissao,onChange:t=>e("documentos",{...n.documentos,rg:{...n.documentos.rg,dataEmissao:t.target.value}})})]}),T.jsxs("div",{className:"space-y-2",children:[T.jsx(Kt,{htmlFor:"rgOrgaoEmissor",children:"rgo Emissor"}),T.jsx(yn,{id:"rgOrgaoEmissor",value:n.documentos.rg.orgaoEmissor,onChange:t=>e("documentos",{...n.documentos,rg:{...n.documentos.rg,orgaoEmissor:t.target.value}}),placeholder:"SSP/SP"})]})]})]})," ",T.jsxs("div",{className:"space-y-2",children:[T.jsx(Kt,{htmlFor:"cpf",children:"CPF"}),T.jsx(yn,{id:"cpf",value:n.documentos.cpf.numero,onChange:t=>e("documentos",{...n.documentos,cpf:{...n.documentos.cpf,numero:t.target.value}}),placeholder:"Digite o nmero do CPF"})]}),T.jsxs("div",{className:"space-y-2",children:[T.jsx(Kt,{htmlFor:"sexo",children:"Sexo"}),T.jsxs(Uw,{value:n.sexo,onValueChange:t=>e("sexo",t),children:[T.jsx(V1,{children:T.jsx(Hw,{placeholder:"Selecione o sexo"})}),T.jsxs(U1,{children:[T.jsx(Bn,{value:"masculino",children:"Masculino"}),T.jsx(Bn,{value:"feminino",children:"Feminino"}),T.jsx(Bn,{value:"outro",children:"Outro"})]})]})]}),T.jsxs("div",{className:"space-y-2",children:[T.jsx(Kt,{htmlFor:"estadoCivil",children:"Estado Civil"}),T.jsxs(Uw,{value:n.estadoCivil,onValueChange:t=>e("estadoCivil",t),children:[T.jsx(V1,{children:T.jsx(Hw,{placeholder:"Selecione o estado civil"})}),T.jsxs(U1,{children:[T.jsx(Bn,{value:"solteiro",children:"Solteiro(a)"}),T.jsx(Bn,{value:"casado",children:"Casado(a)"}),T.jsx(Bn,{value:"divorciado",children:"Divorciado(a)"}),T.jsx(Bn,{value:"viuvo",children:"Vivo(a)"}),T.jsx(Bn,{value:"uniao-estavel",children:"Unio Estvel"})]})]})]}),T.jsxs("div",{className:"space-y-2",children:[T.jsx(Kt,{htmlFor:"nacionalidade",children:"Nacionalidade"}),T.jsx(yn,{id:"nacionalidade",value:n.nacionalidade,onChange:t=>e("nacionalidade",t.target.value),placeholder:"Ex: Brasileira"})]}),T.jsxs("div",{className:"space-y-2",children:[T.jsx(Kt,{htmlFor:"naturalidade",children:"Naturalidade"}),T.jsx(yn,{id:"naturalidade",value:n.naturalidade,onChange:t=>e("naturalidade",t.target.value),placeholder:"Ex: So Paulo, SP"})]}),T.jsxs("div",{className:"space-y-2",children:[T.jsx(Kt,{htmlFor:"telefone",children:"Telefone"}),T.jsx(yn,{id:"telefone",value:n.telefone,onChange:t=>e("telefone",t.target.value),placeholder:"(11) 99999-9999"})]}),T.jsxs("div",{className:"space-y-2",children:[T.jsx(Kt,{htmlFor:"email",children:"E-mail *"}),T.jsx(yn,{id:"email",type:"email",value:n.email,onChange:t=>e("email",t.target.value),placeholder:"email@exemplo.com"})]}),T.jsxs("div",{className:"space-y-2 md:col-span-2",children:[T.jsx(Kt,{htmlFor:"endereco",children:"Endereo Completo"}),T.jsx(yn,{id:"endereco",value:n.endereco,onChange:t=>e("endereco",t.target.value),placeholder:"Rua, nmero, bairro"})]}),T.jsxs("div",{className:"space-y-2",children:[T.jsx(Kt,{htmlFor:"cidade",children:"Cidade"}),T.jsx(yn,{id:"cidade",value:n.cidade,onChange:t=>e("cidade",t.target.value),placeholder:"Nome da cidade"})]}),T.jsxs("div",{className:"space-y-2",children:[T.jsx(Kt,{htmlFor:"estado",children:"Estado"}),T.jsx(yn,{id:"estado",value:n.estado,onChange:t=>e("estado",t.target.value),placeholder:"Ex: SP"})]}),T.jsxs("div",{className:"space-y-2",children:[T.jsx(Kt,{htmlFor:"cep",children:"CEP"}),T.jsx(yn,{id:"cep",value:n.cep,onChange:t=>e("cep",t.target.value),placeholder:"00000-000"})]})]});var LJ=G4[" useId ".trim().toString()]||(()=>{}),kJ=0;function zD(n){const[e,t]=I.useState(LJ());return Cg(()=>{n||t(r=>r??String(kJ++))},[n]),n||(e?`radix-${e}`:"")}var RJ=I.createContext(void 0);function VD(n){const e=I.useContext(RJ);return n||e||"ltr"}var CE="rovingFocusGroup.onEntryFocus",IJ={bubbles:!1,cancelable:!0},A2="RovingFocusGroup",[f_,UD,MJ]=gF(A2),[FJ,HD]=bS(A2,[MJ]),[DJ,OJ]=FJ(A2),qD=I.forwardRef((n,e)=>T.jsx(f_.Provider,{scope:n.__scopeRovingFocusGroup,children:T.jsx(f_.Slot,{scope:n.__scopeRovingFocusGroup,children:T.jsx(jJ,{...n,ref:e})})}));qD.displayName=A2;var jJ=I.forwardRef((n,e)=>{const{__scopeRovingFocusGroup:t,orientation:r,loop:i=!1,dir:s,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:u=!1,...d}=n,p=I.useRef(null),f=Lu(e,p),y=VD(s),[g,x]=lN({prop:o,defaultProp:a??null,onChange:l,caller:A2}),[v,w]=I.useState(!1),S=ku(c),C=UD(t),N=I.useRef(!1),[$,R]=I.useState(0);return I.useEffect(()=>{const k=p.current;if(k)return k.addEventListener(CE,S),()=>k.removeEventListener(CE,S)},[S]),T.jsx(DJ,{scope:t,orientation:r,dir:y,loop:i,currentTabStopId:g,onItemFocus:I.useCallback(k=>x(k),[x]),onItemShiftTab:I.useCallback(()=>w(!0),[]),onFocusableItemAdd:I.useCallback(()=>R(k=>k+1),[]),onFocusableItemRemove:I.useCallback(()=>R(k=>k-1),[]),children:T.jsx(Br.div,{tabIndex:v||$===0?-1:0,"data-orientation":r,...d,ref:f,style:{outline:"none",...n.style},onMouseDown:In(n.onMouseDown,()=>{N.current=!0}),onFocus:In(n.onFocus,k=>{const W=!N.current;if(k.target===k.currentTarget&&W&&!v){const X=new CustomEvent(CE,IJ);if(k.currentTarget.dispatchEvent(X),!X.defaultPrevented){const M=C().filter(Q=>Q.focusable),j=M.find(Q=>Q.active),K=M.find(Q=>Q.id===g),le=[j,K,...M].filter(Boolean).map(Q=>Q.ref.current);XD(le,u)}}N.current=!1}),onBlur:In(n.onBlur,()=>w(!1))})})}),WD="RovingFocusGroupItem",GD=I.forwardRef((n,e)=>{const{__scopeRovingFocusGroup:t,focusable:r=!0,active:i=!1,tabStopId:s,children:o,...a}=n,l=zD(),c=s||l,u=OJ(WD,t),d=u.currentTabStopId===c,p=UD(t),{onFocusableItemAdd:f,onFocusableItemRemove:y,currentTabStopId:g}=u;return I.useEffect(()=>{if(r)return f(),()=>y()},[r,f,y]),T.jsx(f_.ItemSlot,{scope:t,id:c,focusable:r,active:i,children:T.jsx(Br.span,{tabIndex:d?0:-1,"data-orientation":u.orientation,...a,ref:e,onMouseDown:In(n.onMouseDown,x=>{r?u.onItemFocus(c):x.preventDefault()}),onFocus:In(n.onFocus,()=>u.onItemFocus(c)),onKeyDown:In(n.onKeyDown,x=>{if(x.key==="Tab"&&x.shiftKey){u.onItemShiftTab();return}if(x.target!==x.currentTarget)return;const v=zJ(x,u.orientation,u.dir);if(v!==void 0){if(x.metaKey||x.ctrlKey||x.altKey||x.shiftKey)return;x.preventDefault();let S=p().filter(C=>C.focusable).map(C=>C.ref.current);if(v==="last")S.reverse();else if(v==="prev"||v==="next"){v==="prev"&&S.reverse();const C=S.indexOf(x.currentTarget);S=u.loop?VJ(S,C+1):S.slice(C+1)}setTimeout(()=>XD(S))}}),children:typeof o=="function"?o({isCurrentTabStop:d,hasTabStop:g!=null}):o})})});GD.displayName=WD;var BJ={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function $J(n,e){return e!=="rtl"?n:n==="ArrowLeft"?"ArrowRight":n==="ArrowRight"?"ArrowLeft":n}function zJ(n,e,t){const r=$J(n.key,t);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return BJ[r]}function XD(n,e=!1){const t=document.activeElement;for(const r of n)if(r===t||(r.focus({preventScroll:e}),document.activeElement!==t))return}function VJ(n,e){return n.map((t,r)=>n[(e+r)%n.length])}var UJ=qD,HJ=GD,NS="Tabs",[qJ,Kee]=bS(NS,[HD]),YD=HD(),[WJ,CN]=qJ(NS),KD=I.forwardRef((n,e)=>{const{__scopeTabs:t,value:r,onValueChange:i,defaultValue:s,orientation:o="horizontal",dir:a,activationMode:l="automatic",...c}=n,u=VD(a),[d,p]=lN({prop:r,onChange:i,defaultProp:s??"",caller:NS});return T.jsx(WJ,{scope:t,baseId:zD(),value:d,onValueChange:p,orientation:o,dir:u,activationMode:l,children:T.jsx(Br.div,{dir:u,"data-orientation":o,...c,ref:e})})});KD.displayName=NS;var JD="TabsList",QD=I.forwardRef((n,e)=>{const{__scopeTabs:t,loop:r=!0,...i}=n,s=CN(JD,t),o=YD(t);return T.jsx(UJ,{asChild:!0,...o,orientation:s.orientation,dir:s.dir,loop:r,children:T.jsx(Br.div,{role:"tablist","aria-orientation":s.orientation,...i,ref:e})})});QD.displayName=JD;var ZD="TabsTrigger",e7=I.forwardRef((n,e)=>{const{__scopeTabs:t,value:r,disabled:i=!1,...s}=n,o=CN(ZD,t),a=YD(t),l=r7(o.baseId,r),c=i7(o.baseId,r),u=r===o.value;return T.jsx(HJ,{asChild:!0,...a,focusable:!i,active:u,children:T.jsx(Br.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":c,"data-state":u?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:l,...s,ref:e,onMouseDown:In(n.onMouseDown,d=>{!i&&d.button===0&&d.ctrlKey===!1?o.onValueChange(r):d.preventDefault()}),onKeyDown:In(n.onKeyDown,d=>{[" ","Enter"].includes(d.key)&&o.onValueChange(r)}),onFocus:In(n.onFocus,()=>{const d=o.activationMode!=="manual";!u&&!i&&d&&o.onValueChange(r)})})})});e7.displayName=ZD;var t7="TabsContent",n7=I.forwardRef((n,e)=>{const{__scopeTabs:t,value:r,forceMount:i,children:s,...o}=n,a=CN(t7,t),l=r7(a.baseId,r),c=i7(a.baseId,r),u=r===a.value,d=I.useRef(u);return I.useEffect(()=>{const p=requestAnimationFrame(()=>d.current=!1);return()=>cancelAnimationFrame(p)},[]),T.jsx(aN,{present:i||u,children:({present:p})=>T.jsx(Br.div,{"data-state":u?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":l,hidden:!p,id:c,tabIndex:0,...o,ref:e,style:{...n.style,animationDuration:d.current?"0s":void 0},children:p&&s})})});n7.displayName=t7;function r7(n,e){return`${n}-trigger-${e}`}function i7(n,e){return`${n}-content-${e}`}var GJ=KD,s7=QD,o7=e7,a7=n7;const XJ=GJ,l7=et.forwardRef(({className:n,...e},t)=>T.jsx(s7,{ref:t,className:Wt("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",n),...e}));l7.displayName=s7.displayName;const c7=et.forwardRef(({className:n,...e},t)=>T.jsx(o7,{ref:t,className:Wt("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",n),...e}));c7.displayName=o7.displayName;const u7=et.forwardRef(({className:n,...e},t)=>T.jsx(a7,{ref:t,className:Wt("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",n),...e}));u7.displayName=a7.displayName;const d7=et.forwardRef(({className:n,...e},t)=>T.jsx("textarea",{className:Wt("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",n),ref:t,...e}));d7.displayName="Textarea";const YJ=({docType:n,doc:e,onFileChange:t,onDocumentChange:r,isCompleted:i})=>{const s=o=>{const a=Array.from(o.target.files);t(n,a)};return T.jsxs("div",{className:"space-y-4",children:[T.jsxs("div",{className:"flex items-center justify-between",children:[T.jsx("label",{className:"text-sm font-medium leading-none",children:"Anexar Documento(s)"}),T.jsx(j1,{variant:i?"default":"secondary",className:i?"status-completed":"status-pending",children:i?T.jsxs(T.Fragment,{children:[T.jsx(iF,{className:"w-3 h-3 mr-1"}),"Concludo"]}):T.jsxs(T.Fragment,{children:[T.jsx(fW,{className:"w-3 h-3 mr-1"}),"Pendente"]})})]}),T.jsxs("div",{className:"upload-zone relative",children:[T.jsx("input",{type:"file",id:`file-${n}`,className:"hidden",accept:"image/*,.pdf",multiple:!0,onChange:s}),T.jsxs("label",{htmlFor:`file-${n}`,className:"cursor-pointer flex flex-col items-center justify-center p-6",children:[T.jsx(_W,{className:"w-8 h-8 mb-2 text-gray-400"}),T.jsx("p",{className:"text-sm text-gray-600",children:e.arquivos&&e.arquivos.length>0?`${e.arquivos.length} arquivo(s) selecionado(s)`:"Clique para enviar ou arraste o(s) arquivo(s) aqui"}),T.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"JPG, PNG (mx. 5MB por arquivo)"})]})]}),e.arquivos&&e.arquivos.length>0&&T.jsxs("div",{className:"mt-4 p-3 bg-gray-50 border border-gray-200 rounded-lg",children:[T.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Pr-visualizao:"}),T.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:e.arquivos.map((o,a)=>T.jsx("div",{className:"relative border border-gray-300 rounded-md overflow-hidden aspect-w-1 aspect-h-1 flex items-center justify-center",children:o.type&&o.type.startsWith("image/")&&o.data?T.jsx("img",{src:o.data,alt:`Pr-visualizao ${a+1}`,className:"block w-full h-full object-cover"}):o.name?T.jsxs("div",{className:"flex flex-col items-center justify-center p-2 text-center",children:[T.jsx(yW,{className:"w-6 h-6 text-gray-500 mb-1"}),T.jsx("p",{className:"text-xs text-gray-600 truncate w-full",children:o.name})]}):null},a))})]}),T.jsxs("div",{className:"space-y-2",children:[T.jsx(Kt,{children:"Observaes"}),T.jsx(d7,{value:e.observacoes,onChange:o=>r(n,"observacoes",o.target.value),placeholder:"Adicione observaes ou comentrios sobre este documento...",rows:3})]})]})},KJ=({docType:n,employeeData:e,onDocumentChange:t,onFileChange:r})=>{const i=e.documentos[n],s=i.arquivos&&i.arquivos.length>0;return T.jsxs("div",{className:"space-y-6",children:[n==="cnh"&&T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[T.jsxs("div",{className:"space-y-2",children:[T.jsx(Kt,{children:"Nmero da CNH"}),T.jsx(yn,{value:i.numero,onChange:o=>t(n,"numero",o.target.value),placeholder:"00000000000"})]}),T.jsxs("div",{className:"space-y-2",children:[T.jsx(Kt,{children:"Categoria"}),T.jsxs(Uw,{value:i.categoria,onValueChange:o=>t(n,"categoria",o),children:[T.jsx(V1,{children:T.jsx(Hw,{placeholder:"Categoria"})}),T.jsxs(U1,{children:[T.jsx(Bn,{value:"A",children:"A"}),T.jsx(Bn,{value:"B",children:"B"}),T.jsx(Bn,{value:"C",children:"C"}),T.jsx(Bn,{value:"D",children:"D"}),T.jsx(Bn,{value:"E",children:"E"}),T.jsx(Bn,{value:"AB",children:"AB"}),T.jsx(Bn,{value:"AC",children:"AC"}),T.jsx(Bn,{value:"AD",children:"AD"}),T.jsx(Bn,{value:"AE",children:"AE"})]})]})]}),T.jsxs("div",{className:"space-y-2",children:[T.jsx(Kt,{children:"Validade"}),T.jsx(yn,{type:"date",value:i.validade,onChange:o=>t(n,"validade",o.target.value)})]})]}),n==="tituloEleitor"&&T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[T.jsxs("div",{className:"space-y-2",children:[T.jsx(Kt,{children:"Nmero do Ttulo"}),T.jsx(yn,{value:i.numero,onChange:o=>t(n,"numero",o.target.value),placeholder:"0000 0000 0000"})]}),T.jsxs("div",{className:"space-y-2",children:[T.jsx(Kt,{children:"Zona"}),T.jsx(yn,{value:i.zona,onChange:o=>t(n,"zona",o.target.value),placeholder:"000"})]}),T.jsxs("div",{className:"space-y-2",children:[T.jsx(Kt,{children:"Seo"}),T.jsx(yn,{value:i.secao,onChange:o=>t(n,"secao",o.target.value),placeholder:"0000"})]})]}),T.jsx(YJ,{docType:n,doc:{arquivos:i.arquivos,observacoes:i.observacoes},onFileChange:r,isCompleted:s,onDocumentChange:t})]})},E6=[{id:"rg",label:"RG",icon:Qo},{id:"cpf",label:"CPF",icon:Qo},{id:"cnh",label:"CNH",icon:Qo},{id:"tituloEleitor",label:"Ttulo Eleitor",icon:Qo},{id:"reservista",label:"Reservista",icon:Qo},{id:"escolaridade",label:"Escolaridade",icon:Qo},{id:"comprovanteEndereco",label:"Comprovante End.",icon:Qo},{id:"certidaoNascimento",label:"Cert. Nascimento",icon:Qo},{id:"certidaoCasamento",label:"Cert. Casamento",icon:Qo},{id:"carteiraTrabalhoDigital",label:"Carteira Trab. Digital",icon:Qo}],JJ=({employeeData:n,onDocumentChange:e,onFileChange:t})=>{const r=i=>{const s=n.documentos[i];return s&&s.arquivos&&s.arquivos.length>0?"completed":"pending"};return T.jsxs(Oi,{className:"document-card",children:[T.jsxs(Lo,{children:[T.jsx(ko,{children:"Documentao"}),T.jsx(_g,{children:"Gerencie todos os documentos do colaborador"})]}),T.jsx(ji,{children:T.jsxs(XJ,{defaultValue:"rg",className:"space-y-4",children:[T.jsx(l7,{className:"grid grid-cols-3 lg:grid-cols-5 xl:grid-cols-10 gap-1 h-auto flex-wrap",children:E6.map(i=>{const s=r(i.id);return T.jsxs(c7,{value:i.id,className:"flex items-center gap-1 text-xs relative flex-wrap h-auto py-2",children:[T.jsx(i.icon,{className:"w-3 h-3"}),i.label,s==="completed"&&T.jsx("div",{className:"absolute -top-1 -right-1 w-2 h-2 bg-green-500 rounded-full"})]},i.id)})}),E6.map(i=>T.jsx(u7,{value:i.id,children:T.jsxs(Oi,{children:[T.jsx(Lo,{children:T.jsxs(ko,{className:"flex items-center gap-2",children:[T.jsx(i.icon,{className:"w-5 h-5"}),i.label]})}),T.jsx(ji,{children:T.jsx(KJ,{docType:i.id,employeeData:n,onDocumentChange:e,onFileChange:t})})]})},i.id))]})})]})},QJ="modulepreload",ZJ=function(n){return"/"+n},C6={},qw=function(e,t,r){if(!t||t.length===0)return e();const i=document.getElementsByTagName("link");return Promise.all(t.map(s=>{if(s=ZJ(s),s in C6)return;C6[s]=!0;const o=s.endsWith(".css"),a=o?'[rel="stylesheet"]':"";if(!!r)for(let u=i.length-1;u>=0;u--){const d=i[u];if(d.href===s&&(!o||d.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${a}`))return;const c=document.createElement("link");if(c.rel=o?"stylesheet":QJ,o||(c.as="script",c.crossOrigin=""),c.href=s,document.head.appendChild(c),o)return new Promise((u,d)=>{c.addEventListener("load",u),c.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>e()).catch(s=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s})};function $t(n){"@babel/helpers - typeof";return $t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$t(n)}var ri=Uint8Array,gs=Uint16Array,_N=Int32Array,TS=new ri([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),LS=new ri([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),p_=new ri([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),h7=function(n,e){for(var t=new gs(31),r=0;r<31;++r)t[r]=e+=1<<n[r-1];for(var i=new _N(t[30]),r=1;r<30;++r)for(var s=t[r];s<t[r+1];++s)i[s]=s-t[r]<<5|r;return{b:t,r:i}},f7=h7(TS,2),p7=f7.b,m_=f7.r;p7[28]=258,m_[258]=28;var m7=h7(LS,0),eQ=m7.b,_6=m7.r,g_=new gs(32768);for(var on=0;on<32768;++on){var fc=(on&43690)>>1|(on&21845)<<1;fc=(fc&52428)>>2|(fc&13107)<<2,fc=(fc&61680)>>4|(fc&3855)<<4,g_[on]=((fc&65280)>>8|(fc&255)<<8)>>1}var ka=function(n,e,t){for(var r=n.length,i=0,s=new gs(e);i<r;++i)n[i]&&++s[n[i]-1];var o=new gs(e);for(i=1;i<e;++i)o[i]=o[i-1]+s[i-1]<<1;var a;if(t){a=new gs(1<<e);var l=15-e;for(i=0;i<r;++i)if(n[i])for(var c=i<<4|n[i],u=e-n[i],d=o[n[i]-1]++<<u,p=d|(1<<u)-1;d<=p;++d)a[g_[d]>>l]=c}else for(a=new gs(r),i=0;i<r;++i)n[i]&&(a[i]=g_[o[n[i]-1]++]>>15-n[i]);return a},Mu=new ri(288);for(var on=0;on<144;++on)Mu[on]=8;for(var on=144;on<256;++on)Mu[on]=9;for(var on=256;on<280;++on)Mu[on]=7;for(var on=280;on<288;++on)Mu[on]=8;var H1=new ri(32);for(var on=0;on<32;++on)H1[on]=5;var tQ=ka(Mu,9,0),nQ=ka(Mu,9,1),rQ=ka(H1,5,0),iQ=ka(H1,5,1),_E=function(n){for(var e=n[0],t=1;t<n.length;++t)n[t]>e&&(e=n[t]);return e},lo=function(n,e,t){var r=e/8|0;return(n[r]|n[r+1]<<8)>>(e&7)&t},PE=function(n,e){var t=e/8|0;return(n[t]|n[t+1]<<8|n[t+2]<<16)>>(e&7)},PN=function(n){return(n+7)/8|0},g7=function(n,e,t){return(e==null||e<0)&&(e=0),(t==null||t>n.length)&&(t=n.length),new ri(n.subarray(e,t))},sQ=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],fo=function(n,e,t){var r=new Error(e||sQ[n]);if(r.code=n,Error.captureStackTrace&&Error.captureStackTrace(r,fo),!t)throw r;return r},oQ=function(n,e,t,r){var i=n.length,s=r?r.length:0;if(!i||e.f&&!e.l)return t||new ri(0);var o=!t,a=o||e.i!=2,l=e.i;o&&(t=new ri(i*3));var c=function(Ae){var Ne=t.length;if(Ae>Ne){var Re=new ri(Math.max(Ne*2,Ae));Re.set(t),t=Re}},u=e.f||0,d=e.p||0,p=e.b||0,f=e.l,y=e.d,g=e.m,x=e.n,v=i*8;do{if(!f){u=lo(n,d,1);var w=lo(n,d+1,3);if(d+=3,w)if(w==1)f=nQ,y=iQ,g=9,x=5;else if(w==2){var $=lo(n,d,31)+257,R=lo(n,d+10,15)+4,k=$+lo(n,d+5,31)+1;d+=14;for(var W=new ri(k),X=new ri(19),M=0;M<R;++M)X[p_[M]]=lo(n,d+M*3,7);d+=R*3;for(var j=_E(X),K=(1<<j)-1,U=ka(X,j,1),M=0;M<k;){var le=U[lo(n,d,K)];d+=le&15;var S=le>>4;if(S<16)W[M++]=S;else{var Q=0,ne=0;for(S==16?(ne=3+lo(n,d,3),d+=2,Q=W[M-1]):S==17?(ne=3+lo(n,d,7),d+=3):S==18&&(ne=11+lo(n,d,127),d+=7);ne--;)W[M++]=Q}}var Y=W.subarray(0,$),se=W.subarray($);g=_E(Y),x=_E(se),f=ka(Y,g,1),y=ka(se,x,1)}else fo(1);else{var S=PN(d)+4,C=n[S-4]|n[S-3]<<8,N=S+C;if(N>i){l&&fo(0);break}a&&c(p+C),t.set(n.subarray(S,N),p),e.b=p+=C,e.p=d=N*8,e.f=u;continue}if(d>v){l&&fo(0);break}}a&&c(p+131072);for(var de=(1<<g)-1,be=(1<<x)-1,D=d;;D=d){var Q=f[PE(n,d)&de],G=Q>>4;if(d+=Q&15,d>v){l&&fo(0);break}if(Q||fo(2),G<256)t[p++]=G;else if(G==256){D=d,f=null;break}else{var Z=G-254;if(G>264){var M=G-257,re=TS[M];Z=lo(n,d,(1<<re)-1)+p7[M],d+=re}var oe=y[PE(n,d)&be],ie=oe>>4;oe||fo(3),d+=oe&15;var se=eQ[ie];if(ie>3){var re=LS[ie];se+=PE(n,d)&(1<<re)-1,d+=re}if(d>v){l&&fo(0);break}a&&c(p+131072);var pe=p+Z;if(p<se){var ge=s-se,Ee=Math.min(se,pe);for(ge+p<0&&fo(3);p<Ee;++p)t[p]=r[ge+p]}for(;p<pe;++p)t[p]=t[p-se]}}e.l=f,e.p=D,e.b=p,e.f=u,f&&(u=1,e.m=g,e.d=y,e.n=x)}while(!u);return p!=t.length&&o?g7(t,0,p):t.subarray(0,p)},Xa=function(n,e,t){t<<=e&7;var r=e/8|0;n[r]|=t,n[r+1]|=t>>8},_0=function(n,e,t){t<<=e&7;var r=e/8|0;n[r]|=t,n[r+1]|=t>>8,n[r+2]|=t>>16},NE=function(n,e){for(var t=[],r=0;r<n.length;++r)n[r]&&t.push({s:r,f:n[r]});var i=t.length,s=t.slice();if(!i)return{t:y7,l:0};if(i==1){var o=new ri(t[0].s+1);return o[t[0].s]=1,{t:o,l:1}}t.sort(function(N,$){return N.f-$.f}),t.push({s:-1,f:25001});var a=t[0],l=t[1],c=0,u=1,d=2;for(t[0]={s:-1,f:a.f+l.f,l:a,r:l};u!=i-1;)a=t[t[c].f<t[d].f?c++:d++],l=t[c!=u&&t[c].f<t[d].f?c++:d++],t[u++]={s:-1,f:a.f+l.f,l:a,r:l};for(var p=s[0].s,r=1;r<i;++r)s[r].s>p&&(p=s[r].s);var f=new gs(p+1),y=v_(t[u-1],f,0);if(y>e){var r=0,g=0,x=y-e,v=1<<x;for(s.sort(function($,R){return f[R.s]-f[$.s]||$.f-R.f});r<i;++r){var w=s[r].s;if(f[w]>e)g+=v-(1<<y-f[w]),f[w]=e;else break}for(g>>=x;g>0;){var S=s[r].s;f[S]<e?g-=1<<e-f[S]++-1:++r}for(;r>=0&&g;--r){var C=s[r].s;f[C]==e&&(--f[C],++g)}y=e}return{t:new ri(f),l:y}},v_=function(n,e,t){return n.s==-1?Math.max(v_(n.l,e,t+1),v_(n.r,e,t+1)):e[n.s]=t},P6=function(n){for(var e=n.length;e&&!n[--e];);for(var t=new gs(++e),r=0,i=n[0],s=1,o=function(l){t[r++]=l},a=1;a<=e;++a)if(n[a]==i&&a!=e)++s;else{if(!i&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(i),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(i);s=1,i=n[a]}return{c:t.subarray(0,r),n:e}},P0=function(n,e){for(var t=0,r=0;r<e.length;++r)t+=n[r]*e[r];return t},v7=function(n,e,t){var r=t.length,i=PN(e+2);n[i]=r&255,n[i+1]=r>>8,n[i+2]=n[i]^255,n[i+3]=n[i+1]^255;for(var s=0;s<r;++s)n[i+s+4]=t[s];return(i+4+r)*8},N6=function(n,e,t,r,i,s,o,a,l,c,u){Xa(e,u++,t),++i[256];for(var d=NE(i,15),p=d.t,f=d.l,y=NE(s,15),g=y.t,x=y.l,v=P6(p),w=v.c,S=v.n,C=P6(g),N=C.c,$=C.n,R=new gs(19),k=0;k<w.length;++k)++R[w[k]&31];for(var k=0;k<N.length;++k)++R[N[k]&31];for(var W=NE(R,7),X=W.t,M=W.l,j=19;j>4&&!X[p_[j-1]];--j);var K=c+5<<3,U=P0(i,Mu)+P0(s,H1)+o,le=P0(i,p)+P0(s,g)+o+14+3*j+P0(R,X)+2*R[16]+3*R[17]+7*R[18];if(l>=0&&K<=U&&K<=le)return v7(e,u,n.subarray(l,l+c));var Q,ne,Y,se;if(Xa(e,u,1+(le<U)),u+=2,le<U){Q=ka(p,f,0),ne=p,Y=ka(g,x,0),se=g;var de=ka(X,M,0);Xa(e,u,S-257),Xa(e,u+5,$-1),Xa(e,u+10,j-4),u+=14;for(var k=0;k<j;++k)Xa(e,u+3*k,X[p_[k]]);u+=3*j;for(var be=[w,N],D=0;D<2;++D)for(var G=be[D],k=0;k<G.length;++k){var Z=G[k]&31;Xa(e,u,de[Z]),u+=X[Z],Z>15&&(Xa(e,u,G[k]>>5&127),u+=G[k]>>12)}}else Q=tQ,ne=Mu,Y=rQ,se=H1;for(var k=0;k<a;++k){var re=r[k];if(re>255){var Z=re>>18&31;_0(e,u,Q[Z+257]),u+=ne[Z+257],Z>7&&(Xa(e,u,re>>23&31),u+=TS[Z]);var oe=re&31;_0(e,u,Y[oe]),u+=se[oe],oe>3&&(_0(e,u,re>>5&8191),u+=LS[oe])}else _0(e,u,Q[re]),u+=ne[re]}return _0(e,u,Q[256]),u+ne[256]},aQ=new _N([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),y7=new ri(0),lQ=function(n,e,t,r,i,s){var o=s.z||n.length,a=new ri(r+o+5*(1+Math.ceil(o/7e3))+i),l=a.subarray(r,a.length-i),c=s.l,u=(s.r||0)&7;if(e){u&&(l[0]=s.r>>3);for(var d=aQ[e-1],p=d>>13,f=d&8191,y=(1<<t)-1,g=s.p||new gs(32768),x=s.h||new gs(y+1),v=Math.ceil(t/3),w=2*v,S=function(qe){return(n[qe]^n[qe+1]<<v^n[qe+2]<<w)&y},C=new _N(25e3),N=new gs(288),$=new gs(32),R=0,k=0,W=s.i||0,X=0,M=s.w||0,j=0;W+2<o;++W){var K=S(W),U=W&32767,le=x[K];if(g[U]=le,x[K]=U,M<=W){var Q=o-W;if((R>7e3||X>24576)&&(Q>423||!c)){u=N6(n,l,0,C,N,$,k,X,j,W-j,u),X=R=k=0,j=W;for(var ne=0;ne<286;++ne)N[ne]=0;for(var ne=0;ne<30;++ne)$[ne]=0}var Y=2,se=0,de=f,be=U-le&32767;if(Q>2&&K==S(W-be))for(var D=Math.min(p,Q)-1,G=Math.min(32767,W),Z=Math.min(258,Q);be<=G&&--de&&U!=le;){if(n[W+Y]==n[W+Y-be]){for(var re=0;re<Z&&n[W+re]==n[W+re-be];++re);if(re>Y){if(Y=re,se=be,re>D)break;for(var oe=Math.min(be,re-2),ie=0,ne=0;ne<oe;++ne){var pe=W-be+ne&32767,ge=g[pe],Ee=pe-ge&32767;Ee>ie&&(ie=Ee,le=pe)}}}U=le,le=g[U],be+=U-le&32767}if(se){C[X++]=268435456|m_[Y]<<18|_6[se];var Ae=m_[Y]&31,Ne=_6[se]&31;k+=TS[Ae]+LS[Ne],++N[257+Ae],++$[Ne],M=W+Y,++R}else C[X++]=n[W],++N[n[W]]}}for(W=Math.max(W,M);W<o;++W)C[X++]=n[W],++N[n[W]];u=N6(n,l,c,C,N,$,k,X,j,W-j,u),c||(s.r=u&7|l[u/8|0]<<3,u-=7,s.h=x,s.p=g,s.i=W,s.w=M)}else{for(var W=s.w||0;W<o+c;W+=65535){var Re=W+65535;Re>=o&&(l[u/8|0]=c,Re=o),u=v7(l,u+1,n.subarray(W,Re))}s.i=o}return g7(a,0,r+PN(u)+i)},b7=function(){var n=1,e=0;return{p:function(t){for(var r=n,i=e,s=t.length|0,o=0;o!=s;){for(var a=Math.min(o+2655,s);o<a;++o)i+=r+=t[o];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}n=r,e=i},d:function(){return n%=65521,e%=65521,(n&255)<<24|(n&65280)<<8|(e&255)<<8|e>>8}}},cQ=function(n,e,t,r,i){if(!i&&(i={l:1},e.dictionary)){var s=e.dictionary.subarray(-32768),o=new ri(s.length+n.length);o.set(s),o.set(n,s.length),n=o,i.w=s.length}return lQ(n,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(n.length)))*1.5):20:12+e.mem,t,r,i)},w7=function(n,e,t){for(;t;++e)n[e]=t,t>>>=8},uQ=function(n,e){var t=e.level,r=t==0?0:t<6?1:t==9?3:2;if(n[0]=120,n[1]=r<<6|(e.dictionary&&32),n[1]|=31-(n[0]<<8|n[1])%31,e.dictionary){var i=b7();i.p(e.dictionary),w7(n,2,i.d())}},dQ=function(n,e){return((n[0]&15)!=8||n[0]>>4>7||(n[0]<<8|n[1])%31)&&fo(6,"invalid zlib data"),(n[1]>>5&1)==+!e&&fo(6,"invalid zlib data: "+(n[1]&32?"need":"unexpected")+" dictionary"),(n[1]>>3&4)+2};function y_(n,e){e||(e={});var t=b7();t.p(n);var r=cQ(n,e,e.dictionary?6:2,4);return uQ(r,e),w7(r,r.length-4,t.d()),r}function hQ(n,e){return oQ(n.subarray(dQ(n,e&&e.dictionary),-4),{i:2},e&&e.out,e&&e.dictionary)}var fQ=typeof TextDecoder<"u"&&new TextDecoder,pQ=0;try{fQ.decode(y7,{stream:!0}),pQ=1}catch{}var st=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function TE(){st.console&&typeof st.console.log=="function"&&st.console.log.apply(st.console,arguments)}var Jt={log:TE,warn:function(n){st.console&&(typeof st.console.warn=="function"?st.console.warn.apply(st.console,arguments):TE.call(null,arguments))},error:function(n){st.console&&(typeof st.console.error=="function"?st.console.error.apply(st.console,arguments):TE(n))}};function LE(n,e,t){var r=new XMLHttpRequest;r.open("GET",n),r.responseType="blob",r.onload=function(){ld(r.response,e,t)},r.onerror=function(){Jt.error("could not download file")},r.send()}function T6(n){var e=new XMLHttpRequest;e.open("HEAD",n,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Y5(n){try{n.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),n.dispatchEvent(e)}}var g1,b_,ld=st.saveAs||((typeof window>"u"?"undefined":$t(window))!=="object"||window!==st?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(n,e,t){var r=st.URL||st.webkitURL,i=document.createElement("a");e=e||n.name||"download",i.download=e,i.rel="noopener",typeof n=="string"?(i.href=n,i.origin!==location.origin?T6(i.href)?LE(n,e,t):Y5(i,i.target="_blank"):Y5(i)):(i.href=r.createObjectURL(n),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){Y5(i)},0))}:"msSaveOrOpenBlob"in navigator?function(n,e,t){if(e=e||n.name||"download",typeof n=="string")if(T6(n))LE(n,e,t);else{var r=document.createElement("a");r.href=n,r.target="_blank",setTimeout(function(){Y5(r)})}else navigator.msSaveOrOpenBlob(function(i,s){return s===void 0?s={autoBom:!1}:$t(s)!=="object"&&(Jt.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob([String.fromCharCode(65279),i],{type:i.type}):i}(n,t),e)}:function(n,e,t,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof n=="string")return LE(n,e,t);var i=n.type==="application/octet-stream",s=/constructor/i.test(st.HTMLElement)||st.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||i&&s)&&(typeof FileReader>"u"?"undefined":$t(FileReader))==="object"){var a=new FileReader;a.onloadend=function(){var u=a.result;u=o?u:u.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=u:location=u,r=null},a.readAsDataURL(n)}else{var l=st.URL||st.webkitURL,c=l.createObjectURL(n);r?r.location=c:location.href=c,r=null,setTimeout(function(){l.revokeObjectURL(c)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function x7(n){var e;n=n||"",this.ok=!1,n.charAt(0)=="#"&&(n=n.substr(1,6)),n={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[n=(n=n.replace(/ /g,"")).toLowerCase()]||n;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(a){return[parseInt(a[1]),parseInt(a[2]),parseInt(a[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}}],r=0;r<t.length;r++){var i=t[r].re,s=t[r].process,o=i.exec(n);o&&(e=s(o),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var a=this.r.toString(16),l=this.g.toString(16),c=this.b.toString(16);return a.length==1&&(a="0"+a),l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),"#"+a+l+c}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function kE(n,e){var t=n[0],r=n[1],i=n[2],s=n[3];t=Wr(t,r,i,s,e[0],7,-680876936),s=Wr(s,t,r,i,e[1],12,-389564586),i=Wr(i,s,t,r,e[2],17,606105819),r=Wr(r,i,s,t,e[3],22,-1044525330),t=Wr(t,r,i,s,e[4],7,-176418897),s=Wr(s,t,r,i,e[5],12,1200080426),i=Wr(i,s,t,r,e[6],17,-1473231341),r=Wr(r,i,s,t,e[7],22,-45705983),t=Wr(t,r,i,s,e[8],7,1770035416),s=Wr(s,t,r,i,e[9],12,-1958414417),i=Wr(i,s,t,r,e[10],17,-42063),r=Wr(r,i,s,t,e[11],22,-1990404162),t=Wr(t,r,i,s,e[12],7,1804603682),s=Wr(s,t,r,i,e[13],12,-40341101),i=Wr(i,s,t,r,e[14],17,-1502002290),t=Gr(t,r=Wr(r,i,s,t,e[15],22,1236535329),i,s,e[1],5,-165796510),s=Gr(s,t,r,i,e[6],9,-1069501632),i=Gr(i,s,t,r,e[11],14,643717713),r=Gr(r,i,s,t,e[0],20,-373897302),t=Gr(t,r,i,s,e[5],5,-701558691),s=Gr(s,t,r,i,e[10],9,38016083),i=Gr(i,s,t,r,e[15],14,-660478335),r=Gr(r,i,s,t,e[4],20,-405537848),t=Gr(t,r,i,s,e[9],5,568446438),s=Gr(s,t,r,i,e[14],9,-1019803690),i=Gr(i,s,t,r,e[3],14,-187363961),r=Gr(r,i,s,t,e[8],20,1163531501),t=Gr(t,r,i,s,e[13],5,-1444681467),s=Gr(s,t,r,i,e[2],9,-51403784),i=Gr(i,s,t,r,e[7],14,1735328473),t=Xr(t,r=Gr(r,i,s,t,e[12],20,-1926607734),i,s,e[5],4,-378558),s=Xr(s,t,r,i,e[8],11,-2022574463),i=Xr(i,s,t,r,e[11],16,1839030562),r=Xr(r,i,s,t,e[14],23,-35309556),t=Xr(t,r,i,s,e[1],4,-1530992060),s=Xr(s,t,r,i,e[4],11,1272893353),i=Xr(i,s,t,r,e[7],16,-155497632),r=Xr(r,i,s,t,e[10],23,-1094730640),t=Xr(t,r,i,s,e[13],4,681279174),s=Xr(s,t,r,i,e[0],11,-358537222),i=Xr(i,s,t,r,e[3],16,-722521979),r=Xr(r,i,s,t,e[6],23,76029189),t=Xr(t,r,i,s,e[9],4,-640364487),s=Xr(s,t,r,i,e[12],11,-421815835),i=Xr(i,s,t,r,e[15],16,530742520),t=Yr(t,r=Xr(r,i,s,t,e[2],23,-995338651),i,s,e[0],6,-198630844),s=Yr(s,t,r,i,e[7],10,1126891415),i=Yr(i,s,t,r,e[14],15,-1416354905),r=Yr(r,i,s,t,e[5],21,-57434055),t=Yr(t,r,i,s,e[12],6,1700485571),s=Yr(s,t,r,i,e[3],10,-1894986606),i=Yr(i,s,t,r,e[10],15,-1051523),r=Yr(r,i,s,t,e[1],21,-2054922799),t=Yr(t,r,i,s,e[8],6,1873313359),s=Yr(s,t,r,i,e[15],10,-30611744),i=Yr(i,s,t,r,e[6],15,-1560198380),r=Yr(r,i,s,t,e[13],21,1309151649),t=Yr(t,r,i,s,e[4],6,-145523070),s=Yr(s,t,r,i,e[11],10,-1120210379),i=Yr(i,s,t,r,e[2],15,718787259),r=Yr(r,i,s,t,e[9],21,-343485551),n[0]=pu(t,n[0]),n[1]=pu(r,n[1]),n[2]=pu(i,n[2]),n[3]=pu(s,n[3])}function kS(n,e,t,r,i,s){return e=pu(pu(e,n),pu(r,s)),pu(e<<i|e>>>32-i,t)}function Wr(n,e,t,r,i,s,o){return kS(e&t|~e&r,n,e,i,s,o)}function Gr(n,e,t,r,i,s,o){return kS(e&r|t&~r,n,e,i,s,o)}function Xr(n,e,t,r,i,s,o){return kS(e^t^r,n,e,i,s,o)}function Yr(n,e,t,r,i,s,o){return kS(t^(e|~r),n,e,i,s,o)}function A7(n){var e,t=n.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=n.length;e+=64)kE(r,mQ(n.substring(e-64,e)));n=n.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<n.length;e++)i[e>>2]|=n.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(kE(r,i),e=0;e<16;e++)i[e]=0;return i[14]=8*t,kE(r,i),r}function mQ(n){var e,t=[];for(e=0;e<64;e+=4)t[e>>2]=n.charCodeAt(e)+(n.charCodeAt(e+1)<<8)+(n.charCodeAt(e+2)<<16)+(n.charCodeAt(e+3)<<24);return t}g1=st.atob.bind(st),b_=st.btoa.bind(st);var L6="0123456789abcdef".split("");function gQ(n){for(var e="",t=0;t<4;t++)e+=L6[n>>8*t+4&15]+L6[n>>8*t&15];return e}function vQ(n){return String.fromCharCode((255&n)>>0,(65280&n)>>8,(16711680&n)>>16,(4278190080&n)>>24)}function w_(n){return A7(n).map(vQ).join("")}var yQ=function(n){for(var e=0;e<n.length;e++)n[e]=gQ(n[e]);return n.join("")}(A7("hello"))!="5d41402abc4b2a76b9719d911017c592";function pu(n,e){if(yQ){var t=(65535&n)+(65535&e);return(n>>16)+(e>>16)+(t>>16)<<16|65535&t}return n+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function x_(n,e){var t,r,i,s;if(n!==t){for(var o=(i=n,s=1+(256/n.length>>0),new Array(s+1).join(i)),a=[],l=0;l<256;l++)a[l]=l;var c=0;for(l=0;l<256;l++){var u=a[l];c=(c+u+o.charCodeAt(l))%256,a[l]=a[c],a[c]=u}t=n,r=a}else a=r;var d=e.length,p=0,f=0,y="";for(l=0;l<d;l++)f=(f+(u=a[p=(p+1)%256]))%256,a[p]=a[f],a[f]=u,o=a[(a[p]+a[f])%256],y+=String.fromCharCode(e.charCodeAt(l)^o);return y}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var k6={print:4,modify:8,copy:16,"annot-forms":32};function Yf(n,e,t,r){this.v=1,this.r=2;var i=192;n.forEach(function(a){if(k6.perm!==void 0)throw new Error("Invalid permission: "+a);i+=k6[a]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var s=(e+this.padding).substr(0,32),o=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,o),this.P=-(1+(255^i)),this.encryptionKey=w_(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=x_(this.encryptionKey,this.padding)}function Kf(n){if(/[^\u0000-\u00ff]/.test(n))throw new Error("Invalid PDF Name Object: "+n+", Only accept ASCII characters.");for(var e="",t=n.length,r=0;r<t;r++){var i=n.charCodeAt(r);i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?e+="#"+("0"+i.toString(16)).slice(-2):e+=n[r]}return e}function R6(n){if($t(n)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,r,i){if(i=i||!1,typeof t!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var s=Math.random().toString(35);return e[t][s]=[r,!!i],s},this.unsubscribe=function(t){for(var r in e)if(e[r][t])return delete e[r][t],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(t){if(e.hasOwnProperty(t)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var s in e[t]){var o=e[t][s];try{o[0].apply(n,r)}catch(a){st.console&&Jt.error("jsPDF PubSub Error",a.message,a)}o[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function Ww(n){if(!(this instanceof Ww))return new Ww(n);var e="opacity,stroke-opacity".split(",");for(var t in n)n.hasOwnProperty(t)&&e.indexOf(t)>=0&&(this[t]=n[t]);this.id="",this.objectNumber=-1}function S7(n,e){this.gState=n,this.matrix=e,this.id="",this.objectNumber=-1}function hd(n,e,t,r,i){if(!(this instanceof hd))return new hd(n,e,t,r,i);this.type=n==="axial"?2:3,this.coords=e,this.colors=t,S7.call(this,r,i)}function wp(n,e,t,r,i){if(!(this instanceof wp))return new wp(n,e,t,r,i);this.boundingBox=n,this.xStep=e,this.yStep=t,this.stream="",this.cloneIndex=0,S7.call(this,r,i)}function it(n){var e,t=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],s=arguments[3],o=[],a=1,l=16,c="S",u=null;$t(n=n||{})==="object"&&(t=n.orientation,r=n.unit||r,i=n.format||i,s=n.compress||n.compressPdf||s,(u=n.encryption||null)!==null&&(u.userPassword=u.userPassword||"",u.ownerPassword=u.ownerPassword||"",u.userPermissions=u.userPermissions||[]),a=typeof n.userUnit=="number"?Math.abs(n.userUnit):1,n.precision!==void 0&&(e=n.precision),n.floatPrecision!==void 0&&(l=n.floatPrecision),c=n.defaultPathOperation||"S"),o=n.filters||(s===!0?["FlateEncode"]:o),r=r||"mm",t=(""+(t||"P")).toLowerCase();var d=n.putOnlyUsedFonts||!1,p={},f={internal:{},__private__:{}};f.__private__.PubSub=R6;var y="1.3",g=f.__private__.getPdfVersion=function(){return y};f.__private__.setPdfVersion=function(A){y=A};var x={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};f.__private__.getPageFormats=function(){return x};var v=f.__private__.getPageFormat=function(A){return x[A]};i=i||"a4";var w={COMPAT:"compat",ADVANCED:"advanced"},S=w.COMPAT;function C(){this.saveGraphicsState(),te(new tt($e,0,0,-$e,0,Zl()*$e).toString()+" cm"),this.setFontSize(this.getFontSize()/$e),c="n",S=w.ADVANCED}function N(){this.restoreGraphicsState(),c="S",S=w.COMPAT}var $=f.__private__.combineFontStyleAndFontWeight=function(A,O){if(A=="bold"&&O=="normal"||A=="bold"&&O==400||A=="normal"&&O=="italic"||A=="bold"&&O=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return O&&(A=O==400||O==="normal"?A==="italic"?"italic":"normal":O!=700&&O!=="bold"||A!=="normal"?(O==700?"bold":O)+""+A:"bold"),A};f.advancedAPI=function(A){var O=S===w.COMPAT;return O&&C.call(this),typeof A!="function"||(A(this),O&&N.call(this)),this},f.compatAPI=function(A){var O=S===w.ADVANCED;return O&&N.call(this),typeof A!="function"||(A(this),O&&C.call(this)),this},f.isAdvancedAPI=function(){return S===w.ADVANCED};var R,k=function(A){if(S!==w.ADVANCED)throw new Error(A+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},W=f.roundToPrecision=f.__private__.roundToPrecision=function(A,O){var ee=e||O;if(isNaN(A)||isNaN(ee))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return A.toFixed(ee).replace(/0+$/,"")};R=f.hpf=f.__private__.hpf=typeof l=="number"?function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.hpf");return W(A,l)}:l==="smart"?function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.hpf");return W(A,A>-1&&A<1?16:5)}:function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.hpf");return W(A,16)};var X=f.f2=f.__private__.f2=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.f2");return W(A,2)},M=f.__private__.f3=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.f3");return W(A,3)},j=f.scale=f.__private__.scale=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.scale");return S===w.COMPAT?A*$e:S===w.ADVANCED?A:void 0},K=function(A){return S===w.COMPAT?Zl()-A:S===w.ADVANCED?A:void 0},U=function(A){return j(K(A))};f.__private__.setPrecision=f.setPrecision=function(A){typeof parseInt(A,10)=="number"&&(e=parseInt(A,10))};var le,Q="00000000000000000000000000000000",ne=f.__private__.getFileId=function(){return Q},Y=f.__private__.setFileId=function(A){return Q=A!==void 0&&/^[a-fA-F0-9]{32}$/.test(A)?A.toUpperCase():Q.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),u!==null&&(Vr=new Yf(u.userPermissions,u.userPassword,u.ownerPassword,Q)),Q};f.setFileId=function(A){return Y(A),this},f.getFileId=function(){return ne()};var se=f.__private__.convertDateToPDFDate=function(A){var O=A.getTimezoneOffset(),ee=O<0?"+":"-",ae=Math.floor(Math.abs(O/60)),me=Math.abs(O%60),Se=[ee,Z(ae),"'",Z(me),"'"].join("");return["D:",A.getFullYear(),Z(A.getMonth()+1),Z(A.getDate()),Z(A.getHours()),Z(A.getMinutes()),Z(A.getSeconds()),Se].join("")},de=f.__private__.convertPDFDateToDate=function(A){var O=parseInt(A.substr(2,4),10),ee=parseInt(A.substr(6,2),10)-1,ae=parseInt(A.substr(8,2),10),me=parseInt(A.substr(10,2),10),Se=parseInt(A.substr(12,2),10),Le=parseInt(A.substr(14,2),10);return new Date(O,ee,ae,me,Se,Le,0)},be=f.__private__.setCreationDate=function(A){var O;if(A===void 0&&(A=new Date),A instanceof Date)O=se(A);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(A))throw new Error("Invalid argument passed to jsPDF.setCreationDate");O=A}return le=O},D=f.__private__.getCreationDate=function(A){var O=le;return A==="jsDate"&&(O=de(le)),O};f.setCreationDate=function(A){return be(A),this},f.getCreationDate=function(A){return D(A)};var G,Z=f.__private__.padd2=function(A){return("0"+parseInt(A)).slice(-2)},re=f.__private__.padd2Hex=function(A){return("00"+(A=A.toString())).substr(A.length)},oe=0,ie=[],pe=[],ge=0,Ee=[],Ae=[],Ne=!1,Re=pe,qe=function(){oe=0,ge=0,pe=[],ie=[],Ee=[],Oa=qn(),Qs=qn()};f.__private__.setCustomOutputDestination=function(A){Ne=!0,Re=A};var we=function(A){Ne||(Re=A)};f.__private__.resetCustomOutputDestination=function(){Ne=!1,Re=pe};var te=f.__private__.out=function(A){return A=A.toString(),ge+=A.length+1,Re.push(A),Re},nt=f.__private__.write=function(A){return te(arguments.length===1?A.toString():Array.prototype.join.call(arguments," "))},Xe=f.__private__.getArrayBuffer=function(A){for(var O=A.length,ee=new ArrayBuffer(O),ae=new Uint8Array(ee);O--;)ae[O]=A.charCodeAt(O);return ee},ke=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];f.__private__.getStandardFonts=function(){return ke};var Fe=n.fontSize||16;f.__private__.setFontSize=f.setFontSize=function(A){return Fe=S===w.ADVANCED?A/$e:A,this};var Oe,Be=f.__private__.getFontSize=f.getFontSize=function(){return S===w.COMPAT?Fe:Fe*$e},Je=n.R2L||!1;f.__private__.setR2L=f.setR2L=function(A){return Je=A,this},f.__private__.getR2L=f.getR2L=function(){return Je};var lt,vt=f.__private__.setZoomMode=function(A){var O=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(A))Oe=A;else if(isNaN(A)){if(O.indexOf(A)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+A+'" is not recognized.');Oe=A}else Oe=parseInt(A,10)};f.__private__.getZoomMode=function(){return Oe};var bt,Nt=f.__private__.setPageMode=function(A){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(A)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+A+'" is not recognized.');lt=A};f.__private__.getPageMode=function(){return lt};var Vt=f.__private__.setLayoutMode=function(A){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(A)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+A+'" is not recognized.');bt=A};f.__private__.getLayoutMode=function(){return bt},f.__private__.setDisplayMode=f.setDisplayMode=function(A,O,ee){return vt(A),Vt(O),Nt(ee),this};var ot={title:"",subject:"",author:"",keywords:"",creator:""};f.__private__.getDocumentProperty=function(A){if(Object.keys(ot).indexOf(A)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return ot[A]},f.__private__.getDocumentProperties=function(){return ot},f.__private__.setDocumentProperties=f.setProperties=f.setDocumentProperties=function(A){for(var O in ot)ot.hasOwnProperty(O)&&A[O]&&(ot[O]=A[O]);return this},f.__private__.setDocumentProperty=function(A,O){if(Object.keys(ot).indexOf(A)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return ot[A]=O};var xt,$e,zr,Rt,Ys,Gt={},ln={},zo=[],Mt={},Uu={},En={},Ks={},Da=null,Cn=0,ct=[],Ft=new R6(f),Hu=n.hotfixes||[],Er={},Vo={},Uo=[],tt=function A(O,ee,ae,me,Se,Le){if(!(this instanceof A))return new A(O,ee,ae,me,Se,Le);isNaN(O)&&(O=1),isNaN(ee)&&(ee=0),isNaN(ae)&&(ae=0),isNaN(me)&&(me=1),isNaN(Se)&&(Se=0),isNaN(Le)&&(Le=0),this._matrix=[O,ee,ae,me,Se,Le]};Object.defineProperty(tt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(A){this._matrix[0]=A}}),Object.defineProperty(tt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(A){this._matrix[1]=A}}),Object.defineProperty(tt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(A){this._matrix[2]=A}}),Object.defineProperty(tt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(A){this._matrix[3]=A}}),Object.defineProperty(tt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(A){this._matrix[4]=A}}),Object.defineProperty(tt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(A){this._matrix[5]=A}}),Object.defineProperty(tt.prototype,"a",{get:function(){return this._matrix[0]},set:function(A){this._matrix[0]=A}}),Object.defineProperty(tt.prototype,"b",{get:function(){return this._matrix[1]},set:function(A){this._matrix[1]=A}}),Object.defineProperty(tt.prototype,"c",{get:function(){return this._matrix[2]},set:function(A){this._matrix[2]=A}}),Object.defineProperty(tt.prototype,"d",{get:function(){return this._matrix[3]},set:function(A){this._matrix[3]=A}}),Object.defineProperty(tt.prototype,"e",{get:function(){return this._matrix[4]},set:function(A){this._matrix[4]=A}}),Object.defineProperty(tt.prototype,"f",{get:function(){return this._matrix[5]},set:function(A){this._matrix[5]=A}}),Object.defineProperty(tt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(tt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(tt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(tt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),tt.prototype.join=function(A){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(R).join(A)},tt.prototype.multiply=function(A){var O=A.sx*this.sx+A.shy*this.shx,ee=A.sx*this.shy+A.shy*this.sy,ae=A.shx*this.sx+A.sy*this.shx,me=A.shx*this.shy+A.sy*this.sy,Se=A.tx*this.sx+A.ty*this.shx+this.tx,Le=A.tx*this.shy+A.ty*this.sy+this.ty;return new tt(O,ee,ae,me,Se,Le)},tt.prototype.decompose=function(){var A=this.sx,O=this.shy,ee=this.shx,ae=this.sy,me=this.tx,Se=this.ty,Le=Math.sqrt(A*A+O*O),ze=(A/=Le)*ee+(O/=Le)*ae;ee-=A*ze,ae-=O*ze;var Qe=Math.sqrt(ee*ee+ae*ae);return ze/=Qe,A*(ae/=Qe)<O*(ee/=Qe)&&(A=-A,O=-O,ze=-ze,Le=-Le),{scale:new tt(Le,0,0,Qe,0,0),translate:new tt(1,0,0,1,me,Se),rotate:new tt(A,O,-O,A,0,0),skew:new tt(1,0,ze,1,0,0)}},tt.prototype.toString=function(A){return this.join(" ")},tt.prototype.inversed=function(){var A=this.sx,O=this.shy,ee=this.shx,ae=this.sy,me=this.tx,Se=this.ty,Le=1/(A*ae-O*ee),ze=ae*Le,Qe=-O*Le,pt=-ee*Le,ut=A*Le;return new tt(ze,Qe,pt,ut,-ze*me-pt*Se,-Qe*me-ut*Se)},tt.prototype.applyToPoint=function(A){var O=A.x*this.sx+A.y*this.shx+this.tx,ee=A.x*this.shy+A.y*this.sy+this.ty;return new _f(O,ee)},tt.prototype.applyToRectangle=function(A){var O=this.applyToPoint(A),ee=this.applyToPoint(new _f(A.x+A.w,A.y+A.h));return new Wg(O.x,O.y,ee.x-O.x,ee.y-O.y)},tt.prototype.clone=function(){var A=this.sx,O=this.shy,ee=this.shx,ae=this.sy,me=this.tx,Se=this.ty;return new tt(A,O,ee,ae,me,Se)},f.Matrix=tt;var Js=f.matrixMult=function(A,O){return O.multiply(A)},Ho=new tt(1,0,0,1,0,0);f.unitMatrix=f.identityMatrix=Ho;var Si=function(A,O){if(!Uu[A]){var ee=(O instanceof hd?"Sh":"P")+(Object.keys(Mt).length+1).toString(10);O.id=ee,Uu[A]=ee,Mt[ee]=O,Ft.publish("addPattern",O)}};f.ShadingPattern=hd,f.TilingPattern=wp,f.addShadingPattern=function(A,O){return k("addShadingPattern()"),Si(A,O),this},f.beginTilingPattern=function(A){k("beginTilingPattern()"),G2(A.boundingBox[0],A.boundingBox[1],A.boundingBox[2]-A.boundingBox[0],A.boundingBox[3]-A.boundingBox[1],A.matrix)},f.endTilingPattern=function(A,O){k("endTilingPattern()"),O.stream=Ae[G].join(`
`),Si(A,O),Ft.publish("endTilingPattern",O),Uo.pop().restore()};var tr=f.__private__.newObject=function(){var A=qn();return qi(A,!0),A},qn=f.__private__.newObjectDeferred=function(){return oe++,ie[oe]=function(){return ge},oe},qi=function(A,O){return O=typeof O=="boolean"&&O,ie[A]=ge,O&&te(A+" 0 obj"),A},ff=f.__private__.newAdditionalObject=function(){var A={objId:qn(),content:""};return Ee.push(A),A},Oa=qn(),Qs=qn(),Zs=f.__private__.decodeColorString=function(A){var O=A.split(" ");if(O.length!==2||O[1]!=="g"&&O[1]!=="G")O.length===5&&(O[4]==="k"||O[4]==="K")&&(O=[(1-O[0])*(1-O[3]),(1-O[1])*(1-O[3]),(1-O[2])*(1-O[3]),"r"]);else{var ee=parseFloat(O[0]);O=[ee,ee,ee,"r"]}for(var ae="#",me=0;me<3;me++)ae+=("0"+Math.floor(255*parseFloat(O[me])).toString(16)).slice(-2);return ae},eo=f.__private__.encodeColorString=function(A){var O;typeof A=="string"&&(A={ch1:A});var ee=A.ch1,ae=A.ch2,me=A.ch3,Se=A.ch4,Le=A.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ee=="string"&&ee.charAt(0)!=="#"){var ze=new x7(ee);if(ze.ok)ee=ze.toHex();else if(!/^\d*\.?\d*$/.test(ee))throw new Error('Invalid color "'+ee+'" passed to jsPDF.encodeColorString.')}if(typeof ee=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ee)&&(ee="#"+ee[1]+ee[1]+ee[2]+ee[2]+ee[3]+ee[3]),typeof ee=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ee)){var Qe=parseInt(ee.substr(1),16);ee=Qe>>16&255,ae=Qe>>8&255,me=255&Qe}if(ae===void 0||Se===void 0&&ee===ae&&ae===me)if(typeof ee=="string")O=ee+" "+Le[0];else switch(A.precision){case 2:O=X(ee/255)+" "+Le[0];break;case 3:default:O=M(ee/255)+" "+Le[0]}else if(Se===void 0||$t(Se)==="object"){if(Se&&!isNaN(Se.a)&&Se.a===0)return O=["1.","1.","1.",Le[1]].join(" ");if(typeof ee=="string")O=[ee,ae,me,Le[1]].join(" ");else switch(A.precision){case 2:O=[X(ee/255),X(ae/255),X(me/255),Le[1]].join(" ");break;default:case 3:O=[M(ee/255),M(ae/255),M(me/255),Le[1]].join(" ")}}else if(typeof ee=="string")O=[ee,ae,me,Se,Le[2]].join(" ");else switch(A.precision){case 2:O=[X(ee),X(ae),X(me),X(Se),Le[2]].join(" ");break;case 3:default:O=[M(ee),M(ae),M(me),M(Se),Le[2]].join(" ")}return O},qo=f.__private__.getFilters=function(){return o},Ss=f.__private__.putStream=function(A){var O=(A=A||{}).data||"",ee=A.filters||qo(),ae=A.alreadyAppliedFilters||[],me=A.addLength1||!1,Se=O.length,Le=A.objectId,ze=function(Ur){return Ur};if(u!==null&&Le===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");u!==null&&(ze=Vr.encryptor(Le,0));var Qe={};ee===!0&&(ee=["FlateEncode"]);var pt=A.additionalKeyValues||[],ut=(Qe=it.API.processDataByFilters!==void 0?it.API.processDataByFilters(O,ee):{data:O,reverseChain:[]}).reverseChain+(Array.isArray(ae)?ae.join(" "):ae.toString());if(Qe.data.length!==0&&(pt.push({key:"Length",value:Qe.data.length}),me===!0&&pt.push({key:"Length1",value:Se})),ut.length!=0)if(ut.split("/").length-1==1)pt.push({key:"Filter",value:ut});else{pt.push({key:"Filter",value:"["+ut+"]"});for(var Pt=0;Pt<pt.length;Pt+=1)if(pt[Pt].key==="DecodeParms"){for(var mn=[],_n=0;_n<Qe.reverseChain.split("/").length-1;_n+=1)mn.push("null");mn.push(pt[Pt].value),pt[Pt].value="["+mn.join(" ")+"]"}}te("<<");for(var Wn=0;Wn<pt.length;Wn++)te("/"+pt[Wn].key+" "+pt[Wn].value);te(">>"),Qe.data.length!==0&&(te("stream"),te(ze(Qe.data)),te("endstream"))},Wo=f.__private__.putPage=function(A){var O=A.number,ee=A.data,ae=A.objId,me=A.contentsObjId;qi(ae,!0),te("<</Type /Page"),te("/Parent "+A.rootDictionaryObjId+" 0 R"),te("/Resources "+A.resourceDictionaryObjId+" 0 R"),te("/MediaBox ["+parseFloat(R(A.mediaBox.bottomLeftX))+" "+parseFloat(R(A.mediaBox.bottomLeftY))+" "+R(A.mediaBox.topRightX)+" "+R(A.mediaBox.topRightY)+"]"),A.cropBox!==null&&te("/CropBox ["+R(A.cropBox.bottomLeftX)+" "+R(A.cropBox.bottomLeftY)+" "+R(A.cropBox.topRightX)+" "+R(A.cropBox.topRightY)+"]"),A.bleedBox!==null&&te("/BleedBox ["+R(A.bleedBox.bottomLeftX)+" "+R(A.bleedBox.bottomLeftY)+" "+R(A.bleedBox.topRightX)+" "+R(A.bleedBox.topRightY)+"]"),A.trimBox!==null&&te("/TrimBox ["+R(A.trimBox.bottomLeftX)+" "+R(A.trimBox.bottomLeftY)+" "+R(A.trimBox.topRightX)+" "+R(A.trimBox.topRightY)+"]"),A.artBox!==null&&te("/ArtBox ["+R(A.artBox.bottomLeftX)+" "+R(A.artBox.bottomLeftY)+" "+R(A.artBox.topRightX)+" "+R(A.artBox.topRightY)+"]"),typeof A.userUnit=="number"&&A.userUnit!==1&&te("/UserUnit "+A.userUnit),Ft.publish("putPage",{objId:ae,pageContext:ct[O],pageNumber:O,page:ee}),te("/Contents "+me+" 0 R"),te(">>"),te("endobj");var Se=ee.join(`
`);return S===w.ADVANCED&&(Se+=`
Q`),qi(me,!0),Ss({data:Se,filters:qo(),objectId:me}),te("endobj"),ae},qu=f.__private__.putPages=function(){var A,O,ee=[];for(A=1;A<=Cn;A++)ct[A].objId=qn(),ct[A].contentsObjId=qn();for(A=1;A<=Cn;A++)ee.push(Wo({number:A,data:Ae[A],objId:ct[A].objId,contentsObjId:ct[A].contentsObjId,mediaBox:ct[A].mediaBox,cropBox:ct[A].cropBox,bleedBox:ct[A].bleedBox,trimBox:ct[A].trimBox,artBox:ct[A].artBox,userUnit:ct[A].userUnit,rootDictionaryObjId:Oa,resourceDictionaryObjId:Qs}));qi(Oa,!0),te("<</Type /Pages");var ae="/Kids [";for(O=0;O<Cn;O++)ae+=ee[O]+" 0 R ";te(ae+"]"),te("/Count "+Cn),te(">>"),te("endobj"),Ft.publish("postPutPages")},pf=function(A){Ft.publish("putFont",{font:A,out:te,newObject:tr,putStream:Ss}),A.isAlreadyPutted!==!0&&(A.objectNumber=tr(),te("<<"),te("/Type /Font"),te("/BaseFont /"+Kf(A.postScriptName)),te("/Subtype /Type1"),typeof A.encoding=="string"&&te("/Encoding /"+A.encoding),te("/FirstChar 32"),te("/LastChar 255"),te(">>"),te("endobj"))},mf=function(){for(var A in Gt)Gt.hasOwnProperty(A)&&(d===!1||d===!0&&p.hasOwnProperty(A))&&pf(Gt[A])},gf=function(A){A.objectNumber=tr();var O=[];O.push({key:"Type",value:"/XObject"}),O.push({key:"Subtype",value:"/Form"}),O.push({key:"BBox",value:"["+[R(A.x),R(A.y),R(A.x+A.width),R(A.y+A.height)].join(" ")+"]"}),O.push({key:"Matrix",value:"["+A.matrix.toString()+"]"});var ee=A.pages[1].join(`
`);Ss({data:ee,additionalKeyValues:O,objectId:A.objectNumber}),te("endobj")},vf=function(){for(var A in Er)Er.hasOwnProperty(A)&&gf(Er[A])},T2=function(A,O){var ee,ae=[],me=1/(O-1);for(ee=0;ee<1;ee+=me)ae.push(ee);if(ae.push(1),A[0].offset!=0){var Se={offset:0,color:A[0].color};A.unshift(Se)}if(A[A.length-1].offset!=1){var Le={offset:1,color:A[A.length-1].color};A.push(Le)}for(var ze="",Qe=0,pt=0;pt<ae.length;pt++){for(ee=ae[pt];ee>A[Qe+1].offset;)Qe++;var ut=A[Qe].offset,Pt=(ee-ut)/(A[Qe+1].offset-ut),mn=A[Qe].color,_n=A[Qe+1].color;ze+=re(Math.round((1-Pt)*mn[0]+Pt*_n[0]).toString(16))+re(Math.round((1-Pt)*mn[1]+Pt*_n[1]).toString(16))+re(Math.round((1-Pt)*mn[2]+Pt*_n[2]).toString(16))}return ze.trim()},jS=function(A,O){O||(O=21);var ee=tr(),ae=T2(A.colors,O),me=[];me.push({key:"FunctionType",value:"0"}),me.push({key:"Domain",value:"[0.0 1.0]"}),me.push({key:"Size",value:"["+O+"]"}),me.push({key:"BitsPerSample",value:"8"}),me.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),me.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ss({data:ae,additionalKeyValues:me,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ee}),te("endobj"),A.objectNumber=tr(),te("<< /ShadingType "+A.type),te("/ColorSpace /DeviceRGB");var Se="/Coords ["+R(parseFloat(A.coords[0]))+" "+R(parseFloat(A.coords[1]))+" ";A.type===2?Se+=R(parseFloat(A.coords[2]))+" "+R(parseFloat(A.coords[3])):Se+=R(parseFloat(A.coords[2]))+" "+R(parseFloat(A.coords[3]))+" "+R(parseFloat(A.coords[4]))+" "+R(parseFloat(A.coords[5])),te(Se+="]"),A.matrix&&te("/Matrix ["+A.matrix.toString()+"]"),te("/Function "+ee+" 0 R"),te("/Extend [true true]"),te(">>"),te("endobj")},BS=function(A,O){var ee=qn(),ae=tr();O.push({resourcesOid:ee,objectOid:ae}),A.objectNumber=ae;var me=[];me.push({key:"Type",value:"/Pattern"}),me.push({key:"PatternType",value:"1"}),me.push({key:"PaintType",value:"1"}),me.push({key:"TilingType",value:"1"}),me.push({key:"BBox",value:"["+A.boundingBox.map(R).join(" ")+"]"}),me.push({key:"XStep",value:R(A.xStep)}),me.push({key:"YStep",value:R(A.yStep)}),me.push({key:"Resources",value:ee+" 0 R"}),A.matrix&&me.push({key:"Matrix",value:"["+A.matrix.toString()+"]"}),Ss({data:A.stream,additionalKeyValues:me,objectId:A.objectNumber}),te("endobj")},yf=function(A){var O;for(O in Mt)Mt.hasOwnProperty(O)&&(Mt[O]instanceof hd?jS(Mt[O]):Mt[O]instanceof wp&&BS(Mt[O],A))},L2=function(A){for(var O in A.objectNumber=tr(),te("<<"),A)switch(O){case"opacity":te("/ca "+X(A[O]));break;case"stroke-opacity":te("/CA "+X(A[O]))}te(">>"),te("endobj")},$S=function(){var A;for(A in En)En.hasOwnProperty(A)&&L2(En[A])},Dg=function(){for(var A in te("/XObject <<"),Er)Er.hasOwnProperty(A)&&Er[A].objectNumber>=0&&te("/"+A+" "+Er[A].objectNumber+" 0 R");Ft.publish("putXobjectDict"),te(">>")},zS=function(){Vr.oid=tr(),te("<<"),te("/Filter /Standard"),te("/V "+Vr.v),te("/R "+Vr.r),te("/U <"+Vr.toHexString(Vr.U)+">"),te("/O <"+Vr.toHexString(Vr.O)+">"),te("/P "+Vr.P),te(">>"),te("endobj")},k2=function(){for(var A in te("/Font <<"),Gt)Gt.hasOwnProperty(A)&&(d===!1||d===!0&&p.hasOwnProperty(A))&&te("/"+A+" "+Gt[A].objectNumber+" 0 R");te(">>")},VS=function(){if(Object.keys(Mt).length>0){for(var A in te("/Shading <<"),Mt)Mt.hasOwnProperty(A)&&Mt[A]instanceof hd&&Mt[A].objectNumber>=0&&te("/"+A+" "+Mt[A].objectNumber+" 0 R");Ft.publish("putShadingPatternDict"),te(">>")}},bf=function(A){if(Object.keys(Mt).length>0){for(var O in te("/Pattern <<"),Mt)Mt.hasOwnProperty(O)&&Mt[O]instanceof f.TilingPattern&&Mt[O].objectNumber>=0&&Mt[O].objectNumber<A&&te("/"+O+" "+Mt[O].objectNumber+" 0 R");Ft.publish("putTilingPatternDict"),te(">>")}},US=function(){if(Object.keys(En).length>0){var A;for(A in te("/ExtGState <<"),En)En.hasOwnProperty(A)&&En[A].objectNumber>=0&&te("/"+A+" "+En[A].objectNumber+" 0 R");Ft.publish("putGStateDict"),te(">>")}},Mn=function(A){qi(A.resourcesOid,!0),te("<<"),te("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),k2(),VS(),bf(A.objectOid),US(),Dg(),te(">>"),te("endobj")},R2=function(){var A=[];mf(),$S(),vf(),yf(A),Ft.publish("putResources"),A.forEach(Mn),Mn({resourcesOid:Qs,objectOid:Number.MAX_SAFE_INTEGER}),Ft.publish("postPutResources")},I2=function(){Ft.publish("putAdditionalObjects");for(var A=0;A<Ee.length;A++){var O=Ee[A];qi(O.objId,!0),te(O.content),te("endobj")}Ft.publish("postPutAdditionalObjects")},M2=function(A){ln[A.fontName]=ln[A.fontName]||{},ln[A.fontName][A.fontStyle]=A.id},Og=function(A,O,ee,ae,me){var Se={id:"F"+(Object.keys(Gt).length+1).toString(10),postScriptName:A,fontName:O,fontStyle:ee,encoding:ae,isStandardFont:me||!1,metadata:{}};return Ft.publish("addFont",{font:Se,instance:this}),Gt[Se.id]=Se,M2(Se),Se.id},HS=function(A){for(var O=0,ee=ke.length;O<ee;O++){var ae=Og.call(this,A[O][0],A[O][1],A[O][2],ke[O][3],!0);d===!1&&(p[ae]=!0);var me=A[O][0].split("-");M2({id:ae,fontName:me[0],fontStyle:me[1]||""})}Ft.publish("addFonts",{fonts:Gt,dictionary:ln})},to=function(A){return A.foo=function(){try{return A.apply(this,arguments)}catch(ae){var O=ae.stack||"";~O.indexOf(" at ")&&(O=O.split(" at ")[1]);var ee="Error in function "+O.split(`
`)[0].split("<")[0]+": "+ae.message;if(!st.console)throw new Error(ee);st.console.error(ee,ae),st.alert&&alert(ee)}},A.foo.bar=A,A.foo},wf=function(A,O){var ee,ae,me,Se,Le,ze,Qe,pt,ut;if(me=(O=O||{}).sourceEncoding||"Unicode",Le=O.outputEncoding,(O.autoencode||Le)&&Gt[xt].metadata&&Gt[xt].metadata[me]&&Gt[xt].metadata[me].encoding&&(Se=Gt[xt].metadata[me].encoding,!Le&&Gt[xt].encoding&&(Le=Gt[xt].encoding),!Le&&Se.codePages&&(Le=Se.codePages[0]),typeof Le=="string"&&(Le=Se[Le]),Le)){for(Qe=!1,ze=[],ee=0,ae=A.length;ee<ae;ee++)(pt=Le[A.charCodeAt(ee)])?ze.push(String.fromCharCode(pt)):ze.push(A[ee]),ze[ee].charCodeAt(0)>>8&&(Qe=!0);A=ze.join("")}for(ee=A.length;Qe===void 0&&ee!==0;)A.charCodeAt(ee-1)>>8&&(Qe=!0),ee--;if(!Qe)return A;for(ze=O.noBOM?[]:[254,255],ee=0,ae=A.length;ee<ae;ee++){if((ut=(pt=A.charCodeAt(ee))>>8)>>8)throw new Error("Character at position "+ee+" of string '"+A+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");ze.push(ut),ze.push(pt-(ut<<8))}return String.fromCharCode.apply(void 0,ze)},Ei=f.__private__.pdfEscape=f.pdfEscape=function(A,O){return wf(A,O).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},jg=f.__private__.beginPage=function(A){Ae[++Cn]=[],ct[Cn]={objId:0,contentsObjId:0,userUnit:Number(a),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(A[0]),topRightY:Number(A[1])}},D2(Cn),we(Ae[G])},F2=function(A,O){var ee,ae,me;switch(t=O||t,typeof A=="string"&&(ee=v(A.toLowerCase()),Array.isArray(ee)&&(ae=ee[0],me=ee[1])),Array.isArray(A)&&(ae=A[0]*$e,me=A[1]*$e),isNaN(ae)&&(ae=i[0],me=i[1]),(ae>14400||me>14400)&&(Jt.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ae=Math.min(14400,ae),me=Math.min(14400,me)),i=[ae,me],t.substr(0,1)){case"l":me>ae&&(i=[me,ae]);break;case"p":ae>me&&(i=[me,ae])}jg(i),V2(Vg),te(no),Hg!==0&&te(Hg+" J"),qg!==0&&te(qg+" j"),Ft.publish("addPage",{pageNumber:Cn})},qS=function(A){A>0&&A<=Cn&&(Ae.splice(A,1),ct.splice(A,1),Cn--,G>Cn&&(G=Cn),this.setPage(G))},D2=function(A){A>0&&A<=Cn&&(G=A)},WS=f.__private__.getNumberOfPages=f.getNumberOfPages=function(){return Ae.length-1},O2=function(A,O,ee){var ae,me=void 0;return ee=ee||{},A=A!==void 0?A:Gt[xt].fontName,O=O!==void 0?O:Gt[xt].fontStyle,ae=A.toLowerCase(),ln[ae]!==void 0&&ln[ae][O]!==void 0?me=ln[ae][O]:ln[A]!==void 0&&ln[A][O]!==void 0?me=ln[A][O]:ee.disableWarning===!1&&Jt.warn("Unable to look up font label for font '"+A+"', '"+O+"'. Refer to getFontList() for available fonts."),me||ee.noFallback||(me=ln.times[O])==null&&(me=ln.times.normal),me},GS=f.__private__.putInfo=function(){var A=tr(),O=function(ae){return ae};for(var ee in u!==null&&(O=Vr.encryptor(A,0)),te("<<"),te("/Producer ("+Ei(O("jsPDF "+it.version))+")"),ot)ot.hasOwnProperty(ee)&&ot[ee]&&te("/"+ee.substr(0,1).toUpperCase()+ee.substr(1)+" ("+Ei(O(ot[ee]))+")");te("/CreationDate ("+Ei(O(le))+")"),te(">>"),te("endobj")},Bg=f.__private__.putCatalog=function(A){var O=(A=A||{}).rootDictionaryObjId||Oa;switch(tr(),te("<<"),te("/Type /Catalog"),te("/Pages "+O+" 0 R"),Oe||(Oe="fullwidth"),Oe){case"fullwidth":te("/OpenAction [3 0 R /FitH null]");break;case"fullheight":te("/OpenAction [3 0 R /FitV null]");break;case"fullpage":te("/OpenAction [3 0 R /Fit]");break;case"original":te("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ee=""+Oe;ee.substr(ee.length-1)==="%"&&(Oe=parseInt(Oe)/100),typeof Oe=="number"&&te("/OpenAction [3 0 R /XYZ null null "+X(Oe)+"]")}switch(bt||(bt="continuous"),bt){case"continuous":te("/PageLayout /OneColumn");break;case"single":te("/PageLayout /SinglePage");break;case"two":case"twoleft":te("/PageLayout /TwoColumnLeft");break;case"tworight":te("/PageLayout /TwoColumnRight")}lt&&te("/PageMode /"+lt),Ft.publish("putCatalog"),te(">>"),te("endobj")},XS=f.__private__.putTrailer=function(){te("trailer"),te("<<"),te("/Size "+(oe+1)),te("/Root "+oe+" 0 R"),te("/Info "+(oe-1)+" 0 R"),u!==null&&te("/Encrypt "+Vr.oid+" 0 R"),te("/ID [ <"+Q+"> <"+Q+"> ]"),te(">>")},YS=f.__private__.putHeader=function(){te("%PDF-"+y),te("%")},KS=f.__private__.putXRef=function(){var A="0000000000";te("xref"),te("0 "+(oe+1)),te("0000000000 65535 f ");for(var O=1;O<=oe;O++)typeof ie[O]=="function"?te((A+ie[O]()).slice(-10)+" 00000 n "):ie[O]!==void 0?te((A+ie[O]).slice(-10)+" 00000 n "):te("0000000000 00000 n ")},ja=f.__private__.buildDocument=function(){qe(),we(pe),Ft.publish("buildDocument"),YS(),qu(),I2(),R2(),u!==null&&zS(),GS(),Bg();var A=ge;return KS(),XS(),te("startxref"),te(""+A),te("%%EOF"),we(Ae[G]),pe.join(`
`)},xf=f.__private__.getBlob=function(A){return new Blob([Xe(A)],{type:"application/pdf"})},Af=f.output=f.__private__.output=to(function(A,O){switch(typeof(O=O||{})=="string"?O={filename:O}:O.filename=O.filename||"generated.pdf",A){case void 0:return ja();case"save":f.save(O.filename);break;case"arraybuffer":return Xe(ja());case"blob":return xf(ja());case"bloburi":case"bloburl":if(st.URL!==void 0&&typeof st.URL.createObjectURL=="function")return st.URL&&st.URL.createObjectURL(xf(ja()))||void 0;Jt.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ee="",ae=ja();try{ee=b_(ae)}catch{ee=b_(unescape(encodeURIComponent(ae)))}return"data:application/pdf;filename="+O.filename+";base64,"+ee;case"pdfobjectnewwindow":if(Object.prototype.toString.call(st)==="[object Window]"){var me="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Se=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';O.pdfObjectUrl&&(me=O.pdfObjectUrl,Se="");var Le='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+me+'"'+Se+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(O)+");<\/script></body></html>",ze=st.open();return ze!==null&&ze.document.write(Le),ze}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(st)==="[object Window]"){var Qe='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(O.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+O.filename+'" width="500px" height="400px" /></body></html>',pt=st.open();if(pt!==null){pt.document.write(Qe);var ut=this;pt.document.documentElement.querySelector("#pdfViewer").onload=function(){pt.document.title=O.filename,pt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(ut.output("bloburl"))}}return pt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(st)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Pt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",O)+'"></iframe></body></html>',mn=st.open();if(mn!==null&&(mn.document.write(Pt),mn.document.title=O.filename),mn||typeof safari>"u")return mn;break;case"datauri":case"dataurl":return st.document.location.href=this.output("datauristring",O);default:return null}}),j2=function(A){return Array.isArray(Hu)===!0&&Hu.indexOf(A)>-1};switch(r){case"pt":$e=1;break;case"mm":$e=72/25.4;break;case"cm":$e=72/2.54;break;case"in":$e=72;break;case"px":$e=j2("px_scaling")==1?.75:96/72;break;case"pc":case"em":$e=12;break;case"ex":$e=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);$e=r}var Vr=null;be(),Y();var JS=function(A){return u!==null?Vr.encryptor(A,0):function(O){return O}},B2=f.__private__.getPageInfo=f.getPageInfo=function(A){if(isNaN(A)||A%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:ct[A].objId,pageNumber:A,pageContext:ct[A]}},at=f.__private__.getPageInfoByObjId=function(A){if(isNaN(A)||A%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var O in ct)if(ct[O].objId===A)break;return B2(O)},QS=f.__private__.getCurrentPageInfo=f.getCurrentPageInfo=function(){return{objId:ct[G].objId,pageNumber:G,pageContext:ct[G]}};f.addPage=function(){return F2.apply(this,arguments),this},f.setPage=function(){return D2.apply(this,arguments),we.call(this,Ae[G]),this},f.insertPage=function(A){return this.addPage(),this.movePage(G,A),this},f.movePage=function(A,O){var ee,ae;if(A>O){ee=Ae[A],ae=ct[A];for(var me=A;me>O;me--)Ae[me]=Ae[me-1],ct[me]=ct[me-1];Ae[O]=ee,ct[O]=ae,this.setPage(O)}else if(A<O){ee=Ae[A],ae=ct[A];for(var Se=A;Se<O;Se++)Ae[Se]=Ae[Se+1],ct[Se]=ct[Se+1];Ae[O]=ee,ct[O]=ae,this.setPage(O)}return this},f.deletePage=function(){return qS.apply(this,arguments),this},f.__private__.text=f.text=function(A,O,ee,ae,me){var Se,Le,ze,Qe,pt,ut,Pt,mn,_n,Wn=(ae=ae||{}).scope||this;if(typeof A=="number"&&typeof O=="number"&&(typeof ee=="string"||Array.isArray(ee))){var Ur=ee;ee=O,O=A,A=Ur}if(arguments[3]instanceof tt?(k("The transform parameter of text() with a Matrix value"),_n=me):(ze=arguments[4],Qe=arguments[5],$t(Pt=arguments[3])==="object"&&Pt!==null||(typeof ze=="string"&&(Qe=ze,ze=null),typeof Pt=="string"&&(Qe=Pt,Pt=null),typeof Pt=="number"&&(ze=Pt,Pt=null),ae={flags:Pt,angle:ze,align:Qe})),isNaN(O)||isNaN(ee)||A==null)throw new Error("Invalid arguments passed to jsPDF.text");if(A.length===0)return Wn;var cr="",ro=!1,Wi=typeof ae.lineHeightFactor=="number"?ae.lineHeightFactor:Gu,Yo=Wn.internal.scaleFactor;function X2(Qt){return Qt=Qt.split("	").join(Array(ae.TabLen||9).join(" ")),Ei(Qt,Pt)}function Kg(Qt){for(var Zt,Dn=Qt.concat(),nr=[],Ua=Dn.length;Ua--;)typeof(Zt=Dn.shift())=="string"?nr.push(Zt):Array.isArray(Qt)&&(Zt.length===1||Zt[1]===void 0&&Zt[2]===void 0)?nr.push(Zt[0]):nr.push([Zt[0],Zt[1],Zt[2]]);return nr}function Jg(Qt,Zt){var Dn;if(typeof Qt=="string")Dn=Zt(Qt)[0];else if(Array.isArray(Qt)){for(var nr,Ua,s0=Qt.concat(),Of=[],Z2=s0.length;Z2--;)typeof(nr=s0.shift())=="string"?Of.push(Zt(nr)[0]):Array.isArray(nr)&&typeof nr[0]=="string"&&(Ua=Zt(nr[0],nr[1],nr[2]),Of.push([Ua[0],Ua[1],Ua[2]]));Dn=Of}return Dn}var Nf=!1,Qg=!0;if(typeof A=="string")Nf=!0;else if(Array.isArray(A)){var Zg=A.concat();Le=[];for(var Tf,Cr=Zg.length;Cr--;)(typeof(Tf=Zg.shift())!="string"||Array.isArray(Tf)&&typeof Tf[0]!="string")&&(Qg=!1);Nf=Qg}if(Nf===!1)throw new Error('Type of text must be string or Array. "'+A+'" is not recognized.');typeof A=="string"&&(A=A.match(/[\r?\n]/)?A.split(/\r\n|\r|\n/g):[A]);var Lf=Fe/Wn.internal.scaleFactor,kf=Lf*(Wi-1);switch(ae.baseline){case"bottom":ee-=kf;break;case"top":ee+=Lf-kf;break;case"hanging":ee+=Lf-2*kf;break;case"middle":ee+=Lf/2-kf}if((ut=ae.maxWidth||0)>0&&(typeof A=="string"?A=Wn.splitTextToSize(A,ut):Object.prototype.toString.call(A)==="[object Array]"&&(A=A.reduce(function(Qt,Zt){return Qt.concat(Wn.splitTextToSize(Zt,ut))},[]))),Se={text:A,x:O,y:ee,options:ae,mutex:{pdfEscape:Ei,activeFontKey:xt,fonts:Gt,activeFontSize:Fe}},Ft.publish("preProcessText",Se),A=Se.text,ze=(ae=Se.options).angle,!(_n instanceof tt)&&ze&&typeof ze=="number"){ze*=Math.PI/180,ae.rotationDirection===0&&(ze=-ze),S===w.ADVANCED&&(ze=-ze);var Rf=Math.cos(ze),e0=Math.sin(ze);_n=new tt(Rf,e0,-e0,Rf,0,0)}else ze&&ze instanceof tt&&(_n=ze);S!==w.ADVANCED||_n||(_n=Ho),(pt=ae.charSpace||Cf)!==void 0&&(cr+=R(j(pt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(mn=ae.horizontalScale)!==void 0&&(cr+=R(100*mn)+` Tz
`),ae.lang;var Ci=-1,l3=ae.renderingMode!==void 0?ae.renderingMode:ae.stroke,t0=Wn.internal.getCurrentPageInfo().pageContext;switch(l3){case 0:case!1:case"fill":Ci=0;break;case 1:case!0:case"stroke":Ci=1;break;case 2:case"fillThenStroke":Ci=2;break;case 3:case"invisible":Ci=3;break;case 4:case"fillAndAddForClipping":Ci=4;break;case 5:case"strokeAndAddPathForClipping":Ci=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Ci=6;break;case 7:case"addToPathForClipping":Ci=7}var Y2=t0.usedRenderingMode!==void 0?t0.usedRenderingMode:-1;Ci!==-1?cr+=Ci+` Tr
`:Y2!==-1&&(cr+=`0 Tr
`),Ci!==-1&&(t0.usedRenderingMode=Ci),Qe=ae.align||"left";var Es,If=Fe*Wi,K2=Wn.internal.pageSize.getWidth(),J2=Gt[xt];pt=ae.charSpace||Cf,ut=ae.maxWidth||0,Pt=Object.assign({autoencode:!0,noBOM:!0},ae.flags);var ec=[],Ku=function(Qt){return Wn.getStringUnitWidth(Qt,{font:J2,charSpace:pt,fontSize:Fe,doKerning:!1})*Fe/Yo};if(Object.prototype.toString.call(A)==="[object Array]"){var _i;Le=Kg(A),Qe!=="left"&&(Es=Le.map(Ku));var oi,tc=0;if(Qe==="right"){O-=Es[0],A=[],Cr=Le.length;for(var $a=0;$a<Cr;$a++)$a===0?(oi=Xo(O),_i=Ba(ee)):(oi=j(tc-Es[$a]),_i=-If),A.push([Le[$a],oi,_i]),tc=Es[$a]}else if(Qe==="center"){O-=Es[0]/2,A=[],Cr=Le.length;for(var za=0;za<Cr;za++)za===0?(oi=Xo(O),_i=Ba(ee)):(oi=j((tc-Es[za])/2),_i=-If),A.push([Le[za],oi,_i]),tc=Es[za]}else if(Qe==="left"){A=[],Cr=Le.length;for(var Mf=0;Mf<Cr;Mf++)A.push(Le[Mf])}else if(Qe==="justify"&&J2.encoding==="Identity-H"){A=[],Cr=Le.length,ut=ut!==0?ut:K2;for(var Va=0,Fn=0;Fn<Cr;Fn++)if(_i=Fn===0?Ba(ee):-If,oi=Fn===0?Xo(O):Va,Fn<Cr-1){var n0=j((ut-Es[Fn])/(Le[Fn].split(" ").length-1)),ai=Le[Fn].split(" ");A.push([ai[0]+" ",oi,_i]),Va=0;for(var Cs=1;Cs<ai.length;Cs++){var Ff=(Ku(ai[Cs-1]+" "+ai[Cs])-Ku(ai[Cs]))*Yo+n0;Cs==ai.length-1?A.push([ai[Cs],Ff,0]):A.push([ai[Cs]+" ",Ff,0]),Va-=Ff}}else A.push([Le[Fn],oi,_i]);A.push(["",Va,0])}else{if(Qe!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(A=[],Cr=Le.length,ut=ut!==0?ut:K2,Fn=0;Fn<Cr;Fn++)_i=Fn===0?Ba(ee):-If,oi=Fn===0?Xo(O):0,Fn<Cr-1?ec.push(R(j((ut-Es[Fn])/(Le[Fn].split(" ").length-1)))):ec.push(0),A.push([Le[Fn],oi,_i])}}var Q2=typeof ae.R2L=="boolean"?ae.R2L:Je;Q2===!0&&(A=Jg(A,function(Qt,Zt,Dn){return[Qt.split("").reverse().join(""),Zt,Dn]})),Se={text:A,x:O,y:ee,options:ae,mutex:{pdfEscape:Ei,activeFontKey:xt,fonts:Gt,activeFontSize:Fe}},Ft.publish("postProcessText",Se),A=Se.text,ro=Se.mutex.isHex||!1;var r0=Gt[xt].encoding;r0!=="WinAnsiEncoding"&&r0!=="StandardEncoding"||(A=Jg(A,function(Qt,Zt,Dn){return[X2(Qt),Zt,Dn]})),Le=Kg(A),A=[];for(var Ju,Qu,nc,Zu=0,Df=1,ed=Array.isArray(Le[0])?Df:Zu,rc="",i0=function(Qt,Zt,Dn){var nr="";return Dn instanceof tt?(Dn=typeof ae.angle=="number"?Js(Dn,new tt(1,0,0,1,Qt,Zt)):Js(new tt(1,0,0,1,Qt,Zt),Dn),S===w.ADVANCED&&(Dn=Js(new tt(1,0,0,-1,0,0),Dn)),nr=Dn.join(" ")+` Tm
`):nr=R(Qt)+" "+R(Zt)+` Td
`,nr},_s=0;_s<Le.length;_s++){switch(rc="",ed){case Df:nc=(ro?"<":"(")+Le[_s][0]+(ro?">":")"),Ju=parseFloat(Le[_s][1]),Qu=parseFloat(Le[_s][2]);break;case Zu:nc=(ro?"<":"(")+Le[_s]+(ro?">":")"),Ju=Xo(O),Qu=Ba(ee)}ec!==void 0&&ec[_s]!==void 0&&(rc=ec[_s]+` Tw
`),_s===0?A.push(rc+i0(Ju,Qu,_n)+nc):ed===Zu?A.push(rc+nc):ed===Df&&A.push(rc+i0(Ju,Qu,_n)+nc)}A=ed===Zu?A.join(` Tj
T* `):A.join(` Tj
`),A+=` Tj
`;var Ps=`BT
/`;return Ps+=xt+" "+Fe+` Tf
`,Ps+=R(Fe*Wi)+` TL
`,Ps+=Xu+`
`,Ps+=cr,Ps+=A,te(Ps+="ET"),p[xt]=!0,Wn};var ZS=f.__private__.clip=f.clip=function(A){return te(A==="evenodd"?"W*":"W"),this};f.clipEvenOdd=function(){return ZS("evenodd")},f.__private__.discardPath=f.discardPath=function(){return te("n"),this};var Go=f.__private__.isValidStyle=function(A){var O=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(A)!==-1&&(O=!0),O};f.__private__.setDefaultPathOperation=f.setDefaultPathOperation=function(A){return Go(A)&&(c=A),this};var $2=f.__private__.getStyle=f.getStyle=function(A){var O=c;switch(A){case"D":case"S":O="S";break;case"F":O="f";break;case"FD":case"DF":O="B";break;case"f":case"f*":case"B":case"B*":O=A}return O},z2=f.close=function(){return te("h"),this};f.stroke=function(){return te("S"),this},f.fill=function(A){return Sf("f",A),this},f.fillEvenOdd=function(A){return Sf("f*",A),this},f.fillStroke=function(A){return Sf("B",A),this},f.fillStrokeEvenOdd=function(A){return Sf("B*",A),this};var Sf=function(A,O){$t(O)==="object"?t3(O,A):te(A)},$g=function(A){A===null||S===w.ADVANCED&&A===void 0||(A=$2(A),te(A))};function e3(A,O,ee,ae,me){var Se=new wp(O||this.boundingBox,ee||this.xStep,ae||this.yStep,this.gState,me||this.matrix);Se.stream=this.stream;var Le=A+"$$"+this.cloneIndex+++"$$";return Si(Le,Se),Se}var t3=function(A,O){var ee=Uu[A.key],ae=Mt[ee];if(ae instanceof hd)te("q"),te(n3(O)),ae.gState&&f.setGState(ae.gState),te(A.matrix.toString()+" cm"),te("/"+ee+" sh"),te("Q");else if(ae instanceof wp){var me=new tt(1,0,0,-1,0,Zl());A.matrix&&(me=me.multiply(A.matrix||Ho),ee=e3.call(ae,A.key,A.boundingBox,A.xStep,A.yStep,me).id),te("q"),te("/Pattern cs"),te("/"+ee+" scn"),ae.gState&&f.setGState(ae.gState),te(O),te("Q")}},n3=function(A){switch(A){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},zg=f.moveTo=function(A,O){return te(R(j(A))+" "+R(U(O))+" m"),this},Wu=f.lineTo=function(A,O){return te(R(j(A))+" "+R(U(O))+" l"),this},Jl=f.curveTo=function(A,O,ee,ae,me,Se){return te([R(j(A)),R(U(O)),R(j(ee)),R(U(ae)),R(j(me)),R(U(Se)),"c"].join(" ")),this};f.__private__.line=f.line=function(A,O,ee,ae,me){if(isNaN(A)||isNaN(O)||isNaN(ee)||isNaN(ae)||!Go(me))throw new Error("Invalid arguments passed to jsPDF.line");return S===w.COMPAT?this.lines([[ee-A,ae-O]],A,O,[1,1],me||"S"):this.lines([[ee-A,ae-O]],A,O,[1,1]).stroke()},f.__private__.lines=f.lines=function(A,O,ee,ae,me,Se){var Le,ze,Qe,pt,ut,Pt,mn,_n,Wn,Ur,cr,ro;if(typeof A=="number"&&(ro=ee,ee=O,O=A,A=ro),ae=ae||[1,1],Se=Se||!1,isNaN(O)||isNaN(ee)||!Array.isArray(A)||!Array.isArray(ae)||!Go(me)||typeof Se!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(zg(O,ee),Le=ae[0],ze=ae[1],pt=A.length,Ur=O,cr=ee,Qe=0;Qe<pt;Qe++)(ut=A[Qe]).length===2?(Ur=ut[0]*Le+Ur,cr=ut[1]*ze+cr,Wu(Ur,cr)):(Pt=ut[0]*Le+Ur,mn=ut[1]*ze+cr,_n=ut[2]*Le+Ur,Wn=ut[3]*ze+cr,Ur=ut[4]*Le+Ur,cr=ut[5]*ze+cr,Jl(Pt,mn,_n,Wn,Ur,cr));return Se&&z2(),$g(me),this},f.path=function(A){for(var O=0;O<A.length;O++){var ee=A[O],ae=ee.c;switch(ee.op){case"m":zg(ae[0],ae[1]);break;case"l":Wu(ae[0],ae[1]);break;case"c":Jl.apply(this,ae);break;case"h":z2()}}return this},f.__private__.rect=f.rect=function(A,O,ee,ae,me){if(isNaN(A)||isNaN(O)||isNaN(ee)||isNaN(ae)||!Go(me))throw new Error("Invalid arguments passed to jsPDF.rect");return S===w.COMPAT&&(ae=-ae),te([R(j(A)),R(U(O)),R(j(ee)),R(j(ae)),"re"].join(" ")),$g(me),this},f.__private__.triangle=f.triangle=function(A,O,ee,ae,me,Se,Le){if(isNaN(A)||isNaN(O)||isNaN(ee)||isNaN(ae)||isNaN(me)||isNaN(Se)||!Go(Le))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ee-A,ae-O],[me-ee,Se-ae],[A-me,O-Se]],A,O,[1,1],Le,!0),this},f.__private__.roundedRect=f.roundedRect=function(A,O,ee,ae,me,Se,Le){if(isNaN(A)||isNaN(O)||isNaN(ee)||isNaN(ae)||isNaN(me)||isNaN(Se)||!Go(Le))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var ze=4/3*(Math.SQRT2-1);return me=Math.min(me,.5*ee),Se=Math.min(Se,.5*ae),this.lines([[ee-2*me,0],[me*ze,0,me,Se-Se*ze,me,Se],[0,ae-2*Se],[0,Se*ze,-me*ze,Se,-me,Se],[2*me-ee,0],[-me*ze,0,-me,-Se*ze,-me,-Se],[0,2*Se-ae],[0,-Se*ze,me*ze,-Se,me,-Se]],A+me,O,[1,1],Le,!0),this},f.__private__.ellipse=f.ellipse=function(A,O,ee,ae,me){if(isNaN(A)||isNaN(O)||isNaN(ee)||isNaN(ae)||!Go(me))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Se=4/3*(Math.SQRT2-1)*ee,Le=4/3*(Math.SQRT2-1)*ae;return zg(A+ee,O),Jl(A+ee,O-Le,A+Se,O-ae,A,O-ae),Jl(A-Se,O-ae,A-ee,O-Le,A-ee,O),Jl(A-ee,O+Le,A-Se,O+ae,A,O+ae),Jl(A+Se,O+ae,A+ee,O+Le,A+ee,O),$g(me),this},f.__private__.circle=f.circle=function(A,O,ee,ae){if(isNaN(A)||isNaN(O)||isNaN(ee)||!Go(ae))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(A,O,ee,ee,ae)},f.setFont=function(A,O,ee){return ee&&(O=$(O,ee)),xt=O2(A,O,{disableWarning:!1}),this};var r3=f.__private__.getFont=f.getFont=function(){return Gt[O2.apply(f,arguments)]};f.__private__.getFontList=f.getFontList=function(){var A,O,ee={};for(A in ln)if(ln.hasOwnProperty(A))for(O in ee[A]=[],ln[A])ln[A].hasOwnProperty(O)&&ee[A].push(O);return ee},f.addFont=function(A,O,ee,ae,me){var Se=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Se.indexOf(arguments[3])!==-1?me=arguments[3]:arguments[3]&&Se.indexOf(arguments[3])==-1&&(ee=$(ee,ae)),me=me||"Identity-H",Og.call(this,A,O,ee,me)};var Gu,Vg=n.lineWidth||.200025,Ef=f.__private__.getLineWidth=f.getLineWidth=function(){return Vg},V2=f.__private__.setLineWidth=f.setLineWidth=function(A){return Vg=A,te(R(j(A))+" w"),this};f.__private__.setLineDash=it.API.setLineDash=it.API.setLineDashPattern=function(A,O){if(A=A||[],O=O||0,isNaN(O)||!Array.isArray(A))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return A=A.map(function(ee){return R(j(ee))}).join(" "),O=R(j(O)),te("["+A+"] "+O+" d"),this};var U2=f.__private__.getLineHeight=f.getLineHeight=function(){return Fe*Gu};f.__private__.getLineHeight=f.getLineHeight=function(){return Fe*Gu};var H2=f.__private__.setLineHeightFactor=f.setLineHeightFactor=function(A){return typeof(A=A||1.15)=="number"&&(Gu=A),this},q2=f.__private__.getLineHeightFactor=f.getLineHeightFactor=function(){return Gu};H2(n.lineHeight);var Xo=f.__private__.getHorizontalCoordinate=function(A){return j(A)},Ba=f.__private__.getVerticalCoordinate=function(A){return S===w.ADVANCED?A:ct[G].mediaBox.topRightY-ct[G].mediaBox.bottomLeftY-j(A)},i3=f.__private__.getHorizontalCoordinateString=f.getHorizontalCoordinateString=function(A){return R(Xo(A))},Ql=f.__private__.getVerticalCoordinateString=f.getVerticalCoordinateString=function(A){return R(Ba(A))},no=n.strokeColor||"0 G";f.__private__.getStrokeColor=f.getDrawColor=function(){return Zs(no)},f.__private__.setStrokeColor=f.setDrawColor=function(A,O,ee,ae){return no=eo({ch1:A,ch2:O,ch3:ee,ch4:ae,pdfColorType:"draw",precision:2}),te(no),this};var Ug=n.fillColor||"0 g";f.__private__.getFillColor=f.getFillColor=function(){return Zs(Ug)},f.__private__.setFillColor=f.setFillColor=function(A,O,ee,ae){return Ug=eo({ch1:A,ch2:O,ch3:ee,ch4:ae,pdfColorType:"fill",precision:2}),te(Ug),this};var Xu=n.textColor||"0 g",s3=f.__private__.getTextColor=f.getTextColor=function(){return Zs(Xu)};f.__private__.setTextColor=f.setTextColor=function(A,O,ee,ae){return Xu=eo({ch1:A,ch2:O,ch3:ee,ch4:ae,pdfColorType:"text",precision:3}),this};var Cf=n.charSpace,o3=f.__private__.getCharSpace=f.getCharSpace=function(){return parseFloat(Cf||0)};f.__private__.setCharSpace=f.setCharSpace=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Cf=A,this};var Hg=0;f.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},f.__private__.setLineCap=f.setLineCap=function(A){var O=f.CapJoinStyles[A];if(O===void 0)throw new Error("Line cap style of '"+A+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Hg=O,te(O+" J"),this};var qg=0;f.__private__.setLineJoin=f.setLineJoin=function(A){var O=f.CapJoinStyles[A];if(O===void 0)throw new Error("Line join style of '"+A+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return qg=O,te(O+" j"),this},f.__private__.setLineMiterLimit=f.__private__.setMiterLimit=f.setLineMiterLimit=f.setMiterLimit=function(A){if(A=A||0,isNaN(A))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return te(R(j(A))+" M"),this},f.GState=Ww,f.setGState=function(A){(A=typeof A=="string"?En[Ks[A]]:W2(null,A)).equals(Da)||(te("/"+A.id+" gs"),Da=A)};var W2=function(A,O){if(!A||!Ks[A]){var ee=!1;for(var ae in En)if(En.hasOwnProperty(ae)&&En[ae].equals(O)){ee=!0;break}if(ee)O=En[ae];else{var me="GS"+(Object.keys(En).length+1).toString(10);En[me]=O,O.id=me}return A&&(Ks[A]=O.id),Ft.publish("addGState",O),O}};f.addGState=function(A,O){return W2(A,O),this},f.saveGraphicsState=function(){return te("q"),zo.push({key:xt,size:Fe,color:Xu}),this},f.restoreGraphicsState=function(){te("Q");var A=zo.pop();return xt=A.key,Fe=A.size,Xu=A.color,Da=null,this},f.setCurrentTransformationMatrix=function(A){return te(A.toString()+" cm"),this},f.comment=function(A){return te("#"+A),this};var _f=function(A,O){var ee=A||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ee},set:function(Se){isNaN(Se)||(ee=parseFloat(Se))}});var ae=O||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ae},set:function(Se){isNaN(Se)||(ae=parseFloat(Se))}});var me="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return me},set:function(Se){me=Se.toString()}}),this},Wg=function(A,O,ee,ae){_f.call(this,A,O),this.type="rect";var me=ee||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return me},set:function(Le){isNaN(Le)||(me=parseFloat(Le))}});var Se=ae||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Se},set:function(Le){isNaN(Le)||(Se=parseFloat(Le))}}),this},Gg=function(){this.page=Cn,this.currentPage=G,this.pages=Ae.slice(0),this.pagesContext=ct.slice(0),this.x=zr,this.y=Rt,this.matrix=Ys,this.width=Yu(G),this.height=Zl(G),this.outputDestination=Re,this.id="",this.objectNumber=-1};Gg.prototype.restore=function(){Cn=this.page,G=this.currentPage,ct=this.pagesContext,Ae=this.pages,zr=this.x,Rt=this.y,Ys=this.matrix,Xg(G,this.width),Yg(G,this.height),Re=this.outputDestination};var G2=function(A,O,ee,ae,me){Uo.push(new Gg),Cn=G=0,Ae=[],zr=A,Rt=O,Ys=me,jg([ee,ae])},a3=function(A){if(Vo[A])Uo.pop().restore();else{var O=new Gg,ee="Xo"+(Object.keys(Er).length+1).toString(10);O.id=ee,Vo[A]=ee,Er[ee]=O,Ft.publish("addFormObject",O),Uo.pop().restore()}};for(var Pf in f.beginFormObject=function(A,O,ee,ae,me){return G2(A,O,ee,ae,me),this},f.endFormObject=function(A){return a3(A),this},f.doFormObject=function(A,O){var ee=Er[Vo[A]];return te("q"),te(O.toString()+" cm"),te("/"+ee.id+" Do"),te("Q"),this},f.getFormObject=function(A){var O=Er[Vo[A]];return{x:O.x,y:O.y,width:O.width,height:O.height,matrix:O.matrix}},f.save=function(A,O){return A=A||"generated.pdf",(O=O||{}).returnPromise=O.returnPromise||!1,O.returnPromise===!1?(ld(xf(ja()),A),typeof ld.unload=="function"&&st.setTimeout&&setTimeout(ld.unload,911),this):new Promise(function(ee,ae){try{var me=ld(xf(ja()),A);typeof ld.unload=="function"&&st.setTimeout&&setTimeout(ld.unload,911),ee(me)}catch(Se){ae(Se.message)}})},it.API)it.API.hasOwnProperty(Pf)&&(Pf==="events"&&it.API.events.length?function(A,O){var ee,ae,me;for(me=O.length-1;me!==-1;me--)ee=O[me][0],ae=O[me][1],A.subscribe.apply(A,[ee].concat(typeof ae=="function"?[ae]:ae))}(Ft,it.API.events):f[Pf]=it.API[Pf]);var Yu=f.getPageWidth=function(A){return(ct[A=A||G].mediaBox.topRightX-ct[A].mediaBox.bottomLeftX)/$e},Xg=f.setPageWidth=function(A,O){ct[A].mediaBox.topRightX=O*$e+ct[A].mediaBox.bottomLeftX},Zl=f.getPageHeight=function(A){return(ct[A=A||G].mediaBox.topRightY-ct[A].mediaBox.bottomLeftY)/$e},Yg=f.setPageHeight=function(A,O){ct[A].mediaBox.topRightY=O*$e+ct[A].mediaBox.bottomLeftY};return f.internal={pdfEscape:Ei,getStyle:$2,getFont:r3,getFontSize:Be,getCharSpace:o3,getTextColor:s3,getLineHeight:U2,getLineHeightFactor:q2,getLineWidth:Ef,write:nt,getHorizontalCoordinate:Xo,getVerticalCoordinate:Ba,getCoordinateString:i3,getVerticalCoordinateString:Ql,collections:{},newObject:tr,newAdditionalObject:ff,newObjectDeferred:qn,newObjectDeferredBegin:qi,getFilters:qo,putStream:Ss,events:Ft,scaleFactor:$e,pageSize:{getWidth:function(){return Yu(G)},setWidth:function(A){Xg(G,A)},getHeight:function(){return Zl(G)},setHeight:function(A){Yg(G,A)}},encryptionOptions:u,encryption:Vr,getEncryptor:JS,output:Af,getNumberOfPages:WS,pages:Ae,out:te,f2:X,f3:M,getPageInfo:B2,getPageInfoByObjId:at,getCurrentPageInfo:QS,getPDFVersion:g,Point:_f,Rectangle:Wg,Matrix:tt,hasHotfix:j2},Object.defineProperty(f.internal.pageSize,"width",{get:function(){return Yu(G)},set:function(A){Xg(G,A)},enumerable:!0,configurable:!0}),Object.defineProperty(f.internal.pageSize,"height",{get:function(){return Zl(G)},set:function(A){Yg(G,A)},enumerable:!0,configurable:!0}),HS.call(f,ke),xt="F1",F2(i,t),Ft.publish("initialized"),f}Yf.prototype.lsbFirstWord=function(n){return String.fromCharCode(n>>0&255,n>>8&255,n>>16&255,n>>24&255)},Yf.prototype.toHexString=function(n){return n.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Yf.prototype.hexToBytes=function(n){for(var e=[],t=0;t<n.length;t+=2)e.push(String.fromCharCode(parseInt(n.substr(t,2),16)));return e.join("")},Yf.prototype.processOwnerPassword=function(n,e){return x_(w_(e).substr(0,5),n)},Yf.prototype.encryptor=function(n,e){var t=w_(this.encryptionKey+String.fromCharCode(255&n,n>>8&255,n>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return x_(t,r)}},Ww.prototype.equals=function(n){var e,t="id,objectNumber,equals";if(!n||$t(n)!==$t(this))return!1;var r=0;for(e in this)if(!(t.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!n.hasOwnProperty(e)||this[e]!==n[e])return!1;r++}for(e in n)n.hasOwnProperty(e)&&t.indexOf(e)<0&&r--;return r===0},it.API={events:[]},it.version="3.0.1";var Ln=it.API,NN=1,uf=function(n){return n.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Gf=function(n){return n.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},dt=function(n){return n.toFixed(2)},pc=function(n){return n.toFixed(5)};Ln.__acroform__={};var Hi=function(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n},I6=function(n){return n*NN},ta=function(n){var e=new C7,t=Ge.internal.getHeight(n)||0,r=Ge.internal.getWidth(n)||0;return e.BBox=[0,0,Number(dt(r)),Number(dt(t))],e},bQ=Ln.__acroform__.setBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return n|=1<<e},wQ=Ln.__acroform__.clearBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return n&=~(1<<e)},xQ=Ln.__acroform__.getBit=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return n&1<<e?1:0},zn=Ln.__acroform__.getBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return xQ(n,e-1)},Vn=Ln.__acroform__.setBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return bQ(n,e-1)},Un=Ln.__acroform__.clearBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return wQ(n,e-1)},AQ=Ln.__acroform__.calculateCoordinates=function(n,e){var t=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,i=n[0],s=n[1],o=n[2],a=n[3],l={};return l.lowerLeft_X=t(i)||0,l.lowerLeft_Y=r(s+a)||0,l.upperRight_X=t(i+o)||0,l.upperRight_Y=r(s)||0,[Number(dt(l.lowerLeft_X)),Number(dt(l.lowerLeft_Y)),Number(dt(l.upperRight_X)),Number(dt(l.upperRight_Y))]},SQ=function(n){if(n.appearanceStreamContent)return n.appearanceStreamContent;if(n.V||n.DV){var e=[],t=n._V||n.DV,r=A_(n,t),i=n.scope.internal.getFont(n.fontName,n.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(n.scope.__private__.encodeColorString(n.color)),e.push("/"+i+" "+dt(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=ta(n);return s.scope=n.scope,s.stream=e.join(`
`),s}},A_=function(n,e){var t=n.fontSize===0?n.maxFontSize:n.fontSize,r={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=n.multiline?i.map(function(M){return M.split(`
`)}):i.map(function(M){return[M]});var s=t,o=Ge.internal.getHeight(n)||0;o=o<0?-o:o;var a=Ge.internal.getWidth(n)||0;a=a<0?-a:a;var l=function(M,j,K){if(M+1<i.length){var U=j+" "+i[M+1][0];return K5(U,n,K).width<=a-4}return!1};s++;e:for(;s>0;){e="",s--;var c,u,d=K5("3",n,s).height,p=n.multiline?o-s:(o-d)/2,f=p+=2,y=0,g=0,x=0;if(s<=0){e=`(...) Tj
`,e+="% Width of Text: "+K5(e,n,s=12).width+", FieldWidth:"+a+`
`;break}for(var v="",w=0,S=0;S<i.length;S++)if(i.hasOwnProperty(S)){var C=!1;if(i[S].length!==1&&x!==i[S].length-1){if((d+2)*(w+2)+2>o)continue e;v+=i[S][x],C=!0,g=S,S--}else{v=(v+=i[S][x]+" ").substr(v.length-1)==" "?v.substr(0,v.length-1):v;var N=parseInt(S),$=l(N,v,s),R=S>=i.length-1;if($&&!R){v+=" ",x=0;continue}if($||R){if(R)g=N;else if(n.multiline&&(d+2)*(w+2)+2>o)continue e}else{if(!n.multiline||(d+2)*(w+2)+2>o)continue e;g=N}}for(var k="",W=y;W<=g;W++){var X=i[W];if(n.multiline){if(W===g){k+=X[x]+" ",x=(x+1)%X.length;continue}if(W===y){k+=X[X.length-1]+" ";continue}}k+=X[0]+" "}switch(k=k.substr(k.length-1)==" "?k.substr(0,k.length-1):k,u=K5(k,n,s).width,n.textAlign){case"right":c=a-u-2;break;case"center":c=(a-u)/2;break;case"left":default:c=2}e+=dt(c)+" "+dt(f)+` Td
`,e+="("+uf(k)+`) Tj
`,e+=-dt(c)+` 0 Td
`,f=-(s+2),u=0,y=C?g:g+1,w++,v=""}break}return r.text=e,r.fontSize=s,r},K5=function(n,e,t){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(n,{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:i}},EQ={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},CQ=function(n,e){var t={type:"reference",object:n};e.internal.getPageInfo(n.page).pageContext.annotations.find(function(r){return r.type===t.type&&r.object===t.object})===void 0&&e.internal.getPageInfo(n.page).pageContext.annotations.push(t)},_Q=function(n,e){for(var t in n)if(n.hasOwnProperty(t)){var r=t,i=n[t];e.internal.newObjectDeferredBegin(i.objId,!0),$t(i)==="object"&&typeof i.putStream=="function"&&i.putStream(),delete n[r]}},PQ=function(n,e){if(e.scope=n,n.internal!==void 0&&(n.internal.acroformPlugin===void 0||n.internal.acroformPlugin.isInitialized===!1)){if(Bo.FieldNum=0,n.internal.acroformPlugin=JSON.parse(JSON.stringify(EQ)),n.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");NN=n.internal.scaleFactor,n.internal.acroformPlugin.acroFormDictionaryRoot=new _7,n.internal.acroformPlugin.acroFormDictionaryRoot.scope=n,n.internal.acroformPlugin.acroFormDictionaryRoot._eventID=n.internal.events.subscribe("postPutResources",function(){(function(t){t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})(n)}),n.internal.events.subscribe("buildDocument",function(){(function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var s=r[i];s.objId=void 0,s.hasAnnotation&&CQ(s,t)}})(n)}),n.internal.events.subscribe("putCatalog",function(){(function(t){if(t.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(n)}),n.internal.events.subscribe("postPutPages",function(t){(function(r,i){var s=!r;for(var o in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(o)){var a=r[o],l=[],c=a.Rect;if(a.Rect&&(a.Rect=AQ(a.Rect,i)),i.internal.newObjectDeferredBegin(a.objId,!0),a.DA=Ge.createDefaultAppearanceStream(a),$t(a)==="object"&&typeof a.getKeyValueListForStream=="function"&&(l=a.getKeyValueListForStream()),a.Rect=c,a.hasAppearanceStream&&!a.appearanceStreamContent){var u=SQ(a);l.push({key:"AP",value:"<</N "+u+">>"}),i.internal.acroformPlugin.xForms.push(u)}if(a.appearanceStreamContent){var d="";for(var p in a.appearanceStreamContent)if(a.appearanceStreamContent.hasOwnProperty(p)){var f=a.appearanceStreamContent[p];if(d+="/"+p+" ",d+="<<",Object.keys(f).length>=1||Array.isArray(f)){for(var o in f)if(f.hasOwnProperty(o)){var y=f[o];typeof y=="function"&&(y=y.call(i,a)),d+="/"+o+" "+y+" ",i.internal.acroformPlugin.xForms.indexOf(y)>=0||i.internal.acroformPlugin.xForms.push(y)}}else typeof(y=f)=="function"&&(y=y.call(i,a)),d+="/"+o+" "+y,i.internal.acroformPlugin.xForms.indexOf(y)>=0||i.internal.acroformPlugin.xForms.push(y);d+=">>"}l.push({key:"AP",value:`<<
`+d+">>"})}i.internal.putStream({additionalKeyValues:l,objectId:a.objId}),i.internal.out("endobj")}s&&_Q(i.internal.acroformPlugin.xForms,i)})(t,n)}),n.internal.acroformPlugin.isInitialized=!0}},E7=Ln.__acroform__.arrayToPdfArray=function(n,e,t){var r=function(o){return o};if(Array.isArray(n)){for(var i="[",s=0;s<n.length;s++)switch(s!==0&&(i+=" "),$t(n[s])){case"boolean":case"number":case"object":i+=n[s].toString();break;case"string":n[s].substr(0,1)!=="/"?(e!==void 0&&t&&(r=t.internal.getEncryptor(e)),i+="("+uf(r(n[s].toString()))+")"):i+=n[s].toString()}return i+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},RE=function(n,e,t){var r=function(i){return i};return e!==void 0&&t&&(r=t.internal.getEncryptor(e)),(n=n||"").toString(),n="("+uf(r(n))+")"},_a=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(n){this._objId=n}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};_a.prototype.toString=function(){return this.objId+" 0 R"},_a.prototype.putStream=function(){var n=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:n,objectId:this.objId}),this.scope.internal.out("endobj")},_a.prototype.getKeyValueListForStream=function(){var n=[],e=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var t in e)if(Object.getOwnPropertyDescriptor(this,e[t]).configurable===!1){var r=e[t],i=this[r];i&&(Array.isArray(i)?n.push({key:r,value:E7(i,this.objId,this.scope)}):i instanceof _a?(i.scope=this.scope,n.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&n.push({key:r,value:i}))}return n};var C7=function(){_a.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var n,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){n=t.trim()},get:function(){return n||null}})};Hi(C7,_a);var _7=function(){_a.call(this);var n,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(n){var t=function(r){return r};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+uf(t(n))+")"}},set:function(t){n=t}})};Hi(_7,_a);var Bo=function n(){_a.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(v){if(isNaN(v))throw new Error('Invalid value "'+v+'" for attribute F supplied.');e=v}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!zn(e,3)},set:function(v){v?this.F=Vn(e,3):this.F=Un(e,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(v){if(isNaN(v))throw new Error('Invalid value "'+v+'" for attribute Ff supplied.');t=v}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(v){r=v!==void 0?v:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(v){r[0]=v}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(v){r[1]=v}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(v){r[2]=v}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(v){r[3]=v}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(v){switch(v){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=v;break;default:throw new Error('Invalid value "'+v+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof Gw)return;s="FieldObject"+n.FieldNum++}var v=function(w){return w};return this.scope&&(v=this.scope.internal.getEncryptor(this.objId)),"("+uf(v(s))+")"},set:function(v){s=v.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(v){s=v}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(v){o=v}});var a="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return a},set:function(v){a=v}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(v){l=v}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return c===void 0?50/NN:c},set:function(v){c=v}});var u="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return u},set:function(v){u=v}});var d="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!d||this instanceof Gw||this instanceof Wh))return RE(d,this.objId,this.scope)},set:function(v){v=v.toString(),d=v}});var p=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof xr?p:RE(p,this.objId,this.scope)},set:function(v){v=v.toString(),p=this instanceof xr?v:v.substr(0,1)==="("?Gf(v.substr(1,v.length-2)):Gf(v)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof xr?Gf(p.substr(1,p.length-1)):p},set:function(v){v=v.toString(),p=this instanceof xr?"/"+v:v}});var f=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(f)return f},set:function(v){this.V=v}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(f)return this instanceof xr?f:RE(f,this.objId,this.scope)},set:function(v){v=v.toString(),f=this instanceof xr?v:v.substr(0,1)==="("?Gf(v.substr(1,v.length-2)):Gf(v)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof xr?Gf(f.substr(1,f.length-1)):f},set:function(v){v=v.toString(),f=this instanceof xr?"/"+v:v}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var y,g=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return g},set:function(v){v=!!v,g=v}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(y)return y},set:function(v){y=v}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!zn(this.Ff,1)},set:function(v){v?this.Ff=Vn(this.Ff,1):this.Ff=Un(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!zn(this.Ff,2)},set:function(v){v?this.Ff=Vn(this.Ff,2):this.Ff=Un(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!zn(this.Ff,3)},set:function(v){v?this.Ff=Vn(this.Ff,3):this.Ff=Un(this.Ff,3)}});var x=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(x!==null)return x},set:function(v){if([0,1,2].indexOf(v)===-1)throw new Error('Invalid value "'+v+'" for attribute Q supplied.');x=v}}),Object.defineProperty(this,"textAlign",{get:function(){var v;switch(x){case 0:default:v="left";break;case 1:v="center";break;case 2:v="right"}return v},configurable:!0,enumerable:!0,set:function(v){switch(v){case"right":case 2:x=2;break;case"center":case 1:x=1;break;case"left":case 0:default:x=0}}})};Hi(Bo,_a);var Ip=function(){Bo.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var n=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return n},set:function(t){n=t}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return E7(e,this.objId,this.scope)},set:function(t){var r,i;i=[],typeof(r=t)=="string"&&(i=function(s,o,a){a||(a=1);for(var l,c=[];l=o.exec(s);)c.push(l[a]);return c}(r,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,r){for(r=r||!1,t=(t=t||"").toString();e.indexOf(t)!==-1&&(e.splice(e.indexOf(t),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!zn(this.Ff,18)},set:function(t){t?this.Ff=Vn(this.Ff,18):this.Ff=Un(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!zn(this.Ff,19)},set:function(t){this.combo===!0&&(t?this.Ff=Vn(this.Ff,19):this.Ff=Un(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!zn(this.Ff,20)},set:function(t){t?(this.Ff=Vn(this.Ff,20),e.sort()):this.Ff=Un(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!zn(this.Ff,22)},set:function(t){t?this.Ff=Vn(this.Ff,22):this.Ff=Un(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!zn(this.Ff,23)},set:function(t){t?this.Ff=Vn(this.Ff,23):this.Ff=Un(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!zn(this.Ff,27)},set:function(t){t?this.Ff=Vn(this.Ff,27):this.Ff=Un(this.Ff,27)}}),this.hasAppearanceStream=!1};Hi(Ip,Bo);var Mp=function(){Ip.call(this),this.fontName="helvetica",this.combo=!1};Hi(Mp,Ip);var Fp=function(){Mp.call(this),this.combo=!0};Hi(Fp,Mp);var Eb=function(){Fp.call(this),this.edit=!0};Hi(Eb,Fp);var xr=function(){Bo.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!zn(this.Ff,15)},set:function(t){t?this.Ff=Vn(this.Ff,15):this.Ff=Un(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!zn(this.Ff,16)},set:function(t){t?this.Ff=Vn(this.Ff,16):this.Ff=Un(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!zn(this.Ff,17)},set:function(t){t?this.Ff=Vn(this.Ff,17):this.Ff=Un(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!zn(this.Ff,26)},set:function(t){t?this.Ff=Vn(this.Ff,26):this.Ff=Un(this.Ff,26)}});var n,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(s){return s};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,i=[];for(r in i.push("<<"),e)i.push("/"+r+" ("+uf(t(e[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(t){$t(t)==="object"&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){typeof t=="string"&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(t){n="/"+t}})};Hi(xr,Bo);var Cb=function(){xr.call(this),this.pushButton=!0};Hi(Cb,xr);var Dp=function(){xr.call(this),this.radio=!0,this.pushButton=!1;var n=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e!==void 0?e:[]}})};Hi(Dp,xr);var Gw=function(){var n,e;Bo.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var t,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(a){return a};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,o=[];for(s in o.push("<<"),r)o.push("/"+s+" ("+uf(i(r[s]))+")");return o.push(">>"),o.join(`
`)},set:function(i){$t(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(i){t="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Ge.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Hi(Gw,Bo),Dp.prototype.setAppearance=function(n){if(!("createAppearanceStream"in n)||!("getCA"in n))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var t=this.Kids[e];t.appearanceStreamContent=n.createAppearanceStream(t.optionName),t.caption=n.getCA()}},Dp.prototype.createOption=function(n){var e=new Gw;return e.Parent=this,e.optionName=n,this.Kids.push(e),NQ.call(this.scope,e),e};var _b=function(){xr.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Ge.CheckBox.createAppearanceStream()};Hi(_b,xr);var Wh=function(){Bo.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!zn(this.Ff,13)},set:function(e){e?this.Ff=Vn(this.Ff,13):this.Ff=Un(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!zn(this.Ff,21)},set:function(e){e?this.Ff=Vn(this.Ff,21):this.Ff=Un(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!zn(this.Ff,23)},set:function(e){e?this.Ff=Vn(this.Ff,23):this.Ff=Un(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!zn(this.Ff,24)},set:function(e){e?this.Ff=Vn(this.Ff,24):this.Ff=Un(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!zn(this.Ff,25)},set:function(e){e?this.Ff=Vn(this.Ff,25):this.Ff=Un(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!zn(this.Ff,26)},set:function(e){e?this.Ff=Vn(this.Ff,26):this.Ff=Un(this.Ff,26)}});var n=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return n},set:function(e){Number.isInteger(e)&&(n=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Hi(Wh,Bo);var Pb=function(){Wh.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!zn(this.Ff,14)},set:function(n){n?this.Ff=Vn(this.Ff,14):this.Ff=Un(this.Ff,14)}}),this.password=!0};Hi(Pb,Wh);var Ge={CheckBox:{createAppearanceStream:function(){return{N:{On:Ge.CheckBox.YesNormal},D:{On:Ge.CheckBox.YesPushDown,Off:Ge.CheckBox.OffPushDown}}},YesPushDown:function(n){var e=ta(n);e.scope=n.scope;var t=[],r=n.scope.internal.getFont(n.fontName,n.fontStyle).id,i=n.scope.__private__.encodeColorString(n.color),s=A_(n,n.caption);return t.push("0.749023 g"),t.push("0 0 "+dt(Ge.internal.getWidth(n))+" "+dt(Ge.internal.getHeight(n))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+r+" "+dt(s.fontSize)+" Tf "+i),t.push("BT"),t.push(s.text),t.push("ET"),t.push("Q"),t.push("EMC"),e.stream=t.join(`
`),e},YesNormal:function(n){var e=ta(n);e.scope=n.scope;var t=n.scope.internal.getFont(n.fontName,n.fontStyle).id,r=n.scope.__private__.encodeColorString(n.color),i=[],s=Ge.internal.getHeight(n),o=Ge.internal.getWidth(n),a=A_(n,n.caption);return i.push("1 g"),i.push("0 0 "+dt(o)+" "+dt(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+dt(o-1)+" "+dt(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+t+" "+dt(a.fontSize)+" Tf "+r),i.push(a.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(n){var e=ta(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+dt(Ge.internal.getWidth(n))+" "+dt(Ge.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(n){var e={D:{Off:Ge.RadioButton.Circle.OffPushDown},N:{}};return e.N[n]=Ge.RadioButton.Circle.YesNormal,e.D[n]=Ge.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(n){var e=ta(n);e.scope=n.scope;var t=[],r=Ge.internal.getWidth(n)<=Ge.internal.getHeight(n)?Ge.internal.getWidth(n)/4:Ge.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var i=Ge.internal.Bezier_C,s=Number((r*i).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+pc(Ge.internal.getWidth(n)/2)+" "+pc(Ge.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),t.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),t.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),t.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=ta(n);e.scope=n.scope;var t=[],r=Ge.internal.getWidth(n)<=Ge.internal.getHeight(n)?Ge.internal.getWidth(n)/4:Ge.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*Ge.internal.Bezier_C).toFixed(5)),o=Number((r*Ge.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+pc(Ge.internal.getWidth(n)/2)+" "+pc(Ge.internal.getHeight(n)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),t.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),t.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),t.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+pc(Ge.internal.getWidth(n)/2)+" "+pc(Ge.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),t.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),t.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),t.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},OffPushDown:function(n){var e=ta(n);e.scope=n.scope;var t=[],r=Ge.internal.getWidth(n)<=Ge.internal.getHeight(n)?Ge.internal.getWidth(n)/4:Ge.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*Ge.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+pc(Ge.internal.getWidth(n)/2)+" "+pc(Ge.internal.getHeight(n)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),t.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),t.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),t.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e}},Cross:{createAppearanceStream:function(n){var e={D:{Off:Ge.RadioButton.Cross.OffPushDown},N:{}};return e.N[n]=Ge.RadioButton.Cross.YesNormal,e.D[n]=Ge.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(n){var e=ta(n);e.scope=n.scope;var t=[],r=Ge.internal.calculateCross(n);return t.push("q"),t.push("1 1 "+dt(Ge.internal.getWidth(n)-2)+" "+dt(Ge.internal.getHeight(n)-2)+" re"),t.push("W"),t.push("n"),t.push(dt(r.x1.x)+" "+dt(r.x1.y)+" m"),t.push(dt(r.x2.x)+" "+dt(r.x2.y)+" l"),t.push(dt(r.x4.x)+" "+dt(r.x4.y)+" m"),t.push(dt(r.x3.x)+" "+dt(r.x3.y)+" l"),t.push("s"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=ta(n);e.scope=n.scope;var t=Ge.internal.calculateCross(n),r=[];return r.push("0.749023 g"),r.push("0 0 "+dt(Ge.internal.getWidth(n))+" "+dt(Ge.internal.getHeight(n))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+dt(Ge.internal.getWidth(n)-2)+" "+dt(Ge.internal.getHeight(n)-2)+" re"),r.push("W"),r.push("n"),r.push(dt(t.x1.x)+" "+dt(t.x1.y)+" m"),r.push(dt(t.x2.x)+" "+dt(t.x2.y)+" l"),r.push(dt(t.x4.x)+" "+dt(t.x4.y)+" m"),r.push(dt(t.x3.x)+" "+dt(t.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(n){var e=ta(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+dt(Ge.internal.getWidth(n))+" "+dt(Ge.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}}},createDefaultAppearanceStream:function(n){var e=n.scope.internal.getFont(n.fontName,n.fontStyle).id,t=n.scope.__private__.encodeColorString(n.color);return"/"+e+" "+n.fontSize+" Tf "+t}};Ge.internal={Bezier_C:.551915024494,calculateCross:function(n){var e=Ge.internal.getWidth(n),t=Ge.internal.getHeight(n),r=Math.min(e,t);return{x1:{x:(e-r)/2,y:(t-r)/2+r},x2:{x:(e-r)/2+r,y:(t-r)/2},x3:{x:(e-r)/2,y:(t-r)/2},x4:{x:(e-r)/2+r,y:(t-r)/2+r}}}},Ge.internal.getWidth=function(n){var e=0;return $t(n)==="object"&&(e=I6(n.Rect[2])),e},Ge.internal.getHeight=function(n){var e=0;return $t(n)==="object"&&(e=I6(n.Rect[3])),e};var NQ=Ln.addField=function(n){if(PQ(this,n),!(n instanceof Bo))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=n).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),n.page=n.scope.internal.getCurrentPageInfo().pageNumber,this};Ln.AcroFormChoiceField=Ip,Ln.AcroFormListBox=Mp,Ln.AcroFormComboBox=Fp,Ln.AcroFormEditBox=Eb,Ln.AcroFormButton=xr,Ln.AcroFormPushButton=Cb,Ln.AcroFormRadioButton=Dp,Ln.AcroFormCheckBox=_b,Ln.AcroFormTextField=Wh,Ln.AcroFormPasswordField=Pb,Ln.AcroFormAppearance=Ge,Ln.AcroForm={ChoiceField:Ip,ListBox:Mp,ComboBox:Fp,EditBox:Eb,Button:xr,PushButton:Cb,RadioButton:Dp,CheckBox:_b,TextField:Wh,PasswordField:Pb,Appearance:Ge},it.AcroForm={ChoiceField:Ip,ListBox:Mp,ComboBox:Fp,EditBox:Eb,Button:xr,PushButton:Cb,RadioButton:Dp,CheckBox:_b,TextField:Wh,PasswordField:Pb,Appearance:Ge};function P7(n){return n.reduce(function(e,t,r){return e[t]=r,e},{})}(function(n){n.__addimage__={};var e="UNKNOWN",t={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=n.__addimage__.getImageFileTypeByImageData=function(M,j){var K,U,le,Q,ne,Y=e;if((j=j||e)==="RGBA"||M.data!==void 0&&M.data instanceof Uint8ClampedArray&&"height"in M&&"width"in M)return"RGBA";if($(M))for(ne in t)for(le=t[ne],K=0;K<le.length;K+=1){for(Q=!0,U=0;U<le[K].length;U+=1)if(le[K][U]!==void 0&&le[K][U]!==M[U]){Q=!1;break}if(Q===!0){Y=ne;break}}else for(ne in t)for(le=t[ne],K=0;K<le.length;K+=1){for(Q=!0,U=0;U<le[K].length;U+=1)if(le[K][U]!==void 0&&le[K][U]!==M.charCodeAt(U)){Q=!1;break}if(Q===!0){Y=ne;break}}return Y===e&&j!==e&&(Y=j),Y},i=function M(j){for(var K=this.internal.write,U=this.internal.putStream,le=(0,this.internal.getFilters)();le.indexOf("FlateEncode")!==-1;)le.splice(le.indexOf("FlateEncode"),1);j.objectId=this.internal.newObject();var Q=[];if(Q.push({key:"Type",value:"/XObject"}),Q.push({key:"Subtype",value:"/Image"}),Q.push({key:"Width",value:j.width}),Q.push({key:"Height",value:j.height}),j.colorSpace===x.INDEXED?Q.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(j.palette.length/3-1)+" "+("sMask"in j&&j.sMask!==void 0?j.objectId+2:j.objectId+1)+" 0 R]"}):(Q.push({key:"ColorSpace",value:"/"+j.colorSpace}),j.colorSpace===x.DEVICE_CMYK&&Q.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),Q.push({key:"BitsPerComponent",value:j.bitsPerComponent}),"decodeParameters"in j&&j.decodeParameters!==void 0&&Q.push({key:"DecodeParms",value:"<<"+j.decodeParameters+">>"}),"transparency"in j&&Array.isArray(j.transparency)){for(var ne="",Y=0,se=j.transparency.length;Y<se;Y++)ne+=j.transparency[Y]+" "+j.transparency[Y]+" ";Q.push({key:"Mask",value:"["+ne+"]"})}j.sMask!==void 0&&Q.push({key:"SMask",value:j.objectId+1+" 0 R"});var de=j.filter!==void 0?["/"+j.filter]:void 0;if(U({data:j.data,additionalKeyValues:Q,alreadyAppliedFilters:de,objectId:j.objectId}),K("endobj"),"sMask"in j&&j.sMask!==void 0){var be="/Predictor "+j.predictor+" /Colors 1 /BitsPerComponent "+j.bitsPerComponent+" /Columns "+j.width,D={width:j.width,height:j.height,colorSpace:"DeviceGray",bitsPerComponent:j.bitsPerComponent,decodeParameters:be,data:j.sMask};"filter"in j&&(D.filter=j.filter),M.call(this,D)}if(j.colorSpace===x.INDEXED){var G=this.internal.newObject();U({data:k(new Uint8Array(j.palette)),objectId:G}),K("endobj")}},s=function(){var M=this.internal.collections.addImage_images;for(var j in M)i.call(this,M[j])},o=function(){var M,j=this.internal.collections.addImage_images,K=this.internal.write;for(var U in j)K("/I"+(M=j[U]).index,M.objectId,"0","R")},a=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",o))},l=function(){var M=this.internal.collections.addImage_images;return a.call(this),M},c=function(){return Object.keys(this.internal.collections.addImage_images).length},u=function(M){return typeof n["process"+M.toUpperCase()]=="function"},d=function(M){return $t(M)==="object"&&M.nodeType===1},p=function(M,j){if(M.nodeName==="IMG"&&M.hasAttribute("src")){var K=""+M.getAttribute("src");if(K.indexOf("data:image/")===0)return g1(unescape(K).split("base64,").pop());var U=n.loadFile(K,!0);if(U!==void 0)return U}if(M.nodeName==="CANVAS"){if(M.width===0||M.height===0)throw new Error("Given canvas must have data. Canvas width: "+M.width+", height: "+M.height);var le;switch(j){case"PNG":le="image/png";break;case"WEBP":le="image/webp";break;case"JPEG":case"JPG":default:le="image/jpeg"}return g1(M.toDataURL(le,1).split("base64,").pop())}},f=function(M){var j=this.internal.collections.addImage_images;if(j){for(var K in j)if(M===j[K].alias)return j[K]}},y=function(M,j,K){return M||j||(M=-96,j=-96),M<0&&(M=-1*K.width*72/M/this.internal.scaleFactor),j<0&&(j=-1*K.height*72/j/this.internal.scaleFactor),M===0&&(M=j*K.width/K.height),j===0&&(j=M*K.height/K.width),[M,j]},g=function(M,j,K,U,le,Q){var ne=y.call(this,K,U,le),Y=this.internal.getCoordinateString,se=this.internal.getVerticalCoordinateString,de=l.call(this);if(K=ne[0],U=ne[1],de[le.index]=le,Q){Q*=Math.PI/180;var be=Math.cos(Q),D=Math.sin(Q),G=function(re){return re.toFixed(4)},Z=[G(be),G(D),G(-1*D),G(be),0,0,"cm"]}this.internal.write("q"),Q?(this.internal.write([1,"0","0",1,Y(M),se(j+U),"cm"].join(" ")),this.internal.write(Z.join(" ")),this.internal.write([Y(K),"0","0",Y(U),"0","0","cm"].join(" "))):this.internal.write([Y(K),"0","0",Y(U),Y(M),se(j+U),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+le.index+" Do"),this.internal.write("Q")},x=n.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};n.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var v=n.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},w=n.__addimage__.sHashCode=function(M){var j,K,U=0;if(typeof M=="string")for(K=M.length,j=0;j<K;j++)U=(U<<5)-U+M.charCodeAt(j),U|=0;else if($(M))for(K=M.byteLength/2,j=0;j<K;j++)U=(U<<5)-U+M[j],U|=0;return U},S=n.__addimage__.validateStringAsBase64=function(M){(M=M||"").toString().trim();var j=!0;return M.length===0&&(j=!1),M.length%4!=0&&(j=!1),/^[A-Za-z0-9+/]+$/.test(M.substr(0,M.length-2))===!1&&(j=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(M.substr(-2))===!1&&(j=!1),j},C=n.__addimage__.extractImageFromDataUrl=function(M){if(M==null||!(M=M.trim()).startsWith("data:"))return null;var j=M.indexOf(",");return j<0?null:M.substring(0,j).trim().endsWith("base64")?M.substring(j+1):null},N=n.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};n.__addimage__.isArrayBuffer=function(M){return N()&&M instanceof ArrayBuffer};var $=n.__addimage__.isArrayBufferView=function(M){return N()&&typeof Uint32Array<"u"&&(M instanceof Int8Array||M instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&M instanceof Uint8ClampedArray||M instanceof Int16Array||M instanceof Uint16Array||M instanceof Int32Array||M instanceof Uint32Array||M instanceof Float32Array||M instanceof Float64Array)},R=n.__addimage__.binaryStringToUint8Array=function(M){for(var j=M.length,K=new Uint8Array(j),U=0;U<j;U++)K[U]=M.charCodeAt(U);return K},k=n.__addimage__.arrayBufferToBinaryString=function(M){for(var j="",K=$(M)?M:new Uint8Array(M),U=0;U<K.length;U+=8192)j+=String.fromCharCode.apply(null,K.subarray(U,U+8192));return j};n.addImage=function(){var M,j,K,U,le,Q,ne,Y,se;if(typeof arguments[1]=="number"?(j=e,K=arguments[1],U=arguments[2],le=arguments[3],Q=arguments[4],ne=arguments[5],Y=arguments[6],se=arguments[7]):(j=arguments[1],K=arguments[2],U=arguments[3],le=arguments[4],Q=arguments[5],ne=arguments[6],Y=arguments[7],se=arguments[8]),$t(M=arguments[0])==="object"&&!d(M)&&"imageData"in M){var de=M;M=de.imageData,j=de.format||j||e,K=de.x||K||0,U=de.y||U||0,le=de.w||de.width||le,Q=de.h||de.height||Q,ne=de.alias||ne,Y=de.compression||Y,se=de.rotation||de.angle||se}var be=this.internal.getFilters();if(Y===void 0&&be.indexOf("FlateEncode")!==-1&&(Y="SLOW"),isNaN(K)||isNaN(U))throw new Error("Invalid coordinates passed to jsPDF.addImage");a.call(this);var D=W.call(this,M,j,ne,Y);return g.call(this,K,U,le,Q,D,se),this};var W=function(M,j,K,U){var le,Q,ne;if(typeof M=="string"&&r(M)===e){M=unescape(M);var Y=X(M,!1);(Y!==""||(Y=n.loadFile(M,!0))!==void 0)&&(M=Y)}if(d(M)&&(M=p(M,j)),j=r(M,j),!u(j))throw new Error("addImage does not support files of type '"+j+"', please ensure that a plugin for '"+j+"' support is added.");if(((ne=K)==null||ne.length===0)&&(K=function(se){return typeof se=="string"||$(se)?w(se):$(se.data)?w(se.data):null}(M)),(le=f.call(this,K))||(N()&&(M instanceof Uint8Array||j==="RGBA"||(Q=M,M=R(M))),le=this["process"+j.toUpperCase()](M,c.call(this),K,function(se){return se&&typeof se=="string"&&(se=se.toUpperCase()),se in n.image_compression?se:v.NONE}(U),Q)),!le)throw new Error("An unknown error occurred whilst processing the image.");return le},X=n.__addimage__.convertBase64ToBinaryString=function(M,j){j=typeof j!="boolean"||j;var K,U="";if(typeof M=="string"){var le;K=(le=C(M))!==null&&le!==void 0?le:M;try{U=g1(K)}catch(Q){if(j)throw S(K)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+Q.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return U};n.getImageProperties=function(M){var j,K,U="";if(d(M)&&(M=p(M)),typeof M=="string"&&r(M)===e&&((U=X(M,!1))===""&&(U=n.loadFile(M)||""),M=U),K=r(M),!u(K))throw new Error("addImage does not support files of type '"+K+"', please ensure that a plugin for '"+K+"' support is added.");if(!N()||M instanceof Uint8Array||(M=R(M)),!(j=this["process"+K.toUpperCase()](M)))throw new Error("An unknown error occurred whilst processing the image");return j.fileType=K,j}})(it.API),function(n){var e=function(t){if(t!==void 0&&t!="")return!0};it.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),n.events.push(["putPage",function(t){for(var r,i,s,o=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(t.objId),c=t.pageContext.annotations,u=!1,d=0;d<c.length&&!u;d++)switch((r=c[d]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(u=!0);break;case"reference":case"text":case"freetext":u=!0}if(u!=0){this.internal.write("/Annots [");for(var p=0;p<c.length;p++){r=c[p];var f=this.internal.pdfEscape,y=this.internal.getEncryptor(t.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var g=this.internal.newAdditionalObject(),x=this.internal.newAdditionalObject(),v=this.internal.getEncryptor(g.objId),w=r.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+o(r.bounds.x)+" "+a(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y)+"] ")+"/Contents ("+f(v(r.contents))+")",s+=" /Popup "+x.objId+" 0 R",s+=" /P "+l.objId+" 0 R",s+=" /T ("+f(v(w))+") >>",g.content=s;var S=g.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+o(r.bounds.x+30)+" "+a(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w+30)+" "+a(r.bounds.y)+"] ")+" /Parent "+S,r.open&&(s+=" /Open true"),s+=" >>",x.content=s,this.internal.write(g.objId,"0 R",x.objId,"0 R");break;case"freetext":i="/Rect ["+o(r.bounds.x)+" "+a(r.bounds.y)+" "+o(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y+r.bounds.h)+"] ";var C=r.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+f(y(r.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+C+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(r.options.name){var N=this.annotations._nameMap[r.options.name];r.options.pageNumber=N.page,r.options.top=N.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",s="",r.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+f(y(r.options.url))+") >>";else if(r.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,s+=" /FitV "+r.options.left+"]";break;case"XYZ":default:var $=a(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),s+=" /XYZ "+r.options.left+" "+$+" "+r.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),n.createAnnotation=function(t){var r=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":r.pageContext.annotations.push(t)}},n.link=function(t,r,i,s,o){var a=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString;a.pageContext.annotations.push({finalBounds:{x:l(t),y:c(r),w:l(t+i),h:c(r+s)},options:o,type:"link"})},n.textWithLink=function(t,r,i,s){var o,a,l=this.getTextWidth(t),c=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){a=s.maxWidth;var u=this.splitTextToSize(t,a).length;o=Math.ceil(c*u)}else a=l,o=c;return this.text(t,r,i,s),i+=.2*c,s.align==="center"&&(r-=l/2),s.align==="right"&&(r-=l),this.link(r,i-c,a,o,s),l},n.getTextWidth=function(t){var r=this.internal.getFontSize();return this.getStringUnitWidth(t)*r/this.internal.scaleFactor}}(it.API),function(n){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];n.__arabicParser__={};var s=n.__arabicParser__.isInArabicSubstitutionA=function(g){return e[g.charCodeAt(0)]!==void 0},o=n.__arabicParser__.isArabicLetter=function(g){return typeof g=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(g)},a=n.__arabicParser__.isArabicEndLetter=function(g){return o(g)&&s(g)&&e[g.charCodeAt(0)].length<=2},l=n.__arabicParser__.isArabicAlfLetter=function(g){return o(g)&&i.indexOf(g.charCodeAt(0))>=0};n.__arabicParser__.arabicLetterHasIsolatedForm=function(g){return o(g)&&s(g)&&e[g.charCodeAt(0)].length>=1};var c=n.__arabicParser__.arabicLetterHasFinalForm=function(g){return o(g)&&s(g)&&e[g.charCodeAt(0)].length>=2};n.__arabicParser__.arabicLetterHasInitialForm=function(g){return o(g)&&s(g)&&e[g.charCodeAt(0)].length>=3};var u=n.__arabicParser__.arabicLetterHasMedialForm=function(g){return o(g)&&s(g)&&e[g.charCodeAt(0)].length==4},d=n.__arabicParser__.resolveLigatures=function(g){var x=0,v=t,w="",S=0;for(x=0;x<g.length;x+=1)v[g.charCodeAt(x)]!==void 0?(S++,typeof(v=v[g.charCodeAt(x)])=="number"&&(w+=String.fromCharCode(v),v=t,S=0),x===g.length-1&&(v=t,w+=g.charAt(x-(S-1)),x-=S-1,S=0)):(v=t,w+=g.charAt(x-S),x-=S,S=0);return w};n.__arabicParser__.isArabicDiacritic=function(g){return g!==void 0&&r[g.charCodeAt(0)]!==void 0};var p=n.__arabicParser__.getCorrectForm=function(g,x,v){return o(g)?s(g)===!1?-1:!c(g)||!o(x)&&!o(v)||!o(v)&&a(x)||a(g)&&!o(x)||a(g)&&l(x)||a(g)&&a(x)?0:u(g)&&o(x)&&!a(x)&&o(v)&&c(v)?3:a(g)||!o(v)?1:2:-1},f=function(g){var x=0,v=0,w=0,S="",C="",N="",$=(g=g||"").split("\\s+"),R=[];for(x=0;x<$.length;x+=1){for(R.push(""),v=0;v<$[x].length;v+=1)S=$[x][v],C=$[x][v-1],N=$[x][v+1],o(S)?(w=p(S,C,N),R[x]+=w!==-1?String.fromCharCode(e[S.charCodeAt(0)][w]):S):R[x]+=S;R[x]=d(R[x])}return R.join(" ")},y=n.__arabicParser__.processArabic=n.processArabic=function(){var g,x=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,v=[];if(Array.isArray(x)){var w=0;for(v=[],w=0;w<x.length;w+=1)Array.isArray(x[w])?v.push([f(x[w][0]),x[w][1],x[w][2]]):v.push([f(x[w])]);g=v}else g=f(x);return typeof arguments[0]=="string"?g:(arguments[0].text=g,arguments[0])};n.events.push(["preProcessText",y])}(it.API),it.API.autoPrint=function(n){var e;switch((n=n||{}).variant=n.variant||"non-conform",n.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})}return this},function(n){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(a){t=a}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(a){r=isNaN(a)||Number.isInteger(a)===!1||a<0?150:a,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(a){i=isNaN(a)||Number.isInteger(a)===!1||a<0?300:a,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(a){s=a}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(a){o=a}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(t,r){var i;if((t=t||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},n.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(it.API),function(n){var e={left:0,top:0,bottom:0,right:0},t=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(g){l=g}});var c=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return c},set:function(g){c=g}});var u=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return u},set:function(g){u=g}});var d=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return d},set:function(g){d=g}});var p=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return p},set:function(g){p=g}});var f=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return f},set:function(g){f=g}});var y=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return y},set:function(g){y=g}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},n.setHeaderFunction=function(l){return r.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},n.getTextDimensions=function(l,c){r.call(this);var u=(c=c||{}).fontSize||this.getFontSize(),d=c.font||this.getFont(),p=c.scaleFactor||this.internal.scaleFactor,f=0,y=0,g=0,x=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var v=c.maxWidth;v>0?typeof l=="string"?l=this.splitTextToSize(l,v):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(S,C){return S.concat(x.splitTextToSize(C,v))},[])):l=Array.isArray(l)?l:[l];for(var w=0;w<l.length;w++)f<(g=this.getStringUnitWidth(l[w],{font:d})*u)&&(f=g);return f!==0&&(y=l.length),{w:f/=p,h:Math.max((y*u*this.getLineHeightFactor()-u*(this.getLineHeightFactor()-1))/p,0)}},n.cellAddPage=function(){r.call(this),this.addPage();var l=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=n.cell=function(){var l;l=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var c=this.internal.__cell__.lastCell,u=this.internal.__cell__.padding,d=this.internal.__cell__.margins||e,p=this.internal.__cell__.tableHeaderRow,f=this.internal.__cell__.printHeaders;return c.lineNumber!==void 0&&(c.lineNumber===l.lineNumber?(l.x=(c.x||0)+(c.width||0),l.y=c.y||0):c.y+c.height+l.height+d.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=d.top,f&&p&&(this.printHeaderRow(l.lineNumber,!0),l.y+=p[0].height)):l.y=c.y+c.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,t===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-u,l.y+u,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+u,{align:"center",baseline:"top",maxWidth:l.width-u-u}):this.text(l.text,l.x+u,l.y+u,{align:"left",baseline:"top",maxWidth:l.width-u-u})),this.internal.__cell__.lastCell=l,this};n.table=function(l,c,u,d,p){if(r.call(this),!u)throw new Error("No data for PDF table.");var f,y,g,x,v=[],w=[],S=[],C={},N={},$=[],R=[],k=(p=p||{}).autoSize||!1,W=p.printHeaders!==!1,X=p.css&&p.css["font-size"]!==void 0?16*p.css["font-size"]:p.fontSize||12,M=p.margins||Object.assign({width:this.getPageWidth()},e),j=typeof p.padding=="number"?p.padding:3,K=p.headerBackgroundColor||"#c8c8c8",U=p.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=W,this.internal.__cell__.margins=M,this.internal.__cell__.table_font_size=X,this.internal.__cell__.padding=j,this.internal.__cell__.headerBackgroundColor=K,this.internal.__cell__.headerTextColor=U,this.setFontSize(X),d==null)w=v=Object.keys(u[0]),S=v.map(function(){return"left"});else if(Array.isArray(d)&&$t(d[0])==="object")for(v=d.map(function(de){return de.name}),w=d.map(function(de){return de.prompt||de.name||""}),S=d.map(function(de){return de.align||"left"}),f=0;f<d.length;f+=1)N[d[f].name]=d[f].width*(19.049976/25.4);else Array.isArray(d)&&typeof d[0]=="string"&&(w=v=d,S=v.map(function(){return"left"}));if(k||Array.isArray(d)&&typeof d[0]=="string")for(f=0;f<v.length;f+=1){for(C[x=v[f]]=u.map(function(de){return de[x]}),this.setFont(void 0,"bold"),$.push(this.getTextDimensions(w[f],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),y=C[x],this.setFont(void 0,"normal"),g=0;g<y.length;g+=1)$.push(this.getTextDimensions(y[g],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);N[x]=Math.max.apply(null,$)+j+j,$=[]}if(W){var le={};for(f=0;f<v.length;f+=1)le[v[f]]={},le[v[f]].text=w[f],le[v[f]].align=S[f];var Q=a.call(this,le,N);R=v.map(function(de){return new s(l,c,N[de],Q,le[de].text,void 0,le[de].align)}),this.setTableHeaderRow(R),this.printHeaderRow(1,!1)}var ne=d.reduce(function(de,be){return de[be.name]=be.align,de},{});for(f=0;f<u.length;f+=1){"rowStart"in p&&p.rowStart instanceof Function&&p.rowStart({row:f,data:u[f]},this);var Y=a.call(this,u[f],N);for(g=0;g<v.length;g+=1){var se=u[f][v[g]];"cellStart"in p&&p.cellStart instanceof Function&&p.cellStart({row:f,col:g,data:se},this),o.call(this,new s(l,c,N[v[g]],Y,se,f+2,ne[v[g]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=c,this};var a=function(l,c){var u=this.internal.__cell__.padding,d=this.internal.__cell__.table_font_size,p=this.internal.scaleFactor;return Object.keys(l).map(function(f){var y=l[f];return this.splitTextToSize(y.hasOwnProperty("text")?y.text:y,c[f]-u-u)},this).map(function(f){return this.getLineHeightFactor()*f.length*d/p+u+u},this).reduce(function(f,y){return Math.max(f,y)},0)};n.setTableHeaderRow=function(l){r.call(this),this.internal.__cell__.tableHeaderRow=l},n.printHeaderRow=function(l,c){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var u;if(t=!0,typeof this.internal.__cell__.headerFunction=="function"){var d=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(d[0],d[1],d[2],d[3],void 0,-1)}this.setFont(void 0,"bold");for(var p=[],f=0;f<this.internal.__cell__.tableHeaderRow.length;f+=1){u=this.internal.__cell__.tableHeaderRow[f].clone(),c&&(u.y=this.internal.__cell__.margins.top||0,p.push(u)),u.lineNumber=l;var y=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,u),this.setTextColor(y)}p.length>0&&this.setTableHeaderRow(p),this.setFont(void 0,"normal"),t=!1}}(it.API);var N7={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},T7=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],S_=P7(T7),L7=[100,200,300,400,500,600,700,800,900],TQ=P7(L7);function E_(n){var e=n.family.replace(/"|'/g,"").toLowerCase(),t=function(s){return N7[s=s||"normal"]?s:"normal"}(n.style),r=function(s){if(!s)return 400;if(typeof s=="number")return s>=100&&s<=900&&s%100==0?s:400;if(/^\d00$/.test(s))return parseInt(s);switch(s){case"bold":return 700;case"normal":default:return 400}}(n.weight),i=function(s){return typeof S_[s=s||"normal"]=="number"?s:"normal"}(n.stretch);return{family:e,style:t,weight:r,stretch:i,src:n.src||[],ref:n.ref||{name:e,style:[i,t,r].join(" ")}}}function M6(n,e,t,r){var i;for(i=t;i>=0&&i<e.length;i+=r)if(n[e[i]])return n[e[i]];for(i=t;i>=0&&i<e.length;i-=r)if(n[e[i]])return n[e[i]]}var LQ={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},F6={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function D6(n){return[n.stretch,n.style,n.weight,n.family].join(" ")}function kQ(n,e,t){for(var r=(t=t||{}).defaultFontFamily||"times",i=Object.assign({},LQ,t.genericFontFamilies||{}),s=null,o=null,a=0;a<e.length;++a)if(i[(s=E_(e[a])).family]&&(s.family=i[s.family]),n.hasOwnProperty(s.family)){o=n[s.family];break}if(!(o=o||n[r]))throw new Error("Could not find a font-family for the rule '"+D6(s)+"' and default family '"+r+"'.");if(o=function(l,c){if(c[l])return c[l];var u=S_[l],d=u<=S_.normal?-1:1,p=M6(c,T7,u,d);if(!p)throw new Error("Could not find a matching font-stretch value for "+l);return p}(s.stretch,o),o=function(l,c){if(c[l])return c[l];for(var u=N7[l],d=0;d<u.length;++d)if(c[u[d]])return c[u[d]];throw new Error("Could not find a matching font-style for "+l)}(s.style,o),!(o=function(l,c){if(c[l])return c[l];if(l===400&&c[500])return c[500];if(l===500&&c[400])return c[400];var u=TQ[l],d=M6(c,L7,u,l<400?-1:1);if(!d)throw new Error("Could not find a matching font-weight for value "+l);return d}(s.weight,o)))throw new Error("Failed to resolve a font for the rule '"+D6(s)+"'.");return o}function O6(n){return n.trimLeft()}function RQ(n,e){for(var t=0;t<n.length;){if(n.charAt(t)===e)return[n.substring(0,t),n.substring(t+1)];t+=1}return null}function IQ(n){var e=n.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],n.substring(e[0].length)]}var J5,j6,B6,IE=["times"];(function(n){var e,t,r,i,s,o,a,l,c,u=function(D){return D=D||{},this.isStrokeTransparent=D.isStrokeTransparent||!1,this.strokeOpacity=D.strokeOpacity||1,this.strokeStyle=D.strokeStyle||"#000000",this.fillStyle=D.fillStyle||"#000000",this.isFillTransparent=D.isFillTransparent||!1,this.fillOpacity=D.fillOpacity||1,this.font=D.font||"10px sans-serif",this.textBaseline=D.textBaseline||"alphabetic",this.textAlign=D.textAlign||"left",this.lineWidth=D.lineWidth||1,this.lineJoin=D.lineJoin||"miter",this.lineCap=D.lineCap||"butt",this.path=D.path||[],this.transform=D.transform!==void 0?D.transform.clone():new l,this.globalCompositeOperation=D.globalCompositeOperation||"normal",this.globalAlpha=D.globalAlpha||1,this.clip_path=D.clip_path||[],this.currentPoint=D.currentPoint||new o,this.miterLimit=D.miterLimit||10,this.lastPoint=D.lastPoint||new o,this.lineDashOffset=D.lineDashOffset||0,this.lineDash=D.lineDash||[],this.margin=D.margin||[0,0,0,0],this.prevPageLastElemOffset=D.prevPageLastElemOffset||0,this.ignoreClearRect=typeof D.ignoreClearRect!="boolean"||D.ignoreClearRect,this};n.events.push(["initialized",function(){this.context2d=new d(this),e=this.internal.f2,t=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,o=this.internal.Point,a=this.internal.Rectangle,l=this.internal.Matrix,c=new u}]);var d=function(D){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var G=D;Object.defineProperty(this,"pdf",{get:function(){return G}});var Z=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return Z},set:function(we){Z=!!we}});var re=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return re},set:function(we){re=!!we}});var oe=0;Object.defineProperty(this,"posX",{get:function(){return oe},set:function(we){isNaN(we)||(oe=we)}});var ie=0;Object.defineProperty(this,"posY",{get:function(){return ie},set:function(we){isNaN(we)||(ie=we)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(we){var te;typeof we=="number"?te=[we,we,we,we]:((te=new Array(4))[0]=we[0],te[1]=we.length>=2?we[1]:te[0],te[2]=we.length>=3?we[2]:te[0],te[3]=we.length>=4?we[3]:te[1]),c.margin=te}});var pe=!1;Object.defineProperty(this,"autoPaging",{get:function(){return pe},set:function(we){pe=we}});var ge=0;Object.defineProperty(this,"lastBreak",{get:function(){return ge},set:function(we){ge=we}});var Ee=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Ee},set:function(we){Ee=we}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(we){we instanceof u&&(c=we)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(we){c.path=we}});var Ae=[];Object.defineProperty(this,"ctxStack",{get:function(){return Ae},set:function(we){Ae=we}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(we){var te;te=p(we),this.ctx.fillStyle=te.style,this.ctx.isFillTransparent=te.a===0,this.ctx.fillOpacity=te.a,this.pdf.setFillColor(te.r,te.g,te.b,{a:te.a}),this.pdf.setTextColor(te.r,te.g,te.b,{a:te.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(we){var te=p(we);this.ctx.strokeStyle=te.style,this.ctx.isStrokeTransparent=te.a===0,this.ctx.strokeOpacity=te.a,te.a===0?this.pdf.setDrawColor(255,255,255):(te.a,this.pdf.setDrawColor(te.r,te.g,te.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(we){["butt","round","square"].indexOf(we)!==-1&&(this.ctx.lineCap=we,this.pdf.setLineCap(we))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(we){isNaN(we)||(this.ctx.lineWidth=we,this.pdf.setLineWidth(we))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(we){["bevel","round","miter"].indexOf(we)!==-1&&(this.ctx.lineJoin=we,this.pdf.setLineJoin(we))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(we){isNaN(we)||(this.ctx.miterLimit=we,this.pdf.setMiterLimit(we))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(we){this.ctx.textBaseline=we}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(we){["right","end","center","left","start"].indexOf(we)!==-1&&(this.ctx.textAlign=we)}});var Ne=null;function Re(we,te){if(Ne===null){var nt=function(Xe){var ke=[];return Object.keys(Xe).forEach(function(Fe){Xe[Fe].forEach(function(Oe){var Be=null;switch(Oe){case"bold":Be={family:Fe,weight:"bold"};break;case"italic":Be={family:Fe,style:"italic"};break;case"bolditalic":Be={family:Fe,weight:"bold",style:"italic"};break;case"":case"normal":Be={family:Fe}}Be!==null&&(Be.ref={name:Fe,style:Oe},ke.push(Be))})}),ke}(we.getFontList());Ne=function(Xe){for(var ke={},Fe=0;Fe<Xe.length;++Fe){var Oe=E_(Xe[Fe]),Be=Oe.family,Je=Oe.stretch,lt=Oe.style,vt=Oe.weight;ke[Be]=ke[Be]||{},ke[Be][Je]=ke[Be][Je]||{},ke[Be][Je][lt]=ke[Be][Je][lt]||{},ke[Be][Je][lt][vt]=Oe}return ke}(nt.concat(te))}return Ne}var qe=null;Object.defineProperty(this,"fontFaces",{get:function(){return qe},set:function(we){Ne=null,qe=we}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(we){var te;if(this.ctx.font=we,(te=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(we))!==null){var nt=te[1];te[2];var Xe=te[3],ke=te[4];te[5];var Fe=te[6],Oe=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(ke)[2];ke=Math.floor(Oe==="px"?parseFloat(ke)*this.pdf.internal.scaleFactor:Oe==="em"?parseFloat(ke)*this.pdf.getFontSize():parseFloat(ke)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(ke);var Be=function(ot){var xt,$e,zr=[],Rt=ot.trim();if(Rt==="")return IE;if(Rt in F6)return[F6[Rt]];for(;Rt!=="";){switch($e=null,xt=(Rt=O6(Rt)).charAt(0)){case'"':case"'":$e=RQ(Rt.substring(1),xt);break;default:$e=IQ(Rt)}if($e===null||(zr.push($e[0]),(Rt=O6($e[1]))!==""&&Rt.charAt(0)!==","))return IE;Rt=Rt.replace(/^,/,"")}return zr}(Fe);if(this.fontFaces){var Je=kQ(Re(this.pdf,this.fontFaces),Be.map(function(ot){return{family:ot,stretch:"normal",weight:Xe,style:nt}}));this.pdf.setFont(Je.ref.name,Je.ref.style)}else{var lt="";(Xe==="bold"||parseInt(Xe,10)>=700||nt==="bold")&&(lt="bold"),nt==="italic"&&(lt+="italic"),lt.length===0&&(lt="normal");for(var vt="",bt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Nt=0;Nt<Be.length;Nt++){if(this.pdf.internal.getFont(Be[Nt],lt,{noFallback:!0,disableWarning:!0})!==void 0){vt=Be[Nt];break}if(lt==="bolditalic"&&this.pdf.internal.getFont(Be[Nt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)vt=Be[Nt],lt="bold";else if(this.pdf.internal.getFont(Be[Nt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){vt=Be[Nt],lt="normal";break}}if(vt===""){for(var Vt=0;Vt<Be.length;Vt++)if(bt[Be[Vt]]){vt=bt[Be[Vt]];break}}vt=vt===""?"Times":vt,this.pdf.setFont(vt,lt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(we){this.ctx.globalCompositeOperation=we}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(we){this.ctx.globalAlpha=we}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(we){this.ctx.lineDashOffset=we,be.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(we){this.ctx.lineDash=we,be.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(we){this.ctx.ignoreClearRect=!!we}})};d.prototype.setLineDash=function(D){this.lineDash=D},d.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},d.prototype.fill=function(){C.call(this,"fill",!1)},d.prototype.stroke=function(){C.call(this,"stroke",!1)},d.prototype.beginPath=function(){this.path=[{type:"begin"}]},d.prototype.moveTo=function(D,G){if(isNaN(D)||isNaN(G))throw Jt.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var Z=this.ctx.transform.applyToPoint(new o(D,G));this.path.push({type:"mt",x:Z.x,y:Z.y}),this.ctx.lastPoint=new o(D,G)},d.prototype.closePath=function(){var D=new o(0,0),G=0;for(G=this.path.length-1;G!==-1;G--)if(this.path[G].type==="begin"&&$t(this.path[G+1])==="object"&&typeof this.path[G+1].x=="number"){D=new o(this.path[G+1].x,this.path[G+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(D.x,D.y)},d.prototype.lineTo=function(D,G){if(isNaN(D)||isNaN(G))throw Jt.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var Z=this.ctx.transform.applyToPoint(new o(D,G));this.path.push({type:"lt",x:Z.x,y:Z.y}),this.ctx.lastPoint=new o(Z.x,Z.y)},d.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),C.call(this,null,!0)},d.prototype.quadraticCurveTo=function(D,G,Z,re){if(isNaN(Z)||isNaN(re)||isNaN(D)||isNaN(G))throw Jt.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var oe=this.ctx.transform.applyToPoint(new o(Z,re)),ie=this.ctx.transform.applyToPoint(new o(D,G));this.path.push({type:"qct",x1:ie.x,y1:ie.y,x:oe.x,y:oe.y}),this.ctx.lastPoint=new o(oe.x,oe.y)},d.prototype.bezierCurveTo=function(D,G,Z,re,oe,ie){if(isNaN(oe)||isNaN(ie)||isNaN(D)||isNaN(G)||isNaN(Z)||isNaN(re))throw Jt.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var pe=this.ctx.transform.applyToPoint(new o(oe,ie)),ge=this.ctx.transform.applyToPoint(new o(D,G)),Ee=this.ctx.transform.applyToPoint(new o(Z,re));this.path.push({type:"bct",x1:ge.x,y1:ge.y,x2:Ee.x,y2:Ee.y,x:pe.x,y:pe.y}),this.ctx.lastPoint=new o(pe.x,pe.y)},d.prototype.arc=function(D,G,Z,re,oe,ie){if(isNaN(D)||isNaN(G)||isNaN(Z)||isNaN(re)||isNaN(oe))throw Jt.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ie=!!ie,!this.ctx.transform.isIdentity){var pe=this.ctx.transform.applyToPoint(new o(D,G));D=pe.x,G=pe.y;var ge=this.ctx.transform.applyToPoint(new o(0,Z)),Ee=this.ctx.transform.applyToPoint(new o(0,0));Z=Math.sqrt(Math.pow(ge.x-Ee.x,2)+Math.pow(ge.y-Ee.y,2))}Math.abs(oe-re)>=2*Math.PI&&(re=0,oe=2*Math.PI),this.path.push({type:"arc",x:D,y:G,radius:Z,startAngle:re,endAngle:oe,counterclockwise:ie})},d.prototype.arcTo=function(D,G,Z,re,oe){throw new Error("arcTo not implemented.")},d.prototype.rect=function(D,G,Z,re){if(isNaN(D)||isNaN(G)||isNaN(Z)||isNaN(re))throw Jt.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(D,G),this.lineTo(D+Z,G),this.lineTo(D+Z,G+re),this.lineTo(D,G+re),this.lineTo(D,G),this.lineTo(D+Z,G),this.lineTo(D,G)},d.prototype.fillRect=function(D,G,Z,re){if(isNaN(D)||isNaN(G)||isNaN(Z)||isNaN(re))throw Jt.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!f.call(this)){var oe={};this.lineCap!=="butt"&&(oe.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(oe.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(D,G,Z,re),this.fill(),oe.hasOwnProperty("lineCap")&&(this.lineCap=oe.lineCap),oe.hasOwnProperty("lineJoin")&&(this.lineJoin=oe.lineJoin)}},d.prototype.strokeRect=function(D,G,Z,re){if(isNaN(D)||isNaN(G)||isNaN(Z)||isNaN(re))throw Jt.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");y.call(this)||(this.beginPath(),this.rect(D,G,Z,re),this.stroke())},d.prototype.clearRect=function(D,G,Z,re){if(isNaN(D)||isNaN(G)||isNaN(Z)||isNaN(re))throw Jt.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(D,G,Z,re))},d.prototype.save=function(D){D=typeof D!="boolean"||D;for(var G=this.pdf.internal.getCurrentPageInfo().pageNumber,Z=0;Z<this.pdf.internal.getNumberOfPages();Z++)this.pdf.setPage(Z+1),this.pdf.internal.out("q");if(this.pdf.setPage(G),D){this.ctx.fontSize=this.pdf.internal.getFontSize();var re=new u(this.ctx);this.ctxStack.push(this.ctx),this.ctx=re}},d.prototype.restore=function(D){D=typeof D!="boolean"||D;for(var G=this.pdf.internal.getCurrentPageInfo().pageNumber,Z=0;Z<this.pdf.internal.getNumberOfPages();Z++)this.pdf.setPage(Z+1),this.pdf.internal.out("Q");this.pdf.setPage(G),D&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},d.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var p=function(D){var G,Z,re,oe;if(D.isCanvasGradient===!0&&(D=D.getColor()),!D)return{r:0,g:0,b:0,a:0,style:D};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(D))G=0,Z=0,re=0,oe=0;else{var ie=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(D);if(ie!==null)G=parseInt(ie[1]),Z=parseInt(ie[2]),re=parseInt(ie[3]),oe=1;else if((ie=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(D))!==null)G=parseInt(ie[1]),Z=parseInt(ie[2]),re=parseInt(ie[3]),oe=parseFloat(ie[4]);else{if(oe=1,typeof D=="string"&&D.charAt(0)!=="#"){var pe=new x7(D);D=pe.ok?pe.toHex():"#000000"}D.length===4?(G=D.substring(1,2),G+=G,Z=D.substring(2,3),Z+=Z,re=D.substring(3,4),re+=re):(G=D.substring(1,3),Z=D.substring(3,5),re=D.substring(5,7)),G=parseInt(G,16),Z=parseInt(Z,16),re=parseInt(re,16)}}return{r:G,g:Z,b:re,a:oe,style:D}},f=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},y=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};d.prototype.fillText=function(D,G,Z,re){if(isNaN(G)||isNaN(Z)||typeof D!="string")throw Jt.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(re=isNaN(re)?void 0:re,!f.call(this)){var oe=Y(this.ctx.transform.rotation),ie=this.ctx.transform.scaleX;j.call(this,{text:D,x:G,y:Z,scale:ie,angle:oe,align:this.textAlign,maxWidth:re})}},d.prototype.strokeText=function(D,G,Z,re){if(isNaN(G)||isNaN(Z)||typeof D!="string")throw Jt.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!y.call(this)){re=isNaN(re)?void 0:re;var oe=Y(this.ctx.transform.rotation),ie=this.ctx.transform.scaleX;j.call(this,{text:D,x:G,y:Z,scale:ie,renderingMode:"stroke",angle:oe,align:this.textAlign,maxWidth:re})}},d.prototype.measureText=function(D){if(typeof D!="string")throw Jt.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var G=this.pdf,Z=this.pdf.internal.scaleFactor,re=G.internal.getFontSize(),oe=G.getStringUnitWidth(D)*re/G.internal.scaleFactor,ie=function(pe){var ge=(pe=pe||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ge}}),this};return new ie({width:oe*=Math.round(96*Z/72*1e4)/1e4})},d.prototype.scale=function(D,G){if(isNaN(D)||isNaN(G))throw Jt.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var Z=new l(D,0,0,G,0,0);this.ctx.transform=this.ctx.transform.multiply(Z)},d.prototype.rotate=function(D){if(isNaN(D))throw Jt.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var G=new l(Math.cos(D),Math.sin(D),-Math.sin(D),Math.cos(D),0,0);this.ctx.transform=this.ctx.transform.multiply(G)},d.prototype.translate=function(D,G){if(isNaN(D)||isNaN(G))throw Jt.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var Z=new l(1,0,0,1,D,G);this.ctx.transform=this.ctx.transform.multiply(Z)},d.prototype.transform=function(D,G,Z,re,oe,ie){if(isNaN(D)||isNaN(G)||isNaN(Z)||isNaN(re)||isNaN(oe)||isNaN(ie))throw Jt.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var pe=new l(D,G,Z,re,oe,ie);this.ctx.transform=this.ctx.transform.multiply(pe)},d.prototype.setTransform=function(D,G,Z,re,oe,ie){D=isNaN(D)?1:D,G=isNaN(G)?0:G,Z=isNaN(Z)?0:Z,re=isNaN(re)?1:re,oe=isNaN(oe)?0:oe,ie=isNaN(ie)?0:ie,this.ctx.transform=new l(D,G,Z,re,oe,ie)};var g=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};d.prototype.drawImage=function(D,G,Z,re,oe,ie,pe,ge,Ee){var Ae=this.pdf.getImageProperties(D),Ne=1,Re=1,qe=1,we=1;re!==void 0&&ge!==void 0&&(qe=ge/re,we=Ee/oe,Ne=Ae.width/re*ge/re,Re=Ae.height/oe*Ee/oe),ie===void 0&&(ie=G,pe=Z,G=0,Z=0),re!==void 0&&ge===void 0&&(ge=re,Ee=oe),re===void 0&&ge===void 0&&(ge=Ae.width,Ee=Ae.height);for(var te,nt=this.ctx.transform.decompose(),Xe=Y(nt.rotate.shx),ke=new l,Fe=(ke=(ke=(ke=ke.multiply(nt.translate)).multiply(nt.skew)).multiply(nt.scale)).applyToRectangle(new a(ie-G*qe,pe-Z*we,re*Ne,oe*Re)),Oe=x.call(this,Fe),Be=[],Je=0;Je<Oe.length;Je+=1)Be.indexOf(Oe[Je])===-1&&Be.push(Oe[Je]);if(S(Be),this.autoPaging)for(var lt=Be[0],vt=Be[Be.length-1],bt=lt;bt<vt+1;bt++){this.pdf.setPage(bt);var Nt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Vt=bt===1?this.posY+this.margin[0]:this.margin[0],ot=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],xt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],$e=bt===1?0:ot+(bt-2)*xt;if(this.ctx.clip_path.length!==0){var zr=this.path;te=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(te,this.posX+this.margin[3],-$e+Vt+this.ctx.prevPageLastElemOffset),N.call(this,"fill",!0),this.path=zr}var Rt=JSON.parse(JSON.stringify(Fe));Rt=w([Rt],this.posX+this.margin[3],-$e+Vt+this.ctx.prevPageLastElemOffset)[0];var Ys=(bt>lt||bt<vt)&&g.call(this);Ys&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Nt,xt,null).clip().discardPath()),this.pdf.addImage(D,"JPEG",Rt.x,Rt.y,Rt.w,Rt.h,null,null,Xe),Ys&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(D,"JPEG",Fe.x,Fe.y,Fe.w,Fe.h,null,null,Xe)};var x=function(D,G,Z){var re=[];G=G||this.pdf.internal.pageSize.width,Z=Z||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var oe=this.posY+this.ctx.prevPageLastElemOffset;switch(D.type){default:case"mt":case"lt":re.push(Math.floor((D.y+oe)/Z)+1);break;case"arc":re.push(Math.floor((D.y+oe-D.radius)/Z)+1),re.push(Math.floor((D.y+oe+D.radius)/Z)+1);break;case"qct":var ie=se(this.ctx.lastPoint.x,this.ctx.lastPoint.y,D.x1,D.y1,D.x,D.y);re.push(Math.floor((ie.y+oe)/Z)+1),re.push(Math.floor((ie.y+ie.h+oe)/Z)+1);break;case"bct":var pe=de(this.ctx.lastPoint.x,this.ctx.lastPoint.y,D.x1,D.y1,D.x2,D.y2,D.x,D.y);re.push(Math.floor((pe.y+oe)/Z)+1),re.push(Math.floor((pe.y+pe.h+oe)/Z)+1);break;case"rect":re.push(Math.floor((D.y+oe)/Z)+1),re.push(Math.floor((D.y+D.h+oe)/Z)+1)}for(var ge=0;ge<re.length;ge+=1)for(;this.pdf.internal.getNumberOfPages()<re[ge];)v.call(this);return re},v=function(){var D=this.fillStyle,G=this.strokeStyle,Z=this.font,re=this.lineCap,oe=this.lineWidth,ie=this.lineJoin;this.pdf.addPage(),this.fillStyle=D,this.strokeStyle=G,this.font=Z,this.lineCap=re,this.lineWidth=oe,this.lineJoin=ie},w=function(D,G,Z){for(var re=0;re<D.length;re++)switch(D[re].type){case"bct":D[re].x2+=G,D[re].y2+=Z;case"qct":D[re].x1+=G,D[re].y1+=Z;case"mt":case"lt":case"arc":default:D[re].x+=G,D[re].y+=Z}return D},S=function(D){return D.sort(function(G,Z){return G-Z})},C=function(D,G){for(var Z,re,oe=this.fillStyle,ie=this.strokeStyle,pe=this.lineCap,ge=this.lineWidth,Ee=Math.abs(ge*this.ctx.transform.scaleX),Ae=this.lineJoin,Ne=JSON.parse(JSON.stringify(this.path)),Re=JSON.parse(JSON.stringify(this.path)),qe=[],we=0;we<Re.length;we++)if(Re[we].x!==void 0)for(var te=x.call(this,Re[we]),nt=0;nt<te.length;nt+=1)qe.indexOf(te[nt])===-1&&qe.push(te[nt]);for(var Xe=0;Xe<qe.length;Xe++)for(;this.pdf.internal.getNumberOfPages()<qe[Xe];)v.call(this);if(S(qe),this.autoPaging)for(var ke=qe[0],Fe=qe[qe.length-1],Oe=ke;Oe<Fe+1;Oe++){this.pdf.setPage(Oe),this.fillStyle=oe,this.strokeStyle=ie,this.lineCap=pe,this.lineWidth=Ee,this.lineJoin=Ae;var Be=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Je=Oe===1?this.posY+this.margin[0]:this.margin[0],lt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],vt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],bt=Oe===1?0:lt+(Oe-2)*vt;if(this.ctx.clip_path.length!==0){var Nt=this.path;Z=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(Z,this.posX+this.margin[3],-bt+Je+this.ctx.prevPageLastElemOffset),N.call(this,D,!0),this.path=Nt}if(re=JSON.parse(JSON.stringify(Ne)),this.path=w(re,this.posX+this.margin[3],-bt+Je+this.ctx.prevPageLastElemOffset),G===!1||Oe===0){var Vt=(Oe>ke||Oe<Fe)&&g.call(this);Vt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Be,vt,null).clip().discardPath()),N.call(this,D,G),Vt&&this.pdf.restoreGraphicsState()}this.lineWidth=ge}else this.lineWidth=Ee,N.call(this,D,G),this.lineWidth=ge;this.path=Ne},N=function(D,G){if((D!=="stroke"||G||!y.call(this))&&(D==="stroke"||G||!f.call(this))){for(var Z,re,oe=[],ie=this.path,pe=0;pe<ie.length;pe++){var ge=ie[pe];switch(ge.type){case"begin":oe.push({begin:!0});break;case"close":oe.push({close:!0});break;case"mt":oe.push({start:ge,deltas:[],abs:[]});break;case"lt":var Ee=oe.length;if(ie[pe-1]&&!isNaN(ie[pe-1].x)&&(Z=[ge.x-ie[pe-1].x,ge.y-ie[pe-1].y],Ee>0)){for(;Ee>=0;Ee--)if(oe[Ee-1].close!==!0&&oe[Ee-1].begin!==!0){oe[Ee-1].deltas.push(Z),oe[Ee-1].abs.push(ge);break}}break;case"bct":Z=[ge.x1-ie[pe-1].x,ge.y1-ie[pe-1].y,ge.x2-ie[pe-1].x,ge.y2-ie[pe-1].y,ge.x-ie[pe-1].x,ge.y-ie[pe-1].y],oe[oe.length-1].deltas.push(Z);break;case"qct":var Ae=ie[pe-1].x+2/3*(ge.x1-ie[pe-1].x),Ne=ie[pe-1].y+2/3*(ge.y1-ie[pe-1].y),Re=ge.x+2/3*(ge.x1-ge.x),qe=ge.y+2/3*(ge.y1-ge.y),we=ge.x,te=ge.y;Z=[Ae-ie[pe-1].x,Ne-ie[pe-1].y,Re-ie[pe-1].x,qe-ie[pe-1].y,we-ie[pe-1].x,te-ie[pe-1].y],oe[oe.length-1].deltas.push(Z);break;case"arc":oe.push({deltas:[],abs:[],arc:!0}),Array.isArray(oe[oe.length-1].abs)&&oe[oe.length-1].abs.push(ge)}}re=G?null:D==="stroke"?"stroke":"fill";for(var nt=!1,Xe=0;Xe<oe.length;Xe++)if(oe[Xe].arc)for(var ke=oe[Xe].abs,Fe=0;Fe<ke.length;Fe++){var Oe=ke[Fe];Oe.type==="arc"?k.call(this,Oe.x,Oe.y,Oe.radius,Oe.startAngle,Oe.endAngle,Oe.counterclockwise,void 0,G,!nt):K.call(this,Oe.x,Oe.y),nt=!0}else if(oe[Xe].close===!0)this.pdf.internal.out("h"),nt=!1;else if(oe[Xe].begin!==!0){var Be=oe[Xe].start.x,Je=oe[Xe].start.y;U.call(this,oe[Xe].deltas,Be,Je),nt=!0}re&&W.call(this,re),G&&X.call(this)}},$=function(D){var G=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,Z=G*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return D-Z;case"top":return D+G-Z;case"hanging":return D+G-2*Z;case"middle":return D+G/2-Z;case"ideographic":return D;case"alphabetic":default:return D}},R=function(D){return D+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};d.prototype.createLinearGradient=function(){var D=function(){};return D.colorStops=[],D.addColorStop=function(G,Z){this.colorStops.push([G,Z])},D.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},D.isCanvasGradient=!0,D},d.prototype.createPattern=function(){return this.createLinearGradient()},d.prototype.createRadialGradient=function(){return this.createLinearGradient()};var k=function(D,G,Z,re,oe,ie,pe,ge,Ee){for(var Ae=Q.call(this,Z,re,oe,ie),Ne=0;Ne<Ae.length;Ne++){var Re=Ae[Ne];Ne===0&&(Ee?M.call(this,Re.x1+D,Re.y1+G):K.call(this,Re.x1+D,Re.y1+G)),le.call(this,D,G,Re.x2,Re.y2,Re.x3,Re.y3,Re.x4,Re.y4)}ge?X.call(this):W.call(this,pe)},W=function(D){switch(D){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},X=function(){this.pdf.clip(),this.pdf.discardPath()},M=function(D,G){this.pdf.internal.out(t(D)+" "+r(G)+" m")},j=function(D){var G;switch(D.align){case"right":case"end":G="right";break;case"center":G="center";break;case"left":case"start":default:G="left"}var Z=this.pdf.getTextDimensions(D.text),re=$.call(this,D.y),oe=R.call(this,re)-Z.h,ie=this.ctx.transform.applyToPoint(new o(D.x,re)),pe=this.ctx.transform.decompose(),ge=new l;ge=(ge=(ge=ge.multiply(pe.translate)).multiply(pe.skew)).multiply(pe.scale);for(var Ee,Ae,Ne,Re=this.ctx.transform.applyToRectangle(new a(D.x,re,Z.w,Z.h)),qe=ge.applyToRectangle(new a(D.x,oe,Z.w,Z.h)),we=x.call(this,qe),te=[],nt=0;nt<we.length;nt+=1)te.indexOf(we[nt])===-1&&te.push(we[nt]);if(S(te),this.autoPaging)for(var Xe=te[0],ke=te[te.length-1],Fe=Xe;Fe<ke+1;Fe++){this.pdf.setPage(Fe);var Oe=Fe===1?this.posY+this.margin[0]:this.margin[0],Be=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Je=this.pdf.internal.pageSize.height-this.margin[2],lt=Je-this.margin[0],vt=this.pdf.internal.pageSize.width-this.margin[1],bt=vt-this.margin[3],Nt=Fe===1?0:Be+(Fe-2)*lt;if(this.ctx.clip_path.length!==0){var Vt=this.path;Ee=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(Ee,this.posX+this.margin[3],-1*Nt+Oe),N.call(this,"fill",!0),this.path=Vt}var ot=w([JSON.parse(JSON.stringify(qe))],this.posX+this.margin[3],-Nt+Oe+this.ctx.prevPageLastElemOffset)[0];D.scale>=.01&&(Ae=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ae*D.scale),Ne=this.lineWidth,this.lineWidth=Ne*D.scale);var xt=this.autoPaging!=="text";if(xt||ot.y+ot.h<=Je){if(xt||ot.y>=Oe&&ot.x<=vt){var $e=xt?D.text:this.pdf.splitTextToSize(D.text,D.maxWidth||vt-ot.x)[0],zr=w([JSON.parse(JSON.stringify(Re))],this.posX+this.margin[3],-Nt+Oe+this.ctx.prevPageLastElemOffset)[0],Rt=xt&&(Fe>Xe||Fe<ke)&&g.call(this);Rt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],bt,lt,null).clip().discardPath()),this.pdf.text($e,zr.x,zr.y,{angle:D.angle,align:G,renderingMode:D.renderingMode}),Rt&&this.pdf.restoreGraphicsState()}}else ot.y<Je&&(this.ctx.prevPageLastElemOffset+=Je-ot.y);D.scale>=.01&&(this.pdf.setFontSize(Ae),this.lineWidth=Ne)}else D.scale>=.01&&(Ae=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ae*D.scale),Ne=this.lineWidth,this.lineWidth=Ne*D.scale),this.pdf.text(D.text,ie.x+this.posX,ie.y+this.posY,{angle:D.angle,align:G,renderingMode:D.renderingMode,maxWidth:D.maxWidth}),D.scale>=.01&&(this.pdf.setFontSize(Ae),this.lineWidth=Ne)},K=function(D,G,Z,re){Z=Z||0,re=re||0,this.pdf.internal.out(t(D+Z)+" "+r(G+re)+" l")},U=function(D,G,Z){return this.pdf.lines(D,G,Z,null,null)},le=function(D,G,Z,re,oe,ie,pe,ge){this.pdf.internal.out([e(i(Z+D)),e(s(re+G)),e(i(oe+D)),e(s(ie+G)),e(i(pe+D)),e(s(ge+G)),"c"].join(" "))},Q=function(D,G,Z,re){for(var oe=2*Math.PI,ie=Math.PI/2;G>Z;)G-=oe;var pe=Math.abs(Z-G);pe<oe&&re&&(pe=oe-pe);for(var ge=[],Ee=re?-1:1,Ae=G;pe>1e-5;){var Ne=Ae+Ee*Math.min(pe,ie);ge.push(ne.call(this,D,Ae,Ne)),pe-=Math.abs(Ne-Ae),Ae=Ne}return ge},ne=function(D,G,Z){var re=(Z-G)/2,oe=D*Math.cos(re),ie=D*Math.sin(re),pe=oe,ge=-ie,Ee=pe*pe+ge*ge,Ae=Ee+pe*oe+ge*ie,Ne=4/3*(Math.sqrt(2*Ee*Ae)-Ae)/(pe*ie-ge*oe),Re=pe-Ne*ge,qe=ge+Ne*pe,we=Re,te=-qe,nt=re+G,Xe=Math.cos(nt),ke=Math.sin(nt);return{x1:D*Math.cos(G),y1:D*Math.sin(G),x2:Re*Xe-qe*ke,y2:Re*ke+qe*Xe,x3:we*Xe-te*ke,y3:we*ke+te*Xe,x4:D*Math.cos(Z),y4:D*Math.sin(Z)}},Y=function(D){return 180*D/Math.PI},se=function(D,G,Z,re,oe,ie){var pe=D+.5*(Z-D),ge=G+.5*(re-G),Ee=oe+.5*(Z-oe),Ae=ie+.5*(re-ie),Ne=Math.min(D,oe,pe,Ee),Re=Math.max(D,oe,pe,Ee),qe=Math.min(G,ie,ge,Ae),we=Math.max(G,ie,ge,Ae);return new a(Ne,qe,Re-Ne,we-qe)},de=function(D,G,Z,re,oe,ie,pe,ge){var Ee,Ae,Ne,Re,qe,we,te,nt,Xe,ke,Fe,Oe,Be,Je,lt=Z-D,vt=re-G,bt=oe-Z,Nt=ie-re,Vt=pe-oe,ot=ge-ie;for(Ae=0;Ae<41;Ae++)Xe=(te=(Ne=D+(Ee=Ae/40)*lt)+Ee*((qe=Z+Ee*bt)-Ne))+Ee*(qe+Ee*(oe+Ee*Vt-qe)-te),ke=(nt=(Re=G+Ee*vt)+Ee*((we=re+Ee*Nt)-Re))+Ee*(we+Ee*(ie+Ee*ot-we)-nt),Ae==0?(Fe=Xe,Oe=ke,Be=Xe,Je=ke):(Fe=Math.min(Fe,Xe),Oe=Math.min(Oe,ke),Be=Math.max(Be,Xe),Je=Math.max(Je,ke));return new a(Math.round(Fe),Math.round(Oe),Math.round(Be-Fe),Math.round(Je-Oe))},be=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var D,G,Z=(D=this.ctx.lineDash,G=this.ctx.lineDashOffset,JSON.stringify({lineDash:D,lineDashOffset:G}));this.prevLineDash!==Z&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=Z)}}})(it.API),function(n){var e=function(s){var o,a,l,c,u,d,p,f,y,g;for(a=[],l=0,c=(s+=o="\0\0\0\0".slice(s.length%4||4)).length;c>l;l+=4)(u=(s.charCodeAt(l)<<24)+(s.charCodeAt(l+1)<<16)+(s.charCodeAt(l+2)<<8)+s.charCodeAt(l+3))!==0?(d=(u=((u=((u=((u=(u-(g=u%85))/85)-(y=u%85))/85)-(f=u%85))/85)-(p=u%85))/85)%85,a.push(d+33,p+33,f+33,y+33,g+33)):a.push(122);return function(x,v){for(var w=v;w>0;w--)x.pop()}(a,o.length),String.fromCharCode.apply(String,a)+"~>"},t=function(s){var o,a,l,c,u,d=String,p="length",f=255,y="charCodeAt",g="slice",x="replace";for(s[g](-2),s=s[g](0,-2)[x](/\s/g,"")[x]("z","!!!!!"),l=[],c=0,u=(s+=o="uuuuu"[g](s[p]%5||5))[p];u>c;c+=5)a=52200625*(s[y](c)-33)+614125*(s[y](c+1)-33)+7225*(s[y](c+2)-33)+85*(s[y](c+3)-33)+(s[y](c+4)-33),l.push(f&a>>24,f&a>>16,f&a>>8,f&a);return function(v,w){for(var S=w;S>0;S--)v.pop()}(l,o[p]),d.fromCharCode.apply(d,l)},r=function(s){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),o.test(s)===!1)return"";for(var a="",l=0;l<s.length;l+=2)a+=String.fromCharCode("0x"+(s[l]+s[l+1]));return a},i=function(s){for(var o=new Uint8Array(s.length),a=s.length;a--;)o[a]=s.charCodeAt(a);return s=(o=y_(o)).reduce(function(l,c){return l+String.fromCharCode(c)},"")};n.processDataByFilters=function(s,o){var a=0,l=s||"",c=[];for(typeof(o=o||[])=="string"&&(o=[o]),a=0;a<o.length;a+=1)switch(o[a]){case"ASCII85Decode":case"/ASCII85Decode":l=t(l),c.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":l=e(l),c.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":l=r(l),c.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":l=l.split("").map(function(u){return("0"+u.charCodeAt().toString(16)).slice(-2)}).join("")+">",c.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":l=i(l),c.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[a]+'" is not implemented')}return{data:l,reverseChain:c.reverse().join(" ")}}}(it.API),function(n){n.loadFile=function(e,t,r){return function(i,s,o){s=s!==!1,o=typeof o=="function"?o:function(){};var a=void 0;try{a=function(l,c,u){var d=new XMLHttpRequest,p=0,f=function(y){var g=y.length,x=[],v=String.fromCharCode;for(p=0;p<g;p+=1)x.push(v(255&y.charCodeAt(p)));return x.join("")};if(d.open("GET",l,!c),d.overrideMimeType("text/plain; charset=x-user-defined"),c===!1&&(d.onload=function(){d.status===200?u(f(this.responseText)):u(void 0)}),d.send(null),c&&d.status===200)return f(d.responseText)}(i,s,o)}catch{}return a}(e,t,r)},n.loadImageFile=n.loadFile}(it.API),function(n){function e(){return(st.html2canvas?Promise.resolve(st.html2canvas):qw(()=>import("./html2canvas.esm-e0a7d97b.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function t(){return(st.DOMPurify?Promise.resolve(st.DOMPurify):qw(()=>import("./purify.es-31816194.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var r=function(o){var a=$t(o);return a==="undefined"?"undefined":a==="string"||o instanceof String?"string":a==="number"||o instanceof Number?"number":a==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":a==="object"?"object":"unknown"},i=function(o,a){var l=document.createElement(o);for(var c in a.className&&(l.className=a.className),a.innerHTML&&a.dompurify&&(l.innerHTML=a.dompurify.sanitize(a.innerHTML)),a.style)l.style[c]=a.style[c];return l},s=function o(a){var l=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),c=o.convert(Promise.resolve(),l);return c=(c=c.setProgress(1,o,1,[o])).set(a)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(o,a){return o.__proto__=a||s.prototype,o},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(o,a){return this.then(function(){switch(a=a||function(l){switch(r(l)){case"string":return"string";case"element":return l.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o)){case"string":return this.then(t).then(function(l){return this.set({src:i("div",{innerHTML:o,dompurify:l})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},s.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},a=function l(c,u){for(var d=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),p=c.firstChild;p;p=p.nextSibling)u!==!0&&p.nodeType===1&&p.nodeName==="SCRIPT"||d.appendChild(l(p,u));return c.nodeType===1&&(c.nodeName==="CANVAS"?(d.width=c.width,d.height=c.height,d.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(d.value=c.value),d.addEventListener("load",function(){d.scrollTop=c.scrollTop,d.scrollLeft=c.scrollLeft},!0)),d}(this.prop.src,this.opt.html2canvas.javascriptEnabled);a.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(a),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(a){var l=Object.assign({},this.opt.html2canvas);return delete l.onrendered,a(this.prop.container,l)}).then(function(a){(this.opt.html2canvas.onrendered||function(){})(a),this.prop.canvas=a,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(a){var l=this.opt.jsPDF,c=this.opt.fontFaces,u=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,d=Object.assign({async:!0,allowTaint:!0,scale:u,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete d.onrendered,l.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,l.context2d.posX=this.opt.x,l.context2d.posY=this.opt.y,l.context2d.margin=this.opt.margin,l.context2d.fontFaces=c,c)for(var p=0;p<c.length;++p){var f=c[p],y=f.src.find(function(g){return g.format==="truetype"});y&&l.addFont(y.url,f.ref.name,f.ref.style)}return d.windowHeight=d.windowHeight||0,d.windowHeight=d.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):d.windowHeight,l.context2d.save(!0),a(this.prop.container,d)}).then(function(a){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(a),this.prop.canvas=a,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(o,a,l){return(l=l||"pdf").toLowerCase()==="img"||l.toLowerCase()==="image"?this.outputImg(o,a):this.outputPdf(o,a)},s.prototype.outputPdf=function(o,a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,a)})},s.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},s.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(o){if(r(o)!=="object")return this;var a=Object.keys(o||{}).map(function(l){if(l in s.template.prop)return function(){this.prop[l]=o[l]};switch(l){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[l]=o[l]}}},this);return this.then(function(){return this.thenList(a)})},s.prototype.get=function(o,a){return this.then(function(){var l=o in s.template.prop?this.prop[o]:this.opt[o];return a?a(l):l})},s.prototype.setMargin=function(o){return this.then(function(){switch(r(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},s.prototype.setPageSize=function(o){function a(l,c){return Math.floor(l*c/72*96)}return this.then(function(){(o=o||it.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:a(o.inner.width,o.k),height:a(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},s.prototype.setProgress=function(o,a,l,c){return o!=null&&(this.progress.val=o),a!=null&&(this.progress.state=a),l!=null&&(this.progress.n=l),c!=null&&(this.progress.stack=c),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(o,a,l,c){return this.setProgress(o?this.progress.val+o:null,a||null,l?this.progress.n+l:null,c?this.progress.stack.concat(c):null)},s.prototype.then=function(o,a){var l=this;return this.thenCore(o,a,function(c,u){return l.updateProgress(null,null,1,[c]),Promise.prototype.then.call(this,function(d){return l.updateProgress(null,c),d}).then(c,u).then(function(d){return l.updateProgress(1),d})})},s.prototype.thenCore=function(o,a,l){l=l||Promise.prototype.then,o&&(o=o.bind(this)),a&&(a=a.bind(this));var c=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:s.convert(Object.assign({},this),Promise.prototype),u=l.call(c,o,a);return s.convert(u,this.__proto__)},s.prototype.thenExternal=function(o,a){return Promise.prototype.then.call(this,o,a)},s.prototype.thenList=function(o){var a=this;return o.forEach(function(l){a=a.thenCore(l)}),a},s.prototype.catch=function(o){o&&(o=o.bind(this));var a=Promise.prototype.catch.call(this,o);return s.convert(a,this)},s.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},s.prototype.error=function(o){return this.then(function(){throw new Error(o)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,it.getPageSize=function(o,a,l){if($t(o)==="object"){var c=o;o=c.orientation,a=c.unit||a,l=c.format||l}a=a||"mm",l=l||"a4",o=(""+(o||"P")).toLowerCase();var u,d=(""+l).toLowerCase(),p={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(a){case"pt":u=1;break;case"mm":u=72/25.4;break;case"cm":u=72/2.54;break;case"in":u=72;break;case"px":u=.75;break;case"pc":case"em":u=12;break;case"ex":u=6;break;default:throw"Invalid unit: "+a}var f,y=0,g=0;if(p.hasOwnProperty(d))y=p[d][1]/u,g=p[d][0]/u;else try{y=l[1],g=l[0]}catch{throw new Error("Invalid format: "+l)}if(o==="p"||o==="portrait")o="p",g>y&&(f=g,g=y,y=f);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",y>g&&(f=g,g=y,y=f)}return{width:g,height:y,unit:a,k:u,orientation:o}},n.html=function(o,a){(a=a||{}).callback=a.callback||function(){},a.html2canvas=a.html2canvas||{},a.html2canvas.canvas=a.html2canvas.canvas||this.canvas,a.jsPDF=a.jsPDF||this,a.fontFaces=a.fontFaces?a.fontFaces.map(E_):null;var l=new s(a);return a.worker?l:l.from(o).doCallback()}}(it.API),it.API.addJS=function(n){return B6=n,this.internal.events.subscribe("postPutResources",function(){J5=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(J5+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),j6=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+B6+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){J5!==void 0&&j6!==void 0&&this.internal.out("/Names <</JavaScript "+J5+" 0 R>>")}),this},function(n){var e;n.events.push(["postPutResources",function(){var t=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=t.outline.render().split(/\r\n/),s=0;s<i.length;s++){var o=i[s],a=r.exec(o);if(a!=null){var l=a[1];t.internal.newObjectDeferredBegin(l,!1)}t.internal.write(o)}if(this.outline.createNamedDestinations){var c=this.internal.pages.length,u=[];for(s=0;s<c;s++){var d=t.internal.newObject();u.push(d);var p=t.internal.getPageInfo(s+1);t.internal.write("<< /D["+p.objId+" 0 R /XYZ null null null]>> endobj")}var f=t.internal.newObject();for(t.internal.write("<< /Names [ "),s=0;s<u.length;s++)t.internal.write("(page_"+(s+1)+")"+u[s]+" 0 R");t.internal.write(" ] >>","endobj"),e=t.internal.newObject(),t.internal.write("<< /Dests "+f+" 0 R"),t.internal.write(">>","endobj")}}]),n.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),n.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(r,i,s){var o={title:i,options:s,children:[]};return r==null&&(r=this.root),r.children.push(o),o},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(r){r.id=t.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},t.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},t.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<r.children.length;s++){var o=r.children[s];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(r)),s>0&&this.line("/Prev "+this.makeRef(r.children[s-1])),s<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[s+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var a=this.count=this.count_r({count:0},o);if(a>0&&this.line("/Count "+a),o.options&&o.options.pageNumber){var l=t.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var c=0;c<r.children.length;c++)this.renderItems(r.children[c])},t.outline.line=function(r){this.ctx.val+=r+`\r
`},t.outline.makeRef=function(r){return r.id+" 0 R"},t.outline.makeString=function(r){return"("+t.internal.pdfEscape(r)+")"},t.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},t.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},t.outline.count_r=function(r,i){for(var s=0;s<i.children.length;s++)r.count++,this.count_r(r,i.children[s]);return r.count}}])}(it.API),function(n){var e=[192,193,194,195,196,197,198,199];n.processJPEG=function(t,r,i,s,o,a){var l,c=this.decode.DCT_DECODE,u=null;if(typeof t=="string"||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=o||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,(l=function(d){for(var p,f=256*d.charCodeAt(4)+d.charCodeAt(5),y=d.length,g={width:0,height:0,numcomponents:1},x=4;x<y;x+=2){if(x+=f,e.indexOf(d.charCodeAt(x+1))!==-1){p=256*d.charCodeAt(x+5)+d.charCodeAt(x+6),g={width:256*d.charCodeAt(x+7)+d.charCodeAt(x+8),height:p,numcomponents:d.charCodeAt(x+9)};break}f=256*d.charCodeAt(x+2)+d.charCodeAt(x+3)}return g}(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t)).numcomponents){case 1:a=this.color_spaces.DEVICE_GRAY;break;case 4:a=this.color_spaces.DEVICE_CMYK;break;case 3:a=this.color_spaces.DEVICE_RGB}u={data:t,width:l.width,height:l.height,colorSpace:a,bitsPerComponent:8,filter:c,index:r,alias:i}}return u}}(it.API);var Xf,Q5,$6,z6,V6,MQ=function(){var n,e,t;function r(s){var o,a,l,c,u,d,p,f,y,g,x,v,w,S;for(this.data=s,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},d=null;;){switch(o=this.readUInt32(),y=(function(){var C,N;for(N=[],C=0;C<4;++C)N.push(String.fromCharCode(this.data[this.pos++]));return N}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(o);break;case"fcTL":d&&this.animation.frames.push(d),this.pos+=4,d={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},u=this.readUInt16(),c=this.readUInt16()||100,d.delay=1e3*u/c,d.disposeOp=this.data[this.pos++],d.blendOp=this.data[this.pos++],d.data=[];break;case"IDAT":case"fdAT":for(y==="fdAT"&&(this.pos+=4,o-=4),s=(d!=null?d.data:void 0)||this.imgData,v=0;0<=o?v<o:v>o;0<=o?++v:--v)s.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(l=this.palette.length/3,this.transparency.indexed=this.read(o),this.transparency.indexed.length>l)throw new Error("More transparent colors than palette size");if((g=l-this.transparency.indexed.length)>0)for(w=0;0<=g?w<g:w>g;0<=g?++w:--w)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(o)[0];break;case 2:this.transparency.rgb=this.read(o)}break;case"tEXt":p=(x=this.read(o)).indexOf(0),f=String.fromCharCode.apply(String,x.slice(0,p)),this.text[f]=String.fromCharCode.apply(String,x.slice(p+1));break;case"IEND":return d&&this.animation.frames.push(d),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(S=this.colorType)===4||S===6,a=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*a,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=o}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}r.prototype.read=function(s){var o,a;for(a=[],o=0;0<=s?o<s:o>s;0<=s?++o:--o)a.push(this.data[this.pos++]);return a},r.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.decodePixels=function(s){var o=this.pixelBitlength/8,a=new Uint8Array(this.width*this.height*o),l=0,c=this;if(s==null&&(s=this.imgData),s.length===0)return new Uint8Array(0);function u(d,p,f,y){var g,x,v,w,S,C,N,$,R,k,W,X,M,j,K,U,le,Q,ne,Y,se,de=Math.ceil((c.width-d)/f),be=Math.ceil((c.height-p)/y),D=c.width==de&&c.height==be;for(j=o*de,X=D?a:new Uint8Array(j*be),C=s.length,M=0,x=0;M<be&&l<C;){switch(s[l++]){case 0:for(w=le=0;le<j;w=le+=1)X[x++]=s[l++];break;case 1:for(w=Q=0;Q<j;w=Q+=1)g=s[l++],S=w<o?0:X[x-o],X[x++]=(g+S)%256;break;case 2:for(w=ne=0;ne<j;w=ne+=1)g=s[l++],v=(w-w%o)/o,K=M&&X[(M-1)*j+v*o+w%o],X[x++]=(K+g)%256;break;case 3:for(w=Y=0;Y<j;w=Y+=1)g=s[l++],v=(w-w%o)/o,S=w<o?0:X[x-o],K=M&&X[(M-1)*j+v*o+w%o],X[x++]=(g+Math.floor((S+K)/2))%256;break;case 4:for(w=se=0;se<j;w=se+=1)g=s[l++],v=(w-w%o)/o,S=w<o?0:X[x-o],M===0?K=U=0:(K=X[(M-1)*j+v*o+w%o],U=v&&X[(M-1)*j+(v-1)*o+w%o]),N=S+K-U,$=Math.abs(N-S),k=Math.abs(N-K),W=Math.abs(N-U),R=$<=k&&$<=W?S:k<=W?K:U,X[x++]=(g+R)%256;break;default:throw new Error("Invalid filter algorithm: "+s[l-1])}if(!D){var G=((p+M*y)*c.width+d)*o,Z=M*j;for(w=0;w<de;w+=1){for(var re=0;re<o;re+=1)a[G++]=X[Z++];G+=(f-1)*o}}M++}}return s=hQ(s),c.interlaceMethod==1?(u(0,0,8,8),u(4,0,8,8),u(0,4,4,8),u(2,0,4,4),u(0,2,2,4),u(1,0,2,2),u(0,1,1,2)):u(0,0,1,1),a},r.prototype.decodePalette=function(){var s,o,a,l,c,u,d,p,f;for(a=this.palette,u=this.transparency.indexed||[],c=new Uint8Array((u.length||0)+a.length),l=0,s=0,o=d=0,p=a.length;d<p;o=d+=3)c[l++]=a[o],c[l++]=a[o+1],c[l++]=a[o+2],c[l++]=(f=u[s++])!=null?f:255;return c},r.prototype.copyToImageData=function(s,o){var a,l,c,u,d,p,f,y,g,x,v;if(l=this.colors,g=null,a=this.hasAlphaChannel,this.palette.length&&(g=(v=this._decodedPalette)!=null?v:this._decodedPalette=this.decodePalette(),l=4,a=!0),y=(c=s.data||s).length,d=g||o,u=p=0,l===1)for(;u<y;)f=g?4*o[u/4]:p,x=d[f++],c[u++]=x,c[u++]=x,c[u++]=x,c[u++]=a?d[f++]:255,p=f;else for(;u<y;)f=g?4*o[u/4]:p,c[u++]=d[f++],c[u++]=d[f++],c[u++]=d[f++],c[u++]=a?d[f++]:255,p=f},r.prototype.decode=function(){var s;return s=new Uint8Array(this.width*this.height*4),this.copyToImageData(s,this.decodePixels()),s};var i=function(){if(Object.prototype.toString.call(st)==="[object Window]"){try{e=st.document.createElement("canvas"),t=e.getContext("2d")}catch{return!1}return!0}return!1};return i(),n=function(s){var o;if(i()===!0)return t.width=s.width,t.height=s.height,t.clearRect(0,0,s.width,s.height),t.putImageData(s,0,0),(o=new Image).src=e.toDataURL(),o;throw new Error("This method requires a Browser with Canvas-capability.")},r.prototype.decodeFrames=function(s){var o,a,l,c,u,d,p,f;if(this.animation){for(f=[],a=u=0,d=(p=this.animation.frames).length;u<d;a=++u)o=p[a],l=s.createImageData(o.width,o.height),c=this.decodePixels(new Uint8Array(o.data)),this.copyToImageData(l,c),o.imageData=l,f.push(o.image=n(l));return f}},r.prototype.renderFrame=function(s,o){var a,l,c;return a=(l=this.animation.frames)[o],c=l[o-1],o===0&&s.clearRect(0,0,this.width,this.height),(c!=null?c.disposeOp:void 0)===1?s.clearRect(c.xOffset,c.yOffset,c.width,c.height):(c!=null?c.disposeOp:void 0)===2&&s.putImageData(c.imageData,c.xOffset,c.yOffset),a.blendOp===0&&s.clearRect(a.xOffset,a.yOffset,a.width,a.height),s.drawImage(a.image,a.xOffset,a.yOffset)},r.prototype.animate=function(s){var o,a,l,c,u,d,p=this;return a=0,d=this.animation,c=d.numFrames,l=d.frames,u=d.numPlays,(o=function(){var f,y;if(f=a++%c,y=l[f],p.renderFrame(s,f),c>1&&a/c<u)return p.animation._timeout=setTimeout(o,y.delay)})()},r.prototype.stopAnimation=function(){var s;return clearTimeout((s=this.animation)!=null?s._timeout:void 0)},r.prototype.render=function(s){var o,a;return s._png&&s._png.stopAnimation(),s._png=this,s.width=this.width,s.height=this.height,o=s.getContext("2d"),this.animation?(this.decodeFrames(o),this.animate(o)):(a=o.createImageData(this.width,this.height),this.copyToImageData(a,this.decodePixels()),o.putImageData(a,0,0))},r}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function FQ(n){var e=0;if(n[e++]!==71||n[e++]!==73||n[e++]!==70||n[e++]!==56||(n[e++]+1&253)!=56||n[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var t=n[e++]|n[e++]<<8,r=n[e++]|n[e++]<<8,i=n[e++],s=i>>7,o=1<<(7&i)+1;n[e++],n[e++];var a=null,l=null;s&&(a=e,l=o,e+=3*o);var c=!0,u=[],d=0,p=null,f=0,y=null;for(this.width=t,this.height=r;c&&e<n.length;)switch(n[e++]){case 33:switch(n[e++]){case 255:if(n[e]!==11||n[e+1]==78&&n[e+2]==69&&n[e+3]==84&&n[e+4]==83&&n[e+5]==67&&n[e+6]==65&&n[e+7]==80&&n[e+8]==69&&n[e+9]==50&&n[e+10]==46&&n[e+11]==48&&n[e+12]==3&&n[e+13]==1&&n[e+16]==0)e+=14,y=n[e++]|n[e++]<<8,e++;else for(e+=12;;){if(!((M=n[e++])>=0))throw Error("Invalid block size");if(M===0)break;e+=M}break;case 249:if(n[e++]!==4||n[e+4]!==0)throw new Error("Invalid graphics extension block.");var g=n[e++];d=n[e++]|n[e++]<<8,p=n[e++],!(1&g)&&(p=null),f=g>>2&7,e++;break;case 254:for(;;){if(!((M=n[e++])>=0))throw Error("Invalid block size");if(M===0)break;e+=M}break;default:throw new Error("Unknown graphic control label: 0x"+n[e-1].toString(16))}break;case 44:var x=n[e++]|n[e++]<<8,v=n[e++]|n[e++]<<8,w=n[e++]|n[e++]<<8,S=n[e++]|n[e++]<<8,C=n[e++],N=C>>6&1,$=1<<(7&C)+1,R=a,k=l,W=!1;C>>7&&(W=!0,R=e,k=$,e+=3*$);var X=e;for(e++;;){var M;if(!((M=n[e++])>=0))throw Error("Invalid block size");if(M===0)break;e+=M}u.push({x,y:v,width:w,height:S,has_local_palette:W,palette_offset:R,palette_size:k,data_offset:X,data_length:e-X,transparent_index:p,interlaced:!!N,delay:d,disposal:f});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+n[e-1].toString(16))}this.numFrames=function(){return u.length},this.loopCount=function(){return y},this.frameInfo=function(j){if(j<0||j>=u.length)throw new Error("Frame index out of range.");return u[j]},this.decodeAndBlitFrameBGRA=function(j,K){var U=this.frameInfo(j),le=U.width*U.height,Q=new Uint8Array(le);U6(n,U.data_offset,Q,le);var ne=U.palette_offset,Y=U.transparent_index;Y===null&&(Y=256);var se=U.width,de=t-se,be=se,D=4*(U.y*t+U.x),G=4*((U.y+U.height)*t+U.x),Z=D,re=4*de;U.interlaced===!0&&(re+=4*t*7);for(var oe=8,ie=0,pe=Q.length;ie<pe;++ie){var ge=Q[ie];if(be===0&&(be=se,(Z+=re)>=G&&(re=4*de+4*t*(oe-1),Z=D+(se+de)*(oe<<1),oe>>=1)),ge===Y)Z+=4;else{var Ee=n[ne+3*ge],Ae=n[ne+3*ge+1],Ne=n[ne+3*ge+2];K[Z++]=Ne,K[Z++]=Ae,K[Z++]=Ee,K[Z++]=255}--be}},this.decodeAndBlitFrameRGBA=function(j,K){var U=this.frameInfo(j),le=U.width*U.height,Q=new Uint8Array(le);U6(n,U.data_offset,Q,le);var ne=U.palette_offset,Y=U.transparent_index;Y===null&&(Y=256);var se=U.width,de=t-se,be=se,D=4*(U.y*t+U.x),G=4*((U.y+U.height)*t+U.x),Z=D,re=4*de;U.interlaced===!0&&(re+=4*t*7);for(var oe=8,ie=0,pe=Q.length;ie<pe;++ie){var ge=Q[ie];if(be===0&&(be=se,(Z+=re)>=G&&(re=4*de+4*t*(oe-1),Z=D+(se+de)*(oe<<1),oe>>=1)),ge===Y)Z+=4;else{var Ee=n[ne+3*ge],Ae=n[ne+3*ge+1],Ne=n[ne+3*ge+2];K[Z++]=Ee,K[Z++]=Ae,K[Z++]=Ne,K[Z++]=255}--be}}}function U6(n,e,t,r){for(var i=n[e++],s=1<<i,o=s+1,a=o+1,l=i+1,c=(1<<l)-1,u=0,d=0,p=0,f=n[e++],y=new Int32Array(4096),g=null;;){for(;u<16&&f!==0;)d|=n[e++]<<u,u+=8,f===1?f=n[e++]:--f;if(u<l)break;var x=d&c;if(d>>=l,u-=l,x!==s){if(x===o)break;for(var v=x<a?x:g,w=0,S=v;S>s;)S=y[S]>>8,++w;var C=S;if(p+w+(v!==x?1:0)>r)return void Jt.log("Warning, gif stream longer than expected.");t[p++]=C;var N=p+=w;for(v!==x&&(t[p++]=C),S=v;w--;)S=y[S],t[--N]=255&S,S>>=8;g!==null&&a<4096&&(y[a++]=g<<8|C,a>=c+1&&l<12&&(++l,c=c<<1|1)),g=x}else a=o+1,c=(1<<(l=i+1))-1,g=null}return p!==r&&Jt.log("Warning, gif stream shorter than expected."),t}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function ME(n){var e,t,r,i,s,o=Math.floor,a=new Array(64),l=new Array(64),c=new Array(64),u=new Array(64),d=new Array(65535),p=new Array(65535),f=new Array(64),y=new Array(64),g=[],x=0,v=7,w=new Array(64),S=new Array(64),C=new Array(64),N=new Array(256),$=new Array(2048),R=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],k=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],W=[0,1,2,3,4,5,6,7,8,9,10,11],X=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],M=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],j=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],K=[0,1,2,3,4,5,6,7,8,9,10,11],U=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],le=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function Q(D,G){for(var Z=0,re=0,oe=new Array,ie=1;ie<=16;ie++){for(var pe=1;pe<=D[ie];pe++)oe[G[re]]=[],oe[G[re]][0]=Z,oe[G[re]][1]=ie,re++,Z++;Z*=2}return oe}function ne(D){for(var G=D[0],Z=D[1]-1;Z>=0;)G&1<<Z&&(x|=1<<v),Z--,--v<0&&(x==255?(Y(255),Y(0)):Y(x),v=7,x=0)}function Y(D){g.push(D)}function se(D){Y(D>>8&255),Y(255&D)}function de(D,G,Z,re,oe){for(var ie,pe=oe[0],ge=oe[240],Ee=function(ke,Fe){var Oe,Be,Je,lt,vt,bt,Nt,Vt,ot,xt,$e=0;for(ot=0;ot<8;++ot){Oe=ke[$e],Be=ke[$e+1],Je=ke[$e+2],lt=ke[$e+3],vt=ke[$e+4],bt=ke[$e+5],Nt=ke[$e+6];var zr=Oe+(Vt=ke[$e+7]),Rt=Oe-Vt,Ys=Be+Nt,Gt=Be-Nt,ln=Je+bt,zo=Je-bt,Mt=lt+vt,Uu=lt-vt,En=zr+Mt,Ks=zr-Mt,Da=Ys+ln,Cn=Ys-ln;ke[$e]=En+Da,ke[$e+4]=En-Da;var ct=.707106781*(Cn+Ks);ke[$e+2]=Ks+ct,ke[$e+6]=Ks-ct;var Ft=.382683433*((En=Uu+zo)-(Cn=Gt+Rt)),Hu=.5411961*En+Ft,Er=1.306562965*Cn+Ft,Vo=.707106781*(Da=zo+Gt),Uo=Rt+Vo,tt=Rt-Vo;ke[$e+5]=tt+Hu,ke[$e+3]=tt-Hu,ke[$e+1]=Uo+Er,ke[$e+7]=Uo-Er,$e+=8}for($e=0,ot=0;ot<8;++ot){Oe=ke[$e],Be=ke[$e+8],Je=ke[$e+16],lt=ke[$e+24],vt=ke[$e+32],bt=ke[$e+40],Nt=ke[$e+48];var Js=Oe+(Vt=ke[$e+56]),Ho=Oe-Vt,Si=Be+Nt,tr=Be-Nt,qn=Je+bt,qi=Je-bt,ff=lt+vt,Oa=lt-vt,Qs=Js+ff,Zs=Js-ff,eo=Si+qn,qo=Si-qn;ke[$e]=Qs+eo,ke[$e+32]=Qs-eo;var Ss=.707106781*(qo+Zs);ke[$e+16]=Zs+Ss,ke[$e+48]=Zs-Ss;var Wo=.382683433*((Qs=Oa+qi)-(qo=tr+Ho)),qu=.5411961*Qs+Wo,pf=1.306562965*qo+Wo,mf=.707106781*(eo=qi+tr),gf=Ho+mf,vf=Ho-mf;ke[$e+40]=vf+qu,ke[$e+24]=vf-qu,ke[$e+8]=gf+pf,ke[$e+56]=gf-pf,$e++}for(ot=0;ot<64;++ot)xt=ke[ot]*Fe[ot],f[ot]=xt>0?xt+.5|0:xt-.5|0;return f}(D,G),Ae=0;Ae<64;++Ae)y[R[Ae]]=Ee[Ae];var Ne=y[0]-Z;Z=y[0],Ne==0?ne(re[0]):(ne(re[p[ie=32767+Ne]]),ne(d[ie]));for(var Re=63;Re>0&&y[Re]==0;)Re--;if(Re==0)return ne(pe),Z;for(var qe,we=1;we<=Re;){for(var te=we;y[we]==0&&we<=Re;)++we;var nt=we-te;if(nt>=16){qe=nt>>4;for(var Xe=1;Xe<=qe;++Xe)ne(ge);nt&=15}ie=32767+y[we],ne(oe[(nt<<4)+p[ie]]),ne(d[ie]),we++}return Re!=63&&ne(pe),Z}function be(D){D=Math.min(Math.max(D,1),100),s!=D&&(function(G){for(var Z=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],re=0;re<64;re++){var oe=o((Z[re]*G+50)/100);oe=Math.min(Math.max(oe,1),255),a[R[re]]=oe}for(var ie=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],pe=0;pe<64;pe++){var ge=o((ie[pe]*G+50)/100);ge=Math.min(Math.max(ge,1),255),l[R[pe]]=ge}for(var Ee=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Ae=0,Ne=0;Ne<8;Ne++)for(var Re=0;Re<8;Re++)c[Ae]=1/(a[R[Ae]]*Ee[Ne]*Ee[Re]*8),u[Ae]=1/(l[R[Ae]]*Ee[Ne]*Ee[Re]*8),Ae++}(D<50?Math.floor(5e3/D):Math.floor(200-2*D)),s=D)}this.encode=function(D,G){G&&be(G),g=new Array,x=0,v=7,se(65496),se(65504),se(16),Y(74),Y(70),Y(73),Y(70),Y(0),Y(1),Y(1),Y(0),se(1),se(1),Y(0),Y(0),function(){se(65499),se(132),Y(0);for(var Be=0;Be<64;Be++)Y(a[Be]);Y(1);for(var Je=0;Je<64;Je++)Y(l[Je])}(),function(Be,Je){se(65472),se(17),Y(8),se(Je),se(Be),Y(3),Y(1),Y(17),Y(0),Y(2),Y(17),Y(1),Y(3),Y(17),Y(1)}(D.width,D.height),function(){se(65476),se(418),Y(0);for(var Be=0;Be<16;Be++)Y(k[Be+1]);for(var Je=0;Je<=11;Je++)Y(W[Je]);Y(16);for(var lt=0;lt<16;lt++)Y(X[lt+1]);for(var vt=0;vt<=161;vt++)Y(M[vt]);Y(1);for(var bt=0;bt<16;bt++)Y(j[bt+1]);for(var Nt=0;Nt<=11;Nt++)Y(K[Nt]);Y(17);for(var Vt=0;Vt<16;Vt++)Y(U[Vt+1]);for(var ot=0;ot<=161;ot++)Y(le[ot])}(),se(65498),se(12),Y(3),Y(1),Y(0),Y(2),Y(17),Y(3),Y(17),Y(0),Y(63),Y(0);var Z=0,re=0,oe=0;x=0,v=7,this.encode.displayName="_encode_";for(var ie,pe,ge,Ee,Ae,Ne,Re,qe,we,te=D.data,nt=D.width,Xe=D.height,ke=4*nt,Fe=0;Fe<Xe;){for(ie=0;ie<ke;){for(Ae=ke*Fe+ie,Re=-1,qe=0,we=0;we<64;we++)Ne=Ae+(qe=we>>3)*ke+(Re=4*(7&we)),Fe+qe>=Xe&&(Ne-=ke*(Fe+1+qe-Xe)),ie+Re>=ke&&(Ne-=ie+Re-ke+4),pe=te[Ne++],ge=te[Ne++],Ee=te[Ne++],w[we]=($[pe]+$[ge+256>>0]+$[Ee+512>>0]>>16)-128,S[we]=($[pe+768>>0]+$[ge+1024>>0]+$[Ee+1280>>0]>>16)-128,C[we]=($[pe+1280>>0]+$[ge+1536>>0]+$[Ee+1792>>0]>>16)-128;Z=de(w,c,Z,e,r),re=de(S,u,re,t,i),oe=de(C,u,oe,t,i),ie+=32}Fe+=8}if(v>=0){var Oe=[];Oe[1]=v+1,Oe[0]=(1<<v+1)-1,ne(Oe)}return se(65497),new Uint8Array(g)},n=n||50,function(){for(var D=String.fromCharCode,G=0;G<256;G++)N[G]=D(G)}(),e=Q(k,W),t=Q(j,K),r=Q(X,M),i=Q(U,le),function(){for(var D=1,G=2,Z=1;Z<=15;Z++){for(var re=D;re<G;re++)p[32767+re]=Z,d[32767+re]=[],d[32767+re][1]=Z,d[32767+re][0]=re;for(var oe=-(G-1);oe<=-D;oe++)p[32767+oe]=Z,d[32767+oe]=[],d[32767+oe][1]=Z,d[32767+oe][0]=G-1+oe;D<<=1,G<<=1}}(),function(){for(var D=0;D<256;D++)$[D]=19595*D,$[D+256>>0]=38470*D,$[D+512>>0]=7471*D+32768,$[D+768>>0]=-11059*D,$[D+1024>>0]=-21709*D,$[D+1280>>0]=32768*D+8421375,$[D+1536>>0]=-27439*D,$[D+1792>>0]=-5329*D}(),be(n)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function co(n,e){if(this.pos=0,this.buffer=n,this.datav=new DataView(n.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function H6(n){function e(k){if(!k)throw Error("assert :P")}function t(k,W,X){for(var M=0;4>M;M++)if(k[W+M]!=X.charCodeAt(M))return!0;return!1}function r(k,W,X,M,j){for(var K=0;K<j;K++)k[W+K]=X[M+K]}function i(k,W,X,M){for(var j=0;j<M;j++)k[W+j]=X}function s(k){return new Int32Array(k)}function o(k,W){for(var X=[],M=0;M<k;M++)X.push(new W);return X}function a(k,W){var X=[];return function M(j,K,U){for(var le=U[K],Q=0;Q<le&&(j.push(U.length>K+1?[]:new W),!(U.length<K+1));Q++)M(j[Q],K+1,U)}(X,0,k),X}var l=function(){var k=this;function W(m,b){for(var E=1<<b-1>>>0;m&E;)E>>>=1;return E?(m&E-1)+E:m}function X(m,b,E,P,F){e(!(P%E));do m[b+(P-=E)]=F;while(0<P)}function M(m,b,E,P,F){if(e(2328>=F),512>=F)var z=s(512);else if((z=s(F))==null)return 0;return function(V,H,q,J,ce,ve){var ye,fe,Pe=H,xe=1<<q,ue=s(16),he=s(16);for(e(ce!=0),e(J!=null),e(V!=null),e(0<q),fe=0;fe<ce;++fe){if(15<J[fe])return 0;++ue[J[fe]]}if(ue[0]==ce)return 0;for(he[1]=0,ye=1;15>ye;++ye){if(ue[ye]>1<<ye)return 0;he[ye+1]=he[ye]+ue[ye]}for(fe=0;fe<ce;++fe)ye=J[fe],0<J[fe]&&(ve[he[ye]++]=fe);if(he[15]==1)return(J=new j).g=0,J.value=ve[0],X(V,Pe,1,xe,J),xe;var Ce,Te=-1,_e=xe-1,Ve=0,De=1,Ze=1,je=1<<q;for(fe=0,ye=1,ce=2;ye<=q;++ye,ce<<=1){if(De+=Ze<<=1,0>(Ze-=ue[ye]))return 0;for(;0<ue[ye];--ue[ye])(J=new j).g=ye,J.value=ve[fe++],X(V,Pe+Ve,ce,je,J),Ve=W(Ve,ye)}for(ye=q+1,ce=2;15>=ye;++ye,ce<<=1){if(De+=Ze<<=1,0>(Ze-=ue[ye]))return 0;for(;0<ue[ye];--ue[ye]){if(J=new j,(Ve&_e)!=Te){for(Pe+=je,Ce=1<<(Te=ye)-q;15>Te&&!(0>=(Ce-=ue[Te]));)++Te,Ce<<=1;xe+=je=1<<(Ce=Te-q),V[H+(Te=Ve&_e)].g=Ce+q,V[H+Te].value=Pe-H-Te}J.g=ye-q,J.value=ve[fe++],X(V,Pe+(Ve>>q),ce,je,J),Ve=W(Ve,ye)}}return De!=2*he[15]-1?0:xe}(m,b,E,P,F,z)}function j(){this.value=this.g=0}function K(){this.value=this.g=0}function U(){this.G=o(5,j),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(Cr,K)}function le(m,b,E,P){e(m!=null),e(b!=null),e(2147483648>P),m.Ca=254,m.I=0,m.b=-8,m.Ka=0,m.oa=b,m.pa=E,m.Jd=b,m.Yc=E+P,m.Zc=4<=P?E+P-4+1:E,ie(m)}function Q(m,b){for(var E=0;0<b--;)E|=ge(m,128)<<b;return E}function ne(m,b){var E=Q(m,b);return pe(m)?-E:E}function Y(m,b,E,P){var F,z=0;for(e(m!=null),e(b!=null),e(4294967288>P),m.Sb=P,m.Ra=0,m.u=0,m.h=0,4<P&&(P=4),F=0;F<P;++F)z+=b[E+F]<<8*F;m.Ra=z,m.bb=P,m.oa=b,m.pa=E}function se(m){for(;8<=m.u&&m.bb<m.Sb;)m.Ra>>>=8,m.Ra+=m.oa[m.pa+m.bb]<<Rf-8>>>0,++m.bb,m.u-=8;Z(m)&&(m.h=1,m.u=0)}function de(m,b){if(e(0<=b),!m.h&&b<=kf){var E=G(m)&Lf[b];return m.u+=b,se(m),E}return m.h=1,m.u=0}function be(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function D(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function G(m){return m.Ra>>>(m.u&Rf-1)>>>0}function Z(m){return e(m.bb<=m.Sb),m.h||m.bb==m.Sb&&m.u>Rf}function re(m,b){m.u=b,m.h=Z(m)}function oe(m){m.u>=e0&&(e(m.u>=e0),se(m))}function ie(m){e(m!=null&&m.oa!=null),m.pa<m.Zc?(m.I=(m.oa[m.pa++]|m.I<<8)>>>0,m.b+=8):(e(m!=null&&m.oa!=null),m.pa<m.Yc?(m.b+=8,m.I=m.oa[m.pa++]|m.I<<8):m.Ka?m.b=0:(m.I<<=8,m.b+=8,m.Ka=1))}function pe(m){return Q(m,1)}function ge(m,b){var E=m.Ca;0>m.b&&ie(m);var P=m.b,F=E*b>>>8,z=(m.I>>>P>F)+0;for(z?(E-=F,m.I-=F+1<<P>>>0):E=F+1,P=E,F=0;256<=P;)F+=8,P>>=8;return P=7^F+Ci[P],m.b-=P,m.Ca=(E<<P)-1,z}function Ee(m,b,E){m[b+0]=E>>24&255,m[b+1]=E>>16&255,m[b+2]=E>>8&255,m[b+3]=E>>0&255}function Ae(m,b){return m[b+0]<<0|m[b+1]<<8}function Ne(m,b){return Ae(m,b)|m[b+2]<<16}function Re(m,b){return Ae(m,b)|Ae(m,b+2)<<16}function qe(m,b){var E=1<<b;return e(m!=null),e(0<b),m.X=s(E),m.X==null?0:(m.Mb=32-b,m.Xa=b,1)}function we(m,b){e(m!=null),e(b!=null),e(m.Xa==b.Xa),r(b.X,0,m.X,0,1<<b.Xa)}function te(){this.X=[],this.Xa=this.Mb=0}function nt(m,b,E,P){e(E!=null),e(P!=null);var F=E[0],z=P[0];return F==0&&(F=(m*z+b/2)/b),z==0&&(z=(b*F+m/2)/m),0>=F||0>=z?0:(E[0]=F,P[0]=z,1)}function Xe(m,b){return m+(1<<b)-1>>>b}function ke(m,b){return((4278255360&m)+(4278255360&b)>>>0&4278255360)+((16711935&m)+(16711935&b)>>>0&16711935)>>>0}function Fe(m,b){k[b]=function(E,P,F,z,V,H,q){var J;for(J=0;J<V;++J){var ce=k[m](H[q+J-1],F,z+J);H[q+J]=ke(E[P+J],ce)}}}function Oe(){this.ud=this.hd=this.jd=0}function Be(m,b){return((4278124286&(m^b))>>>1)+(m&b)>>>0}function Je(m){return 0<=m&&256>m?m:0>m?0:255<m?255:void 0}function lt(m,b){return Je(m+(m-b+.5>>1))}function vt(m,b,E){return Math.abs(b-E)-Math.abs(m-E)}function bt(m,b,E,P,F,z,V){for(P=z[V-1],E=0;E<F;++E)z[V+E]=P=ke(m[b+E],P)}function Nt(m,b,E,P,F){var z;for(z=0;z<E;++z){var V=m[b+z],H=V>>8&255,q=16711935&(q=(q=16711935&V)+((H<<16)+H));P[F+z]=(4278255360&V)+q>>>0}}function Vt(m,b){b.jd=m>>0&255,b.hd=m>>8&255,b.ud=m>>16&255}function ot(m,b,E,P,F,z){var V;for(V=0;V<P;++V){var H=b[E+V],q=H>>>8,J=H,ce=255&(ce=(ce=H>>>16)+((m.jd<<24>>24)*(q<<24>>24)>>>5));J=255&(J=(J=J+((m.hd<<24>>24)*(q<<24>>24)>>>5))+((m.ud<<24>>24)*(ce<<24>>24)>>>5)),F[z+V]=(4278255360&H)+(ce<<16)+J}}function xt(m,b,E,P,F){k[b]=function(z,V,H,q,J,ce,ve,ye,fe){for(q=ve;q<ye;++q)for(ve=0;ve<fe;++ve)J[ce++]=F(H[P(z[V++])])},k[m]=function(z,V,H,q,J,ce,ve){var ye=8>>z.b,fe=z.Ea,Pe=z.K[0],xe=z.w;if(8>ye)for(z=(1<<z.b)-1,xe=(1<<ye)-1;V<H;++V){var ue,he=0;for(ue=0;ue<fe;++ue)ue&z||(he=P(q[J++])),ce[ve++]=F(Pe[he&xe]),he>>=ye}else k["VP8LMapColor"+E](q,J,Pe,xe,ce,ve,V,H,fe)}}function $e(m,b,E,P,F){for(E=b+E;b<E;){var z=m[b++];P[F++]=z>>16&255,P[F++]=z>>8&255,P[F++]=z>>0&255}}function zr(m,b,E,P,F){for(E=b+E;b<E;){var z=m[b++];P[F++]=z>>16&255,P[F++]=z>>8&255,P[F++]=z>>0&255,P[F++]=z>>24&255}}function Rt(m,b,E,P,F){for(E=b+E;b<E;){var z=(V=m[b++])>>16&240|V>>12&15,V=V>>0&240|V>>28&15;P[F++]=z,P[F++]=V}}function Ys(m,b,E,P,F){for(E=b+E;b<E;){var z=(V=m[b++])>>16&248|V>>13&7,V=V>>5&224|V>>3&31;P[F++]=z,P[F++]=V}}function Gt(m,b,E,P,F){for(E=b+E;b<E;){var z=m[b++];P[F++]=z>>0&255,P[F++]=z>>8&255,P[F++]=z>>16&255}}function ln(m,b,E,P,F,z){if(z==0)for(E=b+E;b<E;)Ee(P,((z=m[b++])[0]>>24|z[1]>>8&65280|z[2]<<8&16711680|z[3]<<24)>>>0),F+=32;else r(P,F,m,b,E)}function zo(m,b){k[b][0]=k[m+"0"],k[b][1]=k[m+"1"],k[b][2]=k[m+"2"],k[b][3]=k[m+"3"],k[b][4]=k[m+"4"],k[b][5]=k[m+"5"],k[b][6]=k[m+"6"],k[b][7]=k[m+"7"],k[b][8]=k[m+"8"],k[b][9]=k[m+"9"],k[b][10]=k[m+"10"],k[b][11]=k[m+"11"],k[b][12]=k[m+"12"],k[b][13]=k[m+"13"],k[b][14]=k[m+"0"],k[b][15]=k[m+"0"]}function Mt(m){return m==d3||m==h3||m==s5||m==f3}function Uu(){this.eb=[],this.size=this.A=this.fb=0}function En(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Ks(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Uu,this.f.kb=new En,this.sd=null}function Da(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Cn(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function ct(m){return alert("todo:WebPSamplerProcessPlane"),m.T}function Ft(m,b){var E=m.T,P=b.ba.f.RGBA,F=P.eb,z=P.fb+m.ka*P.A,V=Ts[b.ba.S],H=m.y,q=m.O,J=m.f,ce=m.N,ve=m.ea,ye=m.W,fe=b.cc,Pe=b.dc,xe=b.Mc,ue=b.Nc,he=m.ka,Ce=m.ka+m.T,Te=m.U,_e=Te+1>>1;for(he==0?V(H,q,null,null,J,ce,ve,ye,J,ce,ve,ye,F,z,null,null,Te):(V(b.ec,b.fc,H,q,fe,Pe,xe,ue,J,ce,ve,ye,F,z-P.A,F,z,Te),++E);he+2<Ce;he+=2)fe=J,Pe=ce,xe=ve,ue=ye,ce+=m.Rc,ye+=m.Rc,z+=2*P.A,V(H,(q+=2*m.fa)-m.fa,H,q,fe,Pe,xe,ue,J,ce,ve,ye,F,z-P.A,F,z,Te);return q+=m.fa,m.j+Ce<m.o?(r(b.ec,b.fc,H,q,Te),r(b.cc,b.dc,J,ce,_e),r(b.Mc,b.Nc,ve,ye,_e),E--):1&Ce||V(H,q,null,null,J,ce,ve,ye,J,ce,ve,ye,F,z+P.A,null,null,Te),E}function Hu(m,b,E){var P=m.F,F=[m.J];if(P!=null){var z=m.U,V=b.ba.S,H=V==i5||V==s5;b=b.ba.f.RGBA;var q=[0],J=m.ka;q[0]=m.T,m.Kb&&(J==0?--q[0]:(--J,F[0]-=m.width),m.j+m.ka+m.T==m.o&&(q[0]=m.o-m.j-J));var ce=b.eb;J=b.fb+J*b.A,m=Zt(P,F[0],m.width,z,q,ce,J+(H?0:3),b.A),e(E==q),m&&Mt(V)&&Ps(ce,J,H,z,q,b.A)}return 0}function Er(m){var b=m.ma,E=b.ba.S,P=11>E,F=E==n5||E==r5||E==i5||E==u3||E==12||Mt(E);if(b.memory=null,b.Ib=null,b.Jb=null,b.Nd=null,!Qg(b.Oa,m,F?11:12))return 0;if(F&&Mt(E)&&Le(),m.da)alert("todo:use_scaling");else{if(P){if(b.Ib=ct,m.Kb){if(E=m.U+1>>1,b.memory=s(m.U+2*E),b.memory==null)return 0;b.ec=b.memory,b.fc=0,b.cc=b.ec,b.dc=b.fc+m.U,b.Mc=b.cc,b.Nc=b.dc+E,b.Ib=Ft,Le()}}else alert("todo:EmitYUV");F&&(b.Jb=Hu,P&&me())}if(P&&!tT){for(m=0;256>m;++m)lB[m]=89858*(m-128)+a5>>o5,dB[m]=-22014*(m-128)+a5,uB[m]=-45773*(m-128),cB[m]=113618*(m-128)+a5>>o5;for(m=a0;m<g3;++m)b=76283*(m-16)+a5>>o5,hB[m-a0]=Wi(b,255),fB[m-a0]=Wi(b+8>>4,15);tT=1}return 1}function Vo(m){var b=m.ma,E=m.U,P=m.T;return e(!(1&m.ka)),0>=E||0>=P?0:(E=b.Ib(m,b),b.Jb!=null&&b.Jb(m,b,E),b.Dc+=E,1)}function Uo(m){m.ma.memory=null}function tt(m,b,E,P){return de(m,8)!=47?0:(b[0]=de(m,14)+1,E[0]=de(m,14)+1,P[0]=de(m,1),de(m,3)!=0?0:!m.h)}function Js(m,b){if(4>m)return m+1;var E=m-2>>1;return(2+(1&m)<<E)+de(b,E)+1}function Ho(m,b){return 120<b?b-120:1<=(E=((E=Xj[b-1])>>4)*m+(8-(15&E)))?E:1;var E}function Si(m,b,E){var P=G(E),F=m[b+=255&P].g-8;return 0<F&&(re(E,E.u+8),P=G(E),b+=m[b].value,b+=P&(1<<F)-1),re(E,E.u+m[b].g),m[b].value}function tr(m,b,E){return E.g+=m.g,E.value+=m.value<<b>>>0,e(8>=E.g),m.g}function qn(m,b,E){var P=m.xc;return e((b=P==0?0:m.vc[m.md*(E>>P)+(b>>P)])<m.Wb),m.Ya[b]}function qi(m,b,E,P){var F=m.ab,z=m.c*b,V=m.C;b=V+b;var H=E,q=P;for(P=m.Ta,E=m.Ua;0<F--;){var J=m.gc[F],ce=V,ve=b,ye=H,fe=q,Pe=(q=P,H=E,J.Ea);switch(e(ce<ve),e(ve<=J.nc),J.hc){case 2:Y2(ye,fe,(ve-ce)*Pe,q,H);break;case 0:var xe=ce,ue=ve,he=q,Ce=H,Te=(je=J).Ea;xe==0&&(l3(ye,fe,null,null,1,he,Ce),bt(ye,fe+1,0,0,Te-1,he,Ce+1),fe+=Te,Ce+=Te,++xe);for(var _e=1<<je.b,Ve=_e-1,De=Xe(Te,je.b),Ze=je.K,je=je.w+(xe>>je.b)*De;xe<ue;){var It=Ze,Ot=je,Tt=1;for(t0(ye,fe,he,Ce-Te,1,he,Ce);Tt<Te;){var St=(Tt&~Ve)+_e;St>Te&&(St=Te),(0,ec[It[Ot++]>>8&15])(ye,fe+ +Tt,he,Ce+Tt-Te,St-Tt,he,Ce+Tt),Tt=St}fe+=Te,Ce+=Te,++xe&Ve||(je+=De)}ve!=J.nc&&r(q,H-Pe,q,H+(ve-ce-1)*Pe,Pe);break;case 1:for(Pe=ye,ue=fe,Te=(ye=J.Ea)-(Ce=ye&~(he=(fe=1<<J.b)-1)),xe=Xe(ye,J.b),_e=J.K,J=J.w+(ce>>J.b)*xe;ce<ve;){for(Ve=_e,De=J,Ze=new Oe,je=ue+Ce,It=ue+ye;ue<je;)Vt(Ve[De++],Ze),Ku(Ze,Pe,ue,fe,q,H),ue+=fe,H+=fe;ue<It&&(Vt(Ve[De++],Ze),Ku(Ze,Pe,ue,Te,q,H),ue+=Te,H+=Te),++ce&he||(J+=xe)}break;case 3:if(ye==q&&fe==H&&0<J.b){for(ue=q,ye=Pe=H+(ve-ce)*Pe-(Ce=(ve-ce)*Xe(J.Ea,J.b)),fe=q,he=H,xe=[],Ce=(Te=Ce)-1;0<=Ce;--Ce)xe[Ce]=fe[he+Ce];for(Ce=Te-1;0<=Ce;--Ce)ue[ye+Ce]=xe[Ce];Es(J,ce,ve,q,Pe,q,H)}else Es(J,ce,ve,ye,fe,q,H)}H=P,q=E}q!=E&&r(P,E,H,q,z)}function ff(m,b){var E=m.V,P=m.Ba+m.c*m.C,F=b-m.C;if(e(b<=m.l.o),e(16>=F),0<F){var z=m.l,V=m.Ta,H=m.Ua,q=z.width;if(qi(m,F,E,P),F=H=[H],e((E=m.C)<(P=b)),e(z.v<z.va),P>z.o&&(P=z.o),E<z.j){var J=z.j-E;E=z.j,F[0]+=J*q}if(E>=P?E=0:(F[0]+=4*z.v,z.ka=E-z.j,z.U=z.va-z.v,z.T=P-E,E=1),E){if(H=H[0],11>(E=m.ca).S){var ce=E.f.RGBA,ve=(P=E.S,F=z.U,z=z.T,J=ce.eb,ce.A),ye=z;for(ce=ce.fb+m.Ma*ce.A;0<ye--;){var fe=V,Pe=H,xe=F,ue=J,he=ce;switch(P){case t5:_i(fe,Pe,xe,ue,he);break;case n5:oi(fe,Pe,xe,ue,he);break;case d3:oi(fe,Pe,xe,ue,he),Ps(ue,he,0,xe,1,0);break;case qN:za(fe,Pe,xe,ue,he);break;case r5:ln(fe,Pe,xe,ue,he,1);break;case h3:ln(fe,Pe,xe,ue,he,1),Ps(ue,he,0,xe,1,0);break;case i5:ln(fe,Pe,xe,ue,he,0);break;case s5:ln(fe,Pe,xe,ue,he,0),Ps(ue,he,1,xe,1,0);break;case u3:tc(fe,Pe,xe,ue,he);break;case f3:tc(fe,Pe,xe,ue,he),Qt(ue,he,xe,1,0);break;case WN:$a(fe,Pe,xe,ue,he);break;default:e(0)}H+=q,ce+=ve}m.Ma+=z}else alert("todo:EmitRescaledRowsYUVA");e(m.Ma<=E.height)}}m.C=b,e(m.C<=m.i)}function Oa(m){var b;if(0<m.ua)return 0;for(b=0;b<m.Wb;++b){var E=m.Ya[b].G,P=m.Ya[b].H;if(0<E[1][P[1]+0].g||0<E[2][P[2]+0].g||0<E[3][P[3]+0].g)return 0}return 1}function Qs(m,b,E,P,F,z){if(m.Z!=0){var V=m.qd,H=m.rd;for(e(sc[m.Z]!=null);b<E;++b)sc[m.Z](V,H,P,F,P,F,z),V=P,H=F,F+=z;m.qd=V,m.rd=H}}function Zs(m,b){var E=m.l.ma,P=E.Z==0||E.Z==1?m.l.j:m.C;if(P=m.C<P?P:m.C,e(b<=m.l.o),b>P){var F=m.l.width,z=E.ca,V=E.tb+F*P,H=m.V,q=m.Ba+m.c*P,J=m.gc;e(m.ab==1),e(J[0].hc==3),K2(J[0],P,b,H,q,z,V),Qs(E,P,b,z,V,F)}m.C=m.Ma=b}function eo(m,b,E,P,F,z,V){var H=m.$/P,q=m.$%P,J=m.m,ce=m.s,ve=E+m.$,ye=ve;F=E+P*F;var fe=E+P*z,Pe=280+ce.ua,xe=m.Pb?H:16777216,ue=0<ce.ua?ce.Wa:null,he=ce.wc,Ce=ve<fe?qn(ce,q,H):null;e(m.C<z),e(fe<=F);var Te=!1;e:for(;;){for(;Te||ve<fe;){var _e=0;if(H>=xe){var Ve=ve-E;e((xe=m).Pb),xe.wd=xe.m,xe.xd=Ve,0<xe.s.ua&&we(xe.s.Wa,xe.s.vb),xe=H+Kj}if(q&he||(Ce=qn(ce,q,H)),e(Ce!=null),Ce.Qb&&(b[ve]=Ce.qb,Te=!0),!Te)if(oe(J),Ce.jc){_e=J,Ve=b;var De=ve,Ze=Ce.pd[G(_e)&Cr-1];e(Ce.jc),256>Ze.g?(re(_e,_e.u+Ze.g),Ve[De]=Ze.value,_e=0):(re(_e,_e.u+Ze.g-256),e(256<=Ze.value),_e=Ze.value),_e==0&&(Te=!0)}else _e=Si(Ce.G[0],Ce.H[0],J);if(J.h)break;if(Te||256>_e){if(!Te)if(Ce.nd)b[ve]=(Ce.qb|_e<<8)>>>0;else{if(oe(J),Te=Si(Ce.G[1],Ce.H[1],J),oe(J),Ve=Si(Ce.G[2],Ce.H[2],J),De=Si(Ce.G[3],Ce.H[3],J),J.h)break;b[ve]=(De<<24|Te<<16|_e<<8|Ve)>>>0}if(Te=!1,++ve,++q>=P&&(q=0,++H,V!=null&&H<=z&&!(H%16)&&V(m,H),ue!=null))for(;ye<ve;)_e=b[ye++],ue.X[(506832829*_e&4294967295)>>>ue.Mb]=_e}else if(280>_e){if(_e=Js(_e-256,J),Ve=Si(Ce.G[4],Ce.H[4],J),oe(J),Ve=Ho(P,Ve=Js(Ve,J)),J.h)break;if(ve-E<Ve||F-ve<_e)break e;for(De=0;De<_e;++De)b[ve+De]=b[ve+De-Ve];for(ve+=_e,q+=_e;q>=P;)q-=P,++H,V!=null&&H<=z&&!(H%16)&&V(m,H);if(e(ve<=F),q&he&&(Ce=qn(ce,q,H)),ue!=null)for(;ye<ve;)_e=b[ye++],ue.X[(506832829*_e&4294967295)>>>ue.Mb]=_e}else{if(!(_e<Pe))break e;for(Te=_e-280,e(ue!=null);ye<ve;)_e=b[ye++],ue.X[(506832829*_e&4294967295)>>>ue.Mb]=_e;_e=ve,e(!(Te>>>(Ve=ue).Xa)),b[_e]=Ve.X[Te],Te=!0}Te||e(J.h==Z(J))}if(m.Pb&&J.h&&ve<F)e(m.m.h),m.a=5,m.m=m.wd,m.$=m.xd,0<m.s.ua&&we(m.s.vb,m.s.Wa);else{if(J.h)break e;V!=null&&V(m,H>z?z:H),m.a=0,m.$=ve-E}return 1}return m.a=3,0}function qo(m){e(m!=null),m.vc=null,m.yc=null,m.Ya=null;var b=m.Wa;b!=null&&(b.X=null),m.vb=null,e(m!=null)}function Ss(){var m=new a3;return m==null?null:(m.a=0,m.xb=YN,zo("Predictor","VP8LPredictors"),zo("Predictor","VP8LPredictors_C"),zo("PredictorAdd","VP8LPredictorsAdd"),zo("PredictorAdd","VP8LPredictorsAdd_C"),Y2=Nt,Ku=ot,_i=$e,oi=zr,tc=Rt,$a=Ys,za=Gt,k.VP8LMapColor32b=If,k.VP8LMapColor8b=J2,m)}function Wo(m,b,E,P,F){var z=1,V=[m],H=[b],q=P.m,J=P.s,ce=null,ve=0;e:for(;;){if(E)for(;z&&de(q,1);){var ye=V,fe=H,Pe=P,xe=1,ue=Pe.m,he=Pe.gc[Pe.ab],Ce=de(ue,2);if(Pe.Oc&1<<Ce)z=0;else{switch(Pe.Oc|=1<<Ce,he.hc=Ce,he.Ea=ye[0],he.nc=fe[0],he.K=[null],++Pe.ab,e(4>=Pe.ab),Ce){case 0:case 1:he.b=de(ue,3)+2,xe=Wo(Xe(he.Ea,he.b),Xe(he.nc,he.b),0,Pe,he.K),he.K=he.K[0];break;case 3:var Te,_e=de(ue,8)+1,Ve=16<_e?0:4<_e?1:2<_e?2:3;if(ye[0]=Xe(he.Ea,Ve),he.b=Ve,Te=xe=Wo(_e,1,0,Pe,he.K)){var De,Ze=_e,je=he,It=1<<(8>>je.b),Ot=s(It);if(Ot==null)Te=0;else{var Tt=je.K[0],St=je.w;for(Ot[0]=je.K[0][0],De=1;De<1*Ze;++De)Ot[De]=ke(Tt[St+De],Ot[De-1]);for(;De<4*It;++De)Ot[De]=0;je.K[0]=null,je.K[0]=Ot,Te=1}}xe=Te;break;case 2:break;default:e(0)}z=xe}}if(V=V[0],H=H[0],z&&de(q,1)&&!(z=1<=(ve=de(q,4))&&11>=ve)){P.a=3;break e}var Xt;if(Xt=z)t:{var Ut,gt,Gn,Pi=P,Xn=V,Ni=H,jt=ve,Xi=E,Yi=Pi.m,ur=Pi.s,_r=[null],li=1,Ls=0,Ko=Yj[jt];n:for(;;){if(Xi&&de(Yi,1)){var dr=de(Yi,3)+2,qa=Xe(Xn,dr),td=Xe(Ni,dr),jf=qa*td;if(!Wo(qa,td,0,Pi,_r))break n;for(_r=_r[0],ur.xc=dr,Ut=0;Ut<jf;++Ut){var oc=_r[Ut]>>8&65535;_r[Ut]=oc,oc>=li&&(li=oc+1)}}if(Yi.h)break n;for(gt=0;5>gt;++gt){var Pn=GN[gt];!gt&&0<jt&&(Pn+=1<<jt),Ls<Pn&&(Ls=Pn)}var v3=o(li*Ko,j),iT=li,sT=o(iT,U);if(sT==null)var c5=null;else e(65536>=iT),c5=sT;var l0=s(Ls);if(c5==null||l0==null||v3==null){Pi.a=1;break n}var u5=v3;for(Ut=Gn=0;Ut<li;++Ut){var so=c5[Ut],Bf=so.G,$f=so.H,oT=0,d5=1,aT=0;for(gt=0;5>gt;++gt){Pn=GN[gt],Bf[gt]=u5,$f[gt]=Gn,!gt&&0<jt&&(Pn+=1<<jt);i:{var h5,y3=Pn,f5=Pi,c0=l0,gB=u5,vB=Gn,b3=0,ac=f5.m,yB=de(ac,1);if(i(c0,0,0,y3),yB){var bB=de(ac,1)+1,wB=de(ac,1),lT=de(ac,wB==0?1:8);c0[lT]=1,bB==2&&(c0[lT=de(ac,8)]=1);var p5=1}else{var cT=s(19),uT=de(ac,4)+4;if(19<uT){f5.a=3;var m5=0;break i}for(h5=0;h5<uT;++h5)cT[Gj[h5]]=de(ac,3);var w3=void 0,u0=void 0,dT=f5,xB=cT,g5=y3,hT=c0,x3=0,lc=dT.m,fT=8,pT=o(128,j);r:for(;M(pT,0,7,xB,19);){if(de(lc,1)){var AB=2+2*de(lc,3);if((w3=2+de(lc,AB))>g5)break r}else w3=g5;for(u0=0;u0<g5&&w3--;){oe(lc);var mT=pT[0+(127&G(lc))];re(lc,lc.u+mT.g);var zf=mT.value;if(16>zf)hT[u0++]=zf,zf!=0&&(fT=zf);else{var SB=zf==16,gT=zf-16,EB=qj[gT],vT=de(lc,Hj[gT])+EB;if(u0+vT>g5)break r;for(var CB=SB?fT:0;0<vT--;)hT[u0++]=CB}}x3=1;break r}x3||(dT.a=3),p5=x3}(p5=p5&&!ac.h)&&(b3=M(gB,vB,8,c0,y3)),p5&&b3!=0?m5=b3:(f5.a=3,m5=0)}if(m5==0)break n;if(d5&&Wj[gt]==1&&(d5=u5[Gn].g==0),oT+=u5[Gn].g,Gn+=m5,3>=gt){var d0,A3=l0[0];for(d0=1;d0<Pn;++d0)l0[d0]>A3&&(A3=l0[d0]);aT+=A3}}if(so.nd=d5,so.Qb=0,d5&&(so.qb=(Bf[3][$f[3]+0].value<<24|Bf[1][$f[1]+0].value<<16|Bf[2][$f[2]+0].value)>>>0,oT==0&&256>Bf[0][$f[0]+0].value&&(so.Qb=1,so.qb+=Bf[0][$f[0]+0].value<<8)),so.jc=!so.Qb&&6>aT,so.jc){var v5,Wa=so;for(v5=0;v5<Cr;++v5){var cc=v5,uc=Wa.pd[cc],y5=Wa.G[0][Wa.H[0]+cc];256<=y5.value?(uc.g=y5.g+256,uc.value=y5.value):(uc.g=0,uc.value=0,cc>>=tr(y5,8,uc),cc>>=tr(Wa.G[1][Wa.H[1]+cc],16,uc),cc>>=tr(Wa.G[2][Wa.H[2]+cc],0,uc),tr(Wa.G[3][Wa.H[3]+cc],24,uc))}}}ur.vc=_r,ur.Wb=li,ur.Ya=c5,ur.yc=v3,Xt=1;break t}Xt=0}if(!(z=Xt)){P.a=3;break e}if(0<ve){if(J.ua=1<<ve,!qe(J.Wa,ve)){P.a=1,z=0;break e}}else J.ua=0;var S3=P,yT=V,_B=H,E3=S3.s,C3=E3.xc;if(S3.c=yT,S3.i=_B,E3.md=Xe(yT,C3),E3.wc=C3==0?-1:(1<<C3)-1,E){P.xb=rB;break e}if((ce=s(V*H))==null){P.a=1,z=0;break e}z=(z=eo(P,ce,0,V,H,H,null))&&!q.h;break e}return z?(F!=null?F[0]=ce:(e(ce==null),e(E)),P.$=0,E||qo(J)):qo(J),z}function qu(m,b){var E=m.c*m.i,P=E+b+16*b;return e(m.c<=b),m.V=s(P),m.V==null?(m.Ta=null,m.Ua=0,m.a=1,0):(m.Ta=m.V,m.Ua=m.Ba+E+b,1)}function pf(m,b){var E=m.C,P=b-E,F=m.V,z=m.Ba+m.c*E;for(e(b<=m.l.o);0<P;){var V=16<P?16:P,H=m.l.ma,q=m.l.width,J=q*V,ce=H.ca,ve=H.tb+q*E,ye=m.Ta,fe=m.Ua;qi(m,V,F,z),Dn(ye,fe,ce,ve,J),Qs(H,E,E+V,ce,ve,q),P-=V,F+=V*m.c,E+=V}e(E==b),m.C=m.Ma=b}function mf(){this.ub=this.yd=this.td=this.Rb=0}function gf(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function vf(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function T2(){this.Yb=function(){var m=[];return function b(E,P,F){for(var z=F[P],V=0;V<z&&(E.push(F.length>P+1?[]:0),!(F.length<P+1));V++)b(E[V],P+1,F)}(m,0,[3,11]),m}()}function jS(){this.jb=s(3),this.Wc=a([4,8],T2),this.Xc=a([4,17],T2)}function BS(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function yf(){this.ld=this.La=this.dd=this.tc=0}function L2(){this.Na=this.la=0}function $S(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Dg(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function zS(){this.uc=this.M=this.Nb=0,this.wa=Array(new yf),this.Y=0,this.ya=Array(new Dg),this.aa=0,this.l=new bf}function k2(){this.y=s(16),this.f=s(8),this.ea=s(8)}function VS(){this.cb=this.a=0,this.sc="",this.m=new be,this.Od=new mf,this.Kc=new gf,this.ed=new BS,this.Qa=new vf,this.Ic=this.$c=this.Aa=0,this.D=new zS,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,be),this.ia=0,this.pb=o(4,$S),this.Pa=new jS,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new k2),this.Hd=0,this.rb=Array(new L2),this.sb=0,this.wa=Array(new yf),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Dg),this.L=this.aa=0,this.gd=a([4,2],yf),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function bf(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function US(){var m=new VS;return m!=null&&(m.a=0,m.sc="OK",m.cb=0,m.Xb=0,o0||(o0=M2)),m}function Mn(m,b,E){return m.a==0&&(m.a=b,m.sc=E,m.cb=0),0}function R2(m,b,E){return 3<=E&&m[b+0]==157&&m[b+1]==1&&m[b+2]==42}function I2(m,b){if(m==null)return 0;if(m.a=0,m.sc="OK",b==null)return Mn(m,2,"null VP8Io passed to VP8GetHeaders()");var E=b.data,P=b.w,F=b.ha;if(4>F)return Mn(m,7,"Truncated header.");var z=E[P+0]|E[P+1]<<8|E[P+2]<<16,V=m.Od;if(V.Rb=!(1&z),V.td=z>>1&7,V.yd=z>>4&1,V.ub=z>>5,3<V.td)return Mn(m,3,"Incorrect keyframe parameters.");if(!V.yd)return Mn(m,4,"Frame not displayable.");P+=3,F-=3;var H=m.Kc;if(V.Rb){if(7>F)return Mn(m,7,"cannot parse picture header");if(!R2(E,P,F))return Mn(m,3,"Bad code word");H.c=16383&(E[P+4]<<8|E[P+3]),H.Td=E[P+4]>>6,H.i=16383&(E[P+6]<<8|E[P+5]),H.Ud=E[P+6]>>6,P+=7,F-=7,m.za=H.c+15>>4,m.Ub=H.i+15>>4,b.width=H.c,b.height=H.i,b.Da=0,b.j=0,b.v=0,b.va=b.width,b.o=b.height,b.da=0,b.ib=b.width,b.hb=b.height,b.U=b.width,b.T=b.height,i((z=m.Pa).jb,0,255,z.jb.length),e((z=m.Qa)!=null),z.Cb=0,z.Bb=0,z.Fb=1,i(z.Zb,0,0,z.Zb.length),i(z.Lb,0,0,z.Lb)}if(V.ub>F)return Mn(m,7,"bad partition length");le(z=m.m,E,P,V.ub),P+=V.ub,F-=V.ub,V.Rb&&(H.Ld=pe(z),H.Kd=pe(z)),H=m.Qa;var q,J=m.Pa;if(e(z!=null),e(H!=null),H.Cb=pe(z),H.Cb){if(H.Bb=pe(z),pe(z)){for(H.Fb=pe(z),q=0;4>q;++q)H.Zb[q]=pe(z)?ne(z,7):0;for(q=0;4>q;++q)H.Lb[q]=pe(z)?ne(z,6):0}if(H.Bb)for(q=0;3>q;++q)J.jb[q]=pe(z)?Q(z,8):255}else H.Bb=0;if(z.Ka)return Mn(m,3,"cannot parse segment header");if((H=m.ed).zd=pe(z),H.Tb=Q(z,6),H.wb=Q(z,3),H.Pc=pe(z),H.Pc&&pe(z)){for(J=0;4>J;++J)pe(z)&&(H.vd[J]=ne(z,6));for(J=0;4>J;++J)pe(z)&&(H.od[J]=ne(z,6))}if(m.L=H.Tb==0?0:H.zd?1:2,z.Ka)return Mn(m,3,"cannot parse filter header");var ce=F;if(F=q=P,P=q+ce,H=ce,m.Xb=(1<<Q(m.m,2))-1,ce<3*(J=m.Xb))E=7;else{for(q+=3*J,H-=3*J,ce=0;ce<J;++ce){var ve=E[F+0]|E[F+1]<<8|E[F+2]<<16;ve>H&&(ve=H),le(m.Jc[+ce],E,q,ve),q+=ve,H-=ve,F+=3}le(m.Jc[+J],E,q,H),E=q<P?0:5}if(E!=0)return Mn(m,E,"cannot parse partitions");for(E=Q(q=m.m,7),F=pe(q)?ne(q,4):0,P=pe(q)?ne(q,4):0,H=pe(q)?ne(q,4):0,J=pe(q)?ne(q,4):0,q=pe(q)?ne(q,4):0,ce=m.Qa,ve=0;4>ve;++ve){if(ce.Cb){var ye=ce.Zb[ve];ce.Fb||(ye+=E)}else{if(0<ve){m.pb[ve]=m.pb[0];continue}ye=E}var fe=m.pb[ve];fe.Sc[0]=p3[Wi(ye+F,127)],fe.Sc[1]=m3[Wi(ye+0,127)],fe.Eb[0]=2*p3[Wi(ye+P,127)],fe.Eb[1]=101581*m3[Wi(ye+H,127)]>>16,8>fe.Eb[1]&&(fe.Eb[1]=8),fe.Qc[0]=p3[Wi(ye+J,117)],fe.Qc[1]=m3[Wi(ye+q,127)],fe.lc=ye+q}if(!V.Rb)return Mn(m,4,"Not a key frame.");for(pe(z),V=m.Pa,E=0;4>E;++E){for(F=0;8>F;++F)for(P=0;3>P;++P)for(H=0;11>H;++H)J=ge(z,tB[E][F][P][H])?Q(z,8):Zj[E][F][P][H],V.Wc[E][F].Yb[P][H]=J;for(F=0;17>F;++F)V.Xc[E][F]=V.Wc[E][nB[F]]}return m.kc=pe(z),m.kc&&(m.Bd=Q(z,8)),m.cb=1}function M2(m,b,E,P,F,z,V){var H=b[F].Yb[E];for(E=0;16>F;++F){if(!ge(m,H[E+0]))return F;for(;!ge(m,H[E+1]);)if(H=b[++F].Yb[0],E=0,F==16)return 16;var q=b[F+1].Yb;if(ge(m,H[E+2])){var J=m,ce=0;if(ge(J,(ye=H)[(ve=E)+3]))if(ge(J,ye[ve+6])){for(H=0,ve=2*(ce=ge(J,ye[ve+8]))+(ye=ge(J,ye[ve+9+ce])),ce=0,ye=Jj[ve];ye[H];++H)ce+=ce+ge(J,ye[H]);ce+=3+(8<<ve)}else ge(J,ye[ve+7])?(ce=7+2*ge(J,165),ce+=ge(J,145)):ce=5+ge(J,159);else ce=ge(J,ye[ve+4])?3+ge(J,ye[ve+5]):2;H=q[2]}else ce=1,H=q[1];q=V+Qj[F],0>(J=m).b&&ie(J);var ve,ye=J.b,fe=(ve=J.Ca>>1)-(J.I>>ye)>>31;--J.b,J.Ca+=fe,J.Ca|=1,J.I-=(ve+1&fe)<<ye,z[q]=((ce^fe)-fe)*P[(0<F)+0]}return 16}function Og(m){var b=m.rb[m.sb-1];b.la=0,b.Na=0,i(m.zc,0,0,m.zc.length),m.ja=0}function HS(m,b){if(m==null)return 0;if(b==null)return Mn(m,2,"NULL VP8Io parameter in VP8Decode().");if(!m.cb&&!I2(m,b))return 0;if(e(m.cb),b.ac==null||b.ac(b)){b.ob&&(m.L=0);var E=l5[m.L];if(m.L==2?(m.yb=0,m.zb=0):(m.yb=b.v-E>>4,m.zb=b.j-E>>4,0>m.yb&&(m.yb=0),0>m.zb&&(m.zb=0)),m.Va=b.o+15+E>>4,m.Hb=b.va+15+E>>4,m.Hb>m.za&&(m.Hb=m.za),m.Va>m.Ub&&(m.Va=m.Ub),0<m.L){var P=m.ed;for(E=0;4>E;++E){var F;if(m.Qa.Cb){var z=m.Qa.Lb[E];m.Qa.Fb||(z+=P.Tb)}else z=P.Tb;for(F=0;1>=F;++F){var V=m.gd[E][F],H=z;if(P.Pc&&(H+=P.vd[0],F&&(H+=P.od[0])),0<(H=0>H?0:63<H?63:H)){var q=H;0<P.wb&&(q=4<P.wb?q>>2:q>>1)>9-P.wb&&(q=9-P.wb),1>q&&(q=1),V.dd=q,V.tc=2*H+q,V.ld=40<=H?2:15<=H?1:0}else V.tc=0;V.La=F}}}E=0}else Mn(m,6,"Frame setup failed"),E=m.a;if(E=E==0){if(E){m.$c=0,0<m.Aa||(m.Ic=mB);e:{E=m.Ic,P=4*(q=m.za);var J=32*q,ce=q+1,ve=0<m.L?q*(0<m.Aa?2:1):0,ye=(m.Aa==2?2:1)*q;if((V=P+832+(F=3*(16*E+l5[m.L])/2*J)+(z=m.Fa!=null&&0<m.Fa.length?m.Kc.c*m.Kc.i:0))!=V)E=0;else{if(V>m.Vb){if(m.Vb=0,m.Ec=s(V),m.Fc=0,m.Ec==null){E=Mn(m,1,"no memory during frame initialization.");break e}m.Vb=V}V=m.Ec,H=m.Fc,m.Ac=V,m.Bc=H,H+=P,m.Gd=o(J,k2),m.Hd=0,m.rb=o(ce+1,L2),m.sb=1,m.wa=ve?o(ve,yf):null,m.Y=0,m.D.Nb=0,m.D.wa=m.wa,m.D.Y=m.Y,0<m.Aa&&(m.D.Y+=q),e(!0),m.oc=V,m.pc=H,H+=832,m.ya=o(ye,Dg),m.aa=0,m.D.ya=m.ya,m.D.aa=m.aa,m.Aa==2&&(m.D.aa+=q),m.R=16*q,m.B=8*q,q=(J=l5[m.L])*m.R,J=J/2*m.B,m.sa=V,m.ta=H+q,m.qa=m.sa,m.ra=m.ta+16*E*m.R+J,m.Ha=m.qa,m.Ia=m.ra+8*E*m.B+J,m.$c=0,H+=F,m.mb=z?V:null,m.nb=z?H:null,e(H+z<=m.Fc+m.Vb),Og(m),i(m.Ac,m.Bc,0,P),E=1}}if(E){if(b.ka=0,b.y=m.sa,b.O=m.ta,b.f=m.qa,b.N=m.ra,b.ea=m.Ha,b.Vd=m.Ia,b.fa=m.R,b.Rc=m.B,b.F=null,b.J=0,!Z2){for(E=-255;255>=E;++E)nr[255+E]=0>E?-E:E;for(E=-1020;1020>=E;++E)Ua[1020+E]=-128>E?-128:127<E?127:E;for(E=-112;112>=E;++E)s0[112+E]=-16>E?-16:15<E?15:E;for(E=-255;510>=E;++E)Of[255+E]=0>E?0:255<E?255:E;Z2=1}Mf=GS,Va=qS,n0=D2,ai=WS,Cs=O2,Fn=F2,Ff=Ug,Q2=Xu,r0=o3,Ju=Hg,Qu=s3,nc=Cf,Zu=qg,Df=W2,ed=q2,rc=Xo,i0=Ba,_s=i3,io[0]=Go,io[1]=XS,io[2]=QS,io[3]=ZS,io[4]=$2,io[5]=Sf,io[6]=z2,io[7]=$g,io[8]=t3,io[9]=e3,ic[0]=j2,ic[1]=KS,ic[2]=ja,ic[3]=xf,ic[4]=Vr,ic[5]=JS,ic[6]=B2,Ha[0]=Jl,Ha[1]=YS,Ha[2]=n3,Ha[3]=zg,Ha[4]=Gu,Ha[5]=r3,Ha[6]=Vg,E=1}else E=0}E&&(E=function(fe,Pe){for(fe.M=0;fe.M<fe.Va;++fe.M){var xe,ue=fe.Jc[fe.M&fe.Xb],he=fe.m,Ce=fe;for(xe=0;xe<Ce.za;++xe){var Te=he,_e=Ce,Ve=_e.Ac,De=_e.Bc+4*xe,Ze=_e.zc,je=_e.ya[_e.aa+xe];if(_e.Qa.Bb?je.$b=ge(Te,_e.Pa.jb[0])?2+ge(Te,_e.Pa.jb[2]):ge(Te,_e.Pa.jb[1]):je.$b=0,_e.kc&&(je.Ad=ge(Te,_e.Bd)),je.Za=!ge(Te,145)+0,je.Za){var It=je.Ob,Ot=0;for(_e=0;4>_e;++_e){var Tt,St=Ze[0+_e];for(Tt=0;4>Tt;++Tt){St=eB[Ve[De+Tt]][St];for(var Xt=XN[ge(Te,St[0])];0<Xt;)Xt=XN[2*Xt+ge(Te,St[Xt])];St=-Xt,Ve[De+Tt]=St}r(It,Ot,Ve,De,4),Ot+=4,Ze[0+_e]=St}}else St=ge(Te,156)?ge(Te,128)?1:3:ge(Te,163)?2:0,je.Ob[0]=St,i(Ve,De,St,4),i(Ze,0,St,4);je.Dd=ge(Te,142)?ge(Te,114)?ge(Te,183)?1:3:2:0}if(Ce.m.Ka)return Mn(fe,7,"Premature end-of-partition0 encountered.");for(;fe.ja<fe.za;++fe.ja){if(Ce=ue,Te=(he=fe).rb[he.sb-1],Ve=he.rb[he.sb+he.ja],xe=he.ya[he.aa+he.ja],De=he.kc?xe.Ad:0)Te.la=Ve.la=0,xe.Za||(Te.Na=Ve.Na=0),xe.Hc=0,xe.Gc=0,xe.ia=0;else{var Ut,gt;if(Te=Ve,Ve=Ce,De=he.Pa.Xc,Ze=he.ya[he.aa+he.ja],je=he.pb[Ze.$b],_e=Ze.ad,It=0,Ot=he.rb[he.sb-1],St=Tt=0,i(_e,It,0,384),Ze.Za)var Gn=0,Pi=De[3];else{Xt=s(16);var Xn=Te.Na+Ot.Na;if(Xn=o0(Ve,De[1],Xn,je.Eb,0,Xt,0),Te.Na=Ot.Na=(0<Xn)+0,1<Xn)Mf(Xt,0,_e,It);else{var Ni=Xt[0]+3>>3;for(Xt=0;256>Xt;Xt+=16)_e[It+Xt]=Ni}Gn=1,Pi=De[0]}var jt=15&Te.la,Xi=15&Ot.la;for(Xt=0;4>Xt;++Xt){var Yi=1&Xi;for(Ni=gt=0;4>Ni;++Ni)jt=jt>>1|(Yi=(Xn=o0(Ve,Pi,Xn=Yi+(1&jt),je.Sc,Gn,_e,It))>Gn)<<7,gt=gt<<2|(3<Xn?3:1<Xn?2:_e[It+0]!=0),It+=16;jt>>=4,Xi=Xi>>1|Yi<<7,Tt=(Tt<<8|gt)>>>0}for(Pi=jt,Gn=Xi>>4,Ut=0;4>Ut;Ut+=2){for(gt=0,jt=Te.la>>4+Ut,Xi=Ot.la>>4+Ut,Xt=0;2>Xt;++Xt){for(Yi=1&Xi,Ni=0;2>Ni;++Ni)Xn=Yi+(1&jt),jt=jt>>1|(Yi=0<(Xn=o0(Ve,De[2],Xn,je.Qc,0,_e,It)))<<3,gt=gt<<2|(3<Xn?3:1<Xn?2:_e[It+0]!=0),It+=16;jt>>=2,Xi=Xi>>1|Yi<<5}St|=gt<<4*Ut,Pi|=jt<<4<<Ut,Gn|=(240&Xi)<<Ut}Te.la=Pi,Ot.la=Gn,Ze.Hc=Tt,Ze.Gc=St,Ze.ia=43690&St?0:je.ia,De=!(Tt|St)}if(0<he.L&&(he.wa[he.Y+he.ja]=he.gd[xe.$b][xe.Za],he.wa[he.Y+he.ja].La|=!De),Ce.Ka)return Mn(fe,7,"Premature end-of-file encountered.")}if(Og(fe),he=Pe,Ce=1,xe=(ue=fe).D,Te=0<ue.L&&ue.M>=ue.zb&&ue.M<=ue.Va,ue.Aa==0)e:{if(xe.M=ue.M,xe.uc=Te,Jg(ue,xe),Ce=1,xe=(gt=ue.D).Nb,Te=(St=l5[ue.L])*ue.R,Ve=St/2*ue.B,Xt=16*xe*ue.R,Ni=8*xe*ue.B,De=ue.sa,Ze=ue.ta-Te+Xt,je=ue.qa,_e=ue.ra-Ve+Ni,It=ue.Ha,Ot=ue.Ia-Ve+Ni,Xi=(jt=gt.M)==0,Tt=jt>=ue.Va-1,ue.Aa==2&&Jg(ue,gt),gt.uc)for(Yi=(Xn=ue).D.M,e(Xn.D.uc),gt=Xn.yb;gt<Xn.Hb;++gt){Gn=gt,Pi=Yi;var ur=(_r=(Pn=Xn).D).Nb;Ut=Pn.R;var _r=_r.wa[_r.Y+Gn],li=Pn.sa,Ls=Pn.ta+16*ur*Ut+16*Gn,Ko=_r.dd,dr=_r.tc;if(dr!=0)if(e(3<=dr),Pn.L==1)0<Gn&&rc(li,Ls,Ut,dr+4),_r.La&&_s(li,Ls,Ut,dr),0<Pi&&ed(li,Ls,Ut,dr+4),_r.La&&i0(li,Ls,Ut,dr);else{var qa=Pn.B,td=Pn.qa,jf=Pn.ra+8*ur*qa+8*Gn,oc=Pn.Ha,Pn=Pn.Ia+8*ur*qa+8*Gn;ur=_r.ld,0<Gn&&(Q2(li,Ls,Ut,dr+4,Ko,ur),Ju(td,jf,oc,Pn,qa,dr+4,Ko,ur)),_r.La&&(nc(li,Ls,Ut,dr,Ko,ur),Df(td,jf,oc,Pn,qa,dr,Ko,ur)),0<Pi&&(Ff(li,Ls,Ut,dr+4,Ko,ur),r0(td,jf,oc,Pn,qa,dr+4,Ko,ur)),_r.La&&(Qu(li,Ls,Ut,dr,Ko,ur),Zu(td,jf,oc,Pn,qa,dr,Ko,ur))}}if(ue.ia&&alert("todo:DitherRow"),he.put!=null){if(gt=16*jt,jt=16*(jt+1),Xi?(he.y=ue.sa,he.O=ue.ta+Xt,he.f=ue.qa,he.N=ue.ra+Ni,he.ea=ue.Ha,he.W=ue.Ia+Ni):(gt-=St,he.y=De,he.O=Ze,he.f=je,he.N=_e,he.ea=It,he.W=Ot),Tt||(jt-=St),jt>he.o&&(jt=he.o),he.F=null,he.J=null,ue.Fa!=null&&0<ue.Fa.length&&gt<jt&&(he.J=Yg(ue,he,gt,jt-gt),he.F=ue.mb,he.F==null&&he.F.length==0)){Ce=Mn(ue,3,"Could not decode alpha data.");break e}gt<he.j&&(St=he.j-gt,gt=he.j,e(!(1&St)),he.O+=ue.R*St,he.N+=ue.B*(St>>1),he.W+=ue.B*(St>>1),he.F!=null&&(he.J+=he.width*St)),gt<jt&&(he.O+=he.v,he.N+=he.v>>1,he.W+=he.v>>1,he.F!=null&&(he.J+=he.v),he.ka=gt-he.j,he.U=he.va-he.v,he.T=jt-gt,Ce=he.put(he))}xe+1!=ue.Ic||Tt||(r(ue.sa,ue.ta-Te,De,Ze+16*ue.R,Te),r(ue.qa,ue.ra-Ve,je,_e+8*ue.B,Ve),r(ue.Ha,ue.Ia-Ve,It,Ot+8*ue.B,Ve))}if(!Ce)return Mn(fe,6,"Output aborted.")}return 1}(m,b)),b.bc!=null&&b.bc(b),E&=1}return E?(m.cb=0,E):0}function to(m,b,E,P,F){F=m[b+E+32*P]+(F>>3),m[b+E+32*P]=-256&F?0>F?0:255:F}function wf(m,b,E,P,F,z){to(m,b,0,E,P+F),to(m,b,1,E,P+z),to(m,b,2,E,P-z),to(m,b,3,E,P-F)}function Ei(m){return(20091*m>>16)+m}function jg(m,b,E,P){var F,z=0,V=s(16);for(F=0;4>F;++F){var H=m[b+0]+m[b+8],q=m[b+0]-m[b+8],J=(35468*m[b+4]>>16)-Ei(m[b+12]),ce=Ei(m[b+4])+(35468*m[b+12]>>16);V[z+0]=H+ce,V[z+1]=q+J,V[z+2]=q-J,V[z+3]=H-ce,z+=4,b++}for(F=z=0;4>F;++F)H=(m=V[z+0]+4)+V[z+8],q=m-V[z+8],J=(35468*V[z+4]>>16)-Ei(V[z+12]),to(E,P,0,0,H+(ce=Ei(V[z+4])+(35468*V[z+12]>>16))),to(E,P,1,0,q+J),to(E,P,2,0,q-J),to(E,P,3,0,H-ce),z++,P+=32}function F2(m,b,E,P){var F=m[b+0]+4,z=35468*m[b+4]>>16,V=Ei(m[b+4]),H=35468*m[b+1]>>16;wf(E,P,0,F+V,m=Ei(m[b+1]),H),wf(E,P,1,F+z,m,H),wf(E,P,2,F-z,m,H),wf(E,P,3,F-V,m,H)}function qS(m,b,E,P,F){jg(m,b,E,P),F&&jg(m,b+16,E,P+4)}function D2(m,b,E,P){Va(m,b+0,E,P,1),Va(m,b+32,E,P+128,1)}function WS(m,b,E,P){var F;for(m=m[b+0]+4,F=0;4>F;++F)for(b=0;4>b;++b)to(E,P,b,F,m)}function O2(m,b,E,P){m[b+0]&&ai(m,b+0,E,P),m[b+16]&&ai(m,b+16,E,P+4),m[b+32]&&ai(m,b+32,E,P+128),m[b+48]&&ai(m,b+48,E,P+128+4)}function GS(m,b,E,P){var F,z=s(16);for(F=0;4>F;++F){var V=m[b+0+F]+m[b+12+F],H=m[b+4+F]+m[b+8+F],q=m[b+4+F]-m[b+8+F],J=m[b+0+F]-m[b+12+F];z[0+F]=V+H,z[8+F]=V-H,z[4+F]=J+q,z[12+F]=J-q}for(F=0;4>F;++F)V=(m=z[0+4*F]+3)+z[3+4*F],H=z[1+4*F]+z[2+4*F],q=z[1+4*F]-z[2+4*F],J=m-z[3+4*F],E[P+0]=V+H>>3,E[P+16]=J+q>>3,E[P+32]=V-H>>3,E[P+48]=J-q>>3,P+=64}function Bg(m,b,E){var P,F=b-32,z=Gi,V=255-m[F-1];for(P=0;P<E;++P){var H,q=z,J=V+m[b-1];for(H=0;H<E;++H)m[b+H]=q[J+m[F+H]];b+=32}}function XS(m,b){Bg(m,b,4)}function YS(m,b){Bg(m,b,8)}function KS(m,b){Bg(m,b,16)}function ja(m,b){var E;for(E=0;16>E;++E)r(m,b+32*E,m,b-32,16)}function xf(m,b){var E;for(E=16;0<E;--E)i(m,b,m[b-1],16),b+=32}function Af(m,b,E){var P;for(P=0;16>P;++P)i(b,E+32*P,m,16)}function j2(m,b){var E,P=16;for(E=0;16>E;++E)P+=m[b-1+32*E]+m[b+E-32];Af(P>>5,m,b)}function Vr(m,b){var E,P=8;for(E=0;16>E;++E)P+=m[b-1+32*E];Af(P>>4,m,b)}function JS(m,b){var E,P=8;for(E=0;16>E;++E)P+=m[b+E-32];Af(P>>4,m,b)}function B2(m,b){Af(128,m,b)}function at(m,b,E){return m+2*b+E+2>>2}function QS(m,b){var E,P=b-32;for(P=new Uint8Array([at(m[P-1],m[P+0],m[P+1]),at(m[P+0],m[P+1],m[P+2]),at(m[P+1],m[P+2],m[P+3]),at(m[P+2],m[P+3],m[P+4])]),E=0;4>E;++E)r(m,b+32*E,P,0,P.length)}function ZS(m,b){var E=m[b-1],P=m[b-1+32],F=m[b-1+64],z=m[b-1+96];Ee(m,b+0,16843009*at(m[b-1-32],E,P)),Ee(m,b+32,16843009*at(E,P,F)),Ee(m,b+64,16843009*at(P,F,z)),Ee(m,b+96,16843009*at(F,z,z))}function Go(m,b){var E,P=4;for(E=0;4>E;++E)P+=m[b+E-32]+m[b-1+32*E];for(P>>=3,E=0;4>E;++E)i(m,b+32*E,P,4)}function $2(m,b){var E=m[b-1+0],P=m[b-1+32],F=m[b-1+64],z=m[b-1-32],V=m[b+0-32],H=m[b+1-32],q=m[b+2-32],J=m[b+3-32];m[b+0+96]=at(P,F,m[b-1+96]),m[b+1+96]=m[b+0+64]=at(E,P,F),m[b+2+96]=m[b+1+64]=m[b+0+32]=at(z,E,P),m[b+3+96]=m[b+2+64]=m[b+1+32]=m[b+0+0]=at(V,z,E),m[b+3+64]=m[b+2+32]=m[b+1+0]=at(H,V,z),m[b+3+32]=m[b+2+0]=at(q,H,V),m[b+3+0]=at(J,q,H)}function z2(m,b){var E=m[b+1-32],P=m[b+2-32],F=m[b+3-32],z=m[b+4-32],V=m[b+5-32],H=m[b+6-32],q=m[b+7-32];m[b+0+0]=at(m[b+0-32],E,P),m[b+1+0]=m[b+0+32]=at(E,P,F),m[b+2+0]=m[b+1+32]=m[b+0+64]=at(P,F,z),m[b+3+0]=m[b+2+32]=m[b+1+64]=m[b+0+96]=at(F,z,V),m[b+3+32]=m[b+2+64]=m[b+1+96]=at(z,V,H),m[b+3+64]=m[b+2+96]=at(V,H,q),m[b+3+96]=at(H,q,q)}function Sf(m,b){var E=m[b-1+0],P=m[b-1+32],F=m[b-1+64],z=m[b-1-32],V=m[b+0-32],H=m[b+1-32],q=m[b+2-32],J=m[b+3-32];m[b+0+0]=m[b+1+64]=z+V+1>>1,m[b+1+0]=m[b+2+64]=V+H+1>>1,m[b+2+0]=m[b+3+64]=H+q+1>>1,m[b+3+0]=q+J+1>>1,m[b+0+96]=at(F,P,E),m[b+0+64]=at(P,E,z),m[b+0+32]=m[b+1+96]=at(E,z,V),m[b+1+32]=m[b+2+96]=at(z,V,H),m[b+2+32]=m[b+3+96]=at(V,H,q),m[b+3+32]=at(H,q,J)}function $g(m,b){var E=m[b+0-32],P=m[b+1-32],F=m[b+2-32],z=m[b+3-32],V=m[b+4-32],H=m[b+5-32],q=m[b+6-32],J=m[b+7-32];m[b+0+0]=E+P+1>>1,m[b+1+0]=m[b+0+64]=P+F+1>>1,m[b+2+0]=m[b+1+64]=F+z+1>>1,m[b+3+0]=m[b+2+64]=z+V+1>>1,m[b+0+32]=at(E,P,F),m[b+1+32]=m[b+0+96]=at(P,F,z),m[b+2+32]=m[b+1+96]=at(F,z,V),m[b+3+32]=m[b+2+96]=at(z,V,H),m[b+3+64]=at(V,H,q),m[b+3+96]=at(H,q,J)}function e3(m,b){var E=m[b-1+0],P=m[b-1+32],F=m[b-1+64],z=m[b-1+96];m[b+0+0]=E+P+1>>1,m[b+2+0]=m[b+0+32]=P+F+1>>1,m[b+2+32]=m[b+0+64]=F+z+1>>1,m[b+1+0]=at(E,P,F),m[b+3+0]=m[b+1+32]=at(P,F,z),m[b+3+32]=m[b+1+64]=at(F,z,z),m[b+3+64]=m[b+2+64]=m[b+0+96]=m[b+1+96]=m[b+2+96]=m[b+3+96]=z}function t3(m,b){var E=m[b-1+0],P=m[b-1+32],F=m[b-1+64],z=m[b-1+96],V=m[b-1-32],H=m[b+0-32],q=m[b+1-32],J=m[b+2-32];m[b+0+0]=m[b+2+32]=E+V+1>>1,m[b+0+32]=m[b+2+64]=P+E+1>>1,m[b+0+64]=m[b+2+96]=F+P+1>>1,m[b+0+96]=z+F+1>>1,m[b+3+0]=at(H,q,J),m[b+2+0]=at(V,H,q),m[b+1+0]=m[b+3+32]=at(E,V,H),m[b+1+32]=m[b+3+64]=at(P,E,V),m[b+1+64]=m[b+3+96]=at(F,P,E),m[b+1+96]=at(z,F,P)}function n3(m,b){var E;for(E=0;8>E;++E)r(m,b+32*E,m,b-32,8)}function zg(m,b){var E;for(E=0;8>E;++E)i(m,b,m[b-1],8),b+=32}function Wu(m,b,E){var P;for(P=0;8>P;++P)i(b,E+32*P,m,8)}function Jl(m,b){var E,P=8;for(E=0;8>E;++E)P+=m[b+E-32]+m[b-1+32*E];Wu(P>>4,m,b)}function r3(m,b){var E,P=4;for(E=0;8>E;++E)P+=m[b+E-32];Wu(P>>3,m,b)}function Gu(m,b){var E,P=4;for(E=0;8>E;++E)P+=m[b-1+32*E];Wu(P>>3,m,b)}function Vg(m,b){Wu(128,m,b)}function Ef(m,b,E){var P=m[b-E],F=m[b+0],z=3*(F-P)+c3[1020+m[b-2*E]-m[b+E]],V=e5[112+(z+4>>3)];m[b-E]=Gi[255+P+e5[112+(z+3>>3)]],m[b+0]=Gi[255+F-V]}function V2(m,b,E,P){var F=m[b+0],z=m[b+E];return Ns[255+m[b-2*E]-m[b-E]]>P||Ns[255+z-F]>P}function U2(m,b,E,P){return 4*Ns[255+m[b-E]-m[b+0]]+Ns[255+m[b-2*E]-m[b+E]]<=P}function H2(m,b,E,P,F){var z=m[b-3*E],V=m[b-2*E],H=m[b-E],q=m[b+0],J=m[b+E],ce=m[b+2*E],ve=m[b+3*E];return 4*Ns[255+H-q]+Ns[255+V-J]>P?0:Ns[255+m[b-4*E]-z]<=F&&Ns[255+z-V]<=F&&Ns[255+V-H]<=F&&Ns[255+ve-ce]<=F&&Ns[255+ce-J]<=F&&Ns[255+J-q]<=F}function q2(m,b,E,P){var F=2*P+1;for(P=0;16>P;++P)U2(m,b+P,E,F)&&Ef(m,b+P,E)}function Xo(m,b,E,P){var F=2*P+1;for(P=0;16>P;++P)U2(m,b+P*E,1,F)&&Ef(m,b+P*E,1)}function Ba(m,b,E,P){var F;for(F=3;0<F;--F)q2(m,b+=4*E,E,P)}function i3(m,b,E,P){var F;for(F=3;0<F;--F)Xo(m,b+=4,E,P)}function Ql(m,b,E,P,F,z,V,H){for(z=2*z+1;0<F--;){if(H2(m,b,E,z,V))if(V2(m,b,E,H))Ef(m,b,E);else{var q=m,J=b,ce=E,ve=q[J-2*ce],ye=q[J-ce],fe=q[J+0],Pe=q[J+ce],xe=q[J+2*ce],ue=27*(Ce=c3[1020+3*(fe-ye)+c3[1020+ve-Pe]])+63>>7,he=18*Ce+63>>7,Ce=9*Ce+63>>7;q[J-3*ce]=Gi[255+q[J-3*ce]+Ce],q[J-2*ce]=Gi[255+ve+he],q[J-ce]=Gi[255+ye+ue],q[J+0]=Gi[255+fe-ue],q[J+ce]=Gi[255+Pe-he],q[J+2*ce]=Gi[255+xe-Ce]}b+=P}}function no(m,b,E,P,F,z,V,H){for(z=2*z+1;0<F--;){if(H2(m,b,E,z,V))if(V2(m,b,E,H))Ef(m,b,E);else{var q=m,J=b,ce=E,ve=q[J-ce],ye=q[J+0],fe=q[J+ce],Pe=e5[112+((xe=3*(ye-ve))+4>>3)],xe=e5[112+(xe+3>>3)],ue=Pe+1>>1;q[J-2*ce]=Gi[255+q[J-2*ce]+ue],q[J-ce]=Gi[255+ve+xe],q[J+0]=Gi[255+ye-Pe],q[J+ce]=Gi[255+fe-ue]}b+=P}}function Ug(m,b,E,P,F,z){Ql(m,b,E,1,16,P,F,z)}function Xu(m,b,E,P,F,z){Ql(m,b,1,E,16,P,F,z)}function s3(m,b,E,P,F,z){var V;for(V=3;0<V;--V)no(m,b+=4*E,E,1,16,P,F,z)}function Cf(m,b,E,P,F,z){var V;for(V=3;0<V;--V)no(m,b+=4,1,E,16,P,F,z)}function o3(m,b,E,P,F,z,V,H){Ql(m,b,F,1,8,z,V,H),Ql(E,P,F,1,8,z,V,H)}function Hg(m,b,E,P,F,z,V,H){Ql(m,b,1,F,8,z,V,H),Ql(E,P,1,F,8,z,V,H)}function qg(m,b,E,P,F,z,V,H){no(m,b+4*F,F,1,8,z,V,H),no(E,P+4*F,F,1,8,z,V,H)}function W2(m,b,E,P,F,z,V,H){no(m,b+4,1,F,8,z,V,H),no(E,P+4,1,F,8,z,V,H)}function _f(){this.ba=new Ks,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Cn,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Wg(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Gg(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function G2(){this.ua=0,this.Wa=new te,this.vb=new te,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new U,this.yc=new j}function a3(){this.xb=this.a=0,this.l=new bf,this.ca=new Ks,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new D,this.Pb=0,this.wd=new D,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new G2,this.ab=0,this.gc=o(4,Gg),this.Oc=0}function Pf(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new bf,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Yu(m,b,E,P,F,z,V){for(m=m==null?0:m[b+0],b=0;b<V;++b)F[z+b]=m+E[P+b]&255,m=F[z+b]}function Xg(m,b,E,P,F,z,V){var H;if(m==null)Yu(null,null,E,P,F,z,V);else for(H=0;H<V;++H)F[z+H]=m[b+H]+E[P+H]&255}function Zl(m,b,E,P,F,z,V){if(m==null)Yu(null,null,E,P,F,z,V);else{var H,q=m[b+0],J=q,ce=q;for(H=0;H<V;++H)J=ce+(q=m[b+H])-J,ce=E[P+H]+(-256&J?0>J?0:255:J)&255,J=q,F[z+H]=ce}}function Yg(m,b,E,P){var F=b.width,z=b.o;if(e(m!=null&&b!=null),0>E||0>=P||E+P>z)return null;if(!m.Cc){if(m.ga==null){var V;if(m.ga=new Pf,(V=m.ga==null)||(V=b.width*b.o,e(m.Gb.length==0),m.Gb=s(V),m.Uc=0,m.Gb==null?V=0:(m.mb=m.Gb,m.nb=m.Uc,m.rc=null,V=1),V=!V),!V){V=m.ga;var H=m.Fa,q=m.P,J=m.qc,ce=m.mb,ve=m.nb,ye=q+1,fe=J-1,Pe=V.l;if(e(H!=null&&ce!=null&&b!=null),sc[0]=null,sc[1]=Yu,sc[2]=Xg,sc[3]=Zl,V.ca=ce,V.tb=ve,V.c=b.width,V.i=b.height,e(0<V.c&&0<V.i),1>=J)b=0;else if(V.$a=H[q+0]>>0&3,V.Z=H[q+0]>>2&3,V.Lc=H[q+0]>>4&3,q=H[q+0]>>6&3,0>V.$a||1<V.$a||4<=V.Z||1<V.Lc||q)b=0;else if(Pe.put=Vo,Pe.ac=Er,Pe.bc=Uo,Pe.ma=V,Pe.width=b.width,Pe.height=b.height,Pe.Da=b.Da,Pe.v=b.v,Pe.va=b.va,Pe.j=b.j,Pe.o=b.o,V.$a)e:{e(V.$a==1),b=Ss();t:for(;;){if(b==null){b=0;break e}if(e(V!=null),V.mc=b,b.c=V.c,b.i=V.i,b.l=V.l,b.l.ma=V,b.l.width=V.c,b.l.height=V.i,b.a=0,Y(b.m,H,ye,fe),!Wo(V.c,V.i,1,b,null)||(b.ab==1&&b.gc[0].hc==3&&Oa(b.s)?(V.ic=1,H=b.c*b.i,b.Ta=null,b.Ua=0,b.V=s(H),b.Ba=0,b.V==null?(b.a=1,b=0):b=1):(V.ic=0,b=qu(b,V.c)),!b))break t;b=1;break e}V.mc=null,b=0}else b=fe>=V.c*V.i;V=!b}if(V)return null;m.ga.Lc!=1?m.Ga=0:P=z-E}e(m.ga!=null),e(E+P<=z);e:{if(b=(H=m.ga).c,z=H.l.o,H.$a==0){if(ye=m.rc,fe=m.Vc,Pe=m.Fa,q=m.P+1+E*b,J=m.mb,ce=m.nb+E*b,e(q<=m.P+m.qc),H.Z!=0)for(e(sc[H.Z]!=null),V=0;V<P;++V)sc[H.Z](ye,fe,Pe,q,J,ce,b),ye=J,fe=ce,ce+=b,q+=b;else for(V=0;V<P;++V)r(J,ce,Pe,q,b),ye=J,fe=ce,ce+=b,q+=b;m.rc=ye,m.Vc=fe}else{if(e(H.mc!=null),b=E+P,e((V=H.mc)!=null),e(b<=V.i),V.C>=b)b=1;else if(H.ic||me(),H.ic){H=V.V,ye=V.Ba,fe=V.c;var xe=V.i,ue=(Pe=1,q=V.$/fe,J=V.$%fe,ce=V.m,ve=V.s,V.$),he=fe*xe,Ce=fe*b,Te=ve.wc,_e=ue<Ce?qn(ve,J,q):null;e(ue<=he),e(b<=xe),e(Oa(ve));t:for(;;){for(;!ce.h&&ue<Ce;){if(J&Te||(_e=qn(ve,J,q)),e(_e!=null),oe(ce),256>(xe=Si(_e.G[0],_e.H[0],ce)))H[ye+ue]=xe,++ue,++J>=fe&&(J=0,++q<=b&&!(q%16)&&Zs(V,q));else{if(!(280>xe)){Pe=0;break t}xe=Js(xe-256,ce);var Ve,De=Si(_e.G[4],_e.H[4],ce);if(oe(ce),!(ue>=(De=Ho(fe,De=Js(De,ce)))&&he-ue>=xe)){Pe=0;break t}for(Ve=0;Ve<xe;++Ve)H[ye+ue+Ve]=H[ye+ue+Ve-De];for(ue+=xe,J+=xe;J>=fe;)J-=fe,++q<=b&&!(q%16)&&Zs(V,q);ue<Ce&&J&Te&&(_e=qn(ve,J,q))}e(ce.h==Z(ce))}Zs(V,q>b?b:q);break t}!Pe||ce.h&&ue<he?(Pe=0,V.a=ce.h?5:3):V.$=ue,b=Pe}else b=eo(V,V.V,V.Ba,V.c,V.i,b,pf);if(!b){P=0;break e}}E+P>=z&&(m.Cc=1),P=1}if(!P)return null;if(m.Cc&&((P=m.ga)!=null&&(P.mc=null),m.ga=null,0<m.Ga))return alert("todo:WebPDequantizeLevels"),null}return m.nb+E*F}function A(m,b,E,P,F,z){for(;0<F--;){var V,H=m,q=b+(E?1:0),J=m,ce=b+(E?0:3);for(V=0;V<P;++V){var ve=J[ce+4*V];ve!=255&&(ve*=32897,H[q+4*V+0]=H[q+4*V+0]*ve>>23,H[q+4*V+1]=H[q+4*V+1]*ve>>23,H[q+4*V+2]=H[q+4*V+2]*ve>>23)}b+=z}}function O(m,b,E,P,F){for(;0<P--;){var z;for(z=0;z<E;++z){var V=m[b+2*z+0],H=15&(J=m[b+2*z+1]),q=4369*H,J=(240&J|J>>4)*q>>16;m[b+2*z+0]=(240&V|V>>4)*q>>16&240|(15&V|V<<4)*q>>16>>4&15,m[b+2*z+1]=240&J|H}b+=F}}function ee(m,b,E,P,F,z,V,H){var q,J,ce=255;for(J=0;J<F;++J){for(q=0;q<P;++q){var ve=m[b+q];z[V+4*q]=ve,ce&=ve}b+=E,V+=H}return ce!=255}function ae(m,b,E,P,F){var z;for(z=0;z<F;++z)E[P+z]=m[b+z]>>8}function me(){Ps=A,Qt=O,Zt=ee,Dn=ae}function Se(m,b,E){k[m]=function(P,F,z,V,H,q,J,ce,ve,ye,fe,Pe,xe,ue,he,Ce,Te){var _e,Ve=Te-1>>1,De=H[q+0]|J[ce+0]<<16,Ze=ve[ye+0]|fe[Pe+0]<<16;e(P!=null);var je=3*De+Ze+131074>>2;for(b(P[F+0],255&je,je>>16,xe,ue),z!=null&&(je=3*Ze+De+131074>>2,b(z[V+0],255&je,je>>16,he,Ce)),_e=1;_e<=Ve;++_e){var It=H[q+_e]|J[ce+_e]<<16,Ot=ve[ye+_e]|fe[Pe+_e]<<16,Tt=De+It+Ze+Ot+524296,St=Tt+2*(It+Ze)>>3;je=St+De>>1,De=(Tt=Tt+2*(De+Ot)>>3)+It>>1,b(P[F+2*_e-1],255&je,je>>16,xe,ue+(2*_e-1)*E),b(P[F+2*_e-0],255&De,De>>16,xe,ue+(2*_e-0)*E),z!=null&&(je=Tt+Ze>>1,De=St+Ot>>1,b(z[V+2*_e-1],255&je,je>>16,he,Ce+(2*_e-1)*E),b(z[V+2*_e+0],255&De,De>>16,he,Ce+(2*_e+0)*E)),De=It,Ze=Ot}1&Te||(je=3*De+Ze+131074>>2,b(P[F+Te-1],255&je,je>>16,xe,ue+(Te-1)*E),z!=null&&(je=3*Ze+De+131074>>2,b(z[V+Te-1],255&je,je>>16,he,Ce+(Te-1)*E)))}}function Le(){Ts[t5]=iB,Ts[n5]=KN,Ts[qN]=sB,Ts[r5]=JN,Ts[i5]=QN,Ts[u3]=ZN,Ts[WN]=oB,Ts[d3]=KN,Ts[h3]=JN,Ts[s5]=QN,Ts[f3]=ZN}function ze(m){return m&~aB?0>m?0:255:m>>eT}function Qe(m,b){return ze((19077*m>>8)+(26149*b>>8)-14234)}function pt(m,b,E){return ze((19077*m>>8)-(6419*b>>8)-(13320*E>>8)+8708)}function ut(m,b){return ze((19077*m>>8)+(33050*b>>8)-17685)}function Pt(m,b,E,P,F){P[F+0]=Qe(m,E),P[F+1]=pt(m,b,E),P[F+2]=ut(m,b)}function mn(m,b,E,P,F){P[F+0]=ut(m,b),P[F+1]=pt(m,b,E),P[F+2]=Qe(m,E)}function _n(m,b,E,P,F){var z=pt(m,b,E);b=z<<3&224|ut(m,b)>>3,P[F+0]=248&Qe(m,E)|z>>5,P[F+1]=b}function Wn(m,b,E,P,F){var z=240&ut(m,b)|15;P[F+0]=240&Qe(m,E)|pt(m,b,E)>>4,P[F+1]=z}function Ur(m,b,E,P,F){P[F+0]=255,Pt(m,b,E,P,F+1)}function cr(m,b,E,P,F){mn(m,b,E,P,F),P[F+3]=255}function ro(m,b,E,P,F){Pt(m,b,E,P,F),P[F+3]=255}function Wi(m,b){return 0>m?0:m>b?b:m}function Yo(m,b,E){k[m]=function(P,F,z,V,H,q,J,ce,ve){for(var ye=ce+(-2&ve)*E;ce!=ye;)b(P[F+0],z[V+0],H[q+0],J,ce),b(P[F+1],z[V+0],H[q+0],J,ce+E),F+=2,++V,++q,ce+=2*E;1&ve&&b(P[F+0],z[V+0],H[q+0],J,ce)}}function X2(m,b,E){return E==0?m==0?b==0?6:5:b==0?4:0:E}function Kg(m,b,E,P,F){switch(m>>>30){case 3:Va(b,E,P,F,0);break;case 2:Fn(b,E,P,F);break;case 1:ai(b,E,P,F)}}function Jg(m,b){var E,P,F=b.M,z=b.Nb,V=m.oc,H=m.pc+40,q=m.oc,J=m.pc+584,ce=m.oc,ve=m.pc+600;for(E=0;16>E;++E)V[H+32*E-1]=129;for(E=0;8>E;++E)q[J+32*E-1]=129,ce[ve+32*E-1]=129;for(0<F?V[H-1-32]=q[J-1-32]=ce[ve-1-32]=129:(i(V,H-32-1,127,21),i(q,J-32-1,127,9),i(ce,ve-32-1,127,9)),P=0;P<m.za;++P){var ye=b.ya[b.aa+P];if(0<P){for(E=-1;16>E;++E)r(V,H+32*E-4,V,H+32*E+12,4);for(E=-1;8>E;++E)r(q,J+32*E-4,q,J+32*E+4,4),r(ce,ve+32*E-4,ce,ve+32*E+4,4)}var fe=m.Gd,Pe=m.Hd+P,xe=ye.ad,ue=ye.Hc;if(0<F&&(r(V,H-32,fe[Pe].y,0,16),r(q,J-32,fe[Pe].f,0,8),r(ce,ve-32,fe[Pe].ea,0,8)),ye.Za){var he=V,Ce=H-32+16;for(0<F&&(P>=m.za-1?i(he,Ce,fe[Pe].y[15],4):r(he,Ce,fe[Pe+1].y,0,4)),E=0;4>E;E++)he[Ce+128+E]=he[Ce+256+E]=he[Ce+384+E]=he[Ce+0+E];for(E=0;16>E;++E,ue<<=2)he=V,Ce=H+nT[E],io[ye.Ob[E]](he,Ce),Kg(ue,xe,16*+E,he,Ce)}else if(he=X2(P,F,ye.Ob[0]),ic[he](V,H),ue!=0)for(E=0;16>E;++E,ue<<=2)Kg(ue,xe,16*+E,V,H+nT[E]);for(E=ye.Gc,he=X2(P,F,ye.Dd),Ha[he](q,J),Ha[he](ce,ve),ue=xe,he=q,Ce=J,255&(ye=E>>0)&&(170&ye?n0(ue,256,he,Ce):Cs(ue,256,he,Ce)),ye=ce,ue=ve,255&(E>>=8)&&(170&E?n0(xe,320,ye,ue):Cs(xe,320,ye,ue)),F<m.Ub-1&&(r(fe[Pe].y,0,V,H+480,16),r(fe[Pe].f,0,q,J+224,8),r(fe[Pe].ea,0,ce,ve+224,8)),E=8*z*m.B,fe=m.sa,Pe=m.ta+16*P+16*z*m.R,xe=m.qa,ye=m.ra+8*P+E,ue=m.Ha,he=m.Ia+8*P+E,E=0;16>E;++E)r(fe,Pe+E*m.R,V,H+32*E,16);for(E=0;8>E;++E)r(xe,ye+E*m.B,q,J+32*E,8),r(ue,he+E*m.B,ce,ve+32*E,8)}}function Nf(m,b,E,P,F,z,V,H,q){var J=[0],ce=[0],ve=0,ye=q!=null?q.kd:0,fe=q??new Wg;if(m==null||12>E)return 7;fe.data=m,fe.w=b,fe.ha=E,b=[b],E=[E],fe.gb=[fe.gb];e:{var Pe=b,xe=E,ue=fe.gb;if(e(m!=null),e(xe!=null),e(ue!=null),ue[0]=0,12<=xe[0]&&!t(m,Pe[0],"RIFF")){if(t(m,Pe[0]+8,"WEBP")){ue=3;break e}var he=Re(m,Pe[0]+4);if(12>he||4294967286<he){ue=3;break e}if(ye&&he>xe[0]-8){ue=7;break e}ue[0]=he,Pe[0]+=12,xe[0]-=12}ue=0}if(ue!=0)return ue;for(he=0<fe.gb[0],E=E[0];;){e:{var Ce=m;xe=b,ue=E;var Te=J,_e=ce,Ve=Pe=[0];if((je=ve=[ve])[0]=0,8>ue[0])ue=7;else{if(!t(Ce,xe[0],"VP8X")){if(Re(Ce,xe[0]+4)!=10){ue=3;break e}if(18>ue[0]){ue=7;break e}var De=Re(Ce,xe[0]+8),Ze=1+Ne(Ce,xe[0]+12);if(2147483648<=Ze*(Ce=1+Ne(Ce,xe[0]+15))){ue=3;break e}Ve!=null&&(Ve[0]=De),Te!=null&&(Te[0]=Ze),_e!=null&&(_e[0]=Ce),xe[0]+=18,ue[0]-=18,je[0]=1}ue=0}}if(ve=ve[0],Pe=Pe[0],ue!=0)return ue;if(xe=!!(2&Pe),!he&&ve)return 3;if(z!=null&&(z[0]=!!(16&Pe)),V!=null&&(V[0]=xe),H!=null&&(H[0]=0),V=J[0],Pe=ce[0],ve&&xe&&q==null){ue=0;break}if(4>E){ue=7;break}if(he&&ve||!he&&!ve&&!t(m,b[0],"ALPH")){E=[E],fe.na=[fe.na],fe.P=[fe.P],fe.Sa=[fe.Sa];e:{De=m,ue=b,he=E;var je=fe.gb;Te=fe.na,_e=fe.P,Ve=fe.Sa,Ze=22,e(De!=null),e(he!=null),Ce=ue[0];var It=he[0];for(e(Te!=null),e(Ve!=null),Te[0]=null,_e[0]=null,Ve[0]=0;;){if(ue[0]=Ce,he[0]=It,8>It){ue=7;break e}var Ot=Re(De,Ce+4);if(4294967286<Ot){ue=3;break e}var Tt=8+Ot+1&-2;if(Ze+=Tt,0<je&&Ze>je){ue=3;break e}if(!t(De,Ce,"VP8 ")||!t(De,Ce,"VP8L")){ue=0;break e}if(It[0]<Tt){ue=7;break e}t(De,Ce,"ALPH")||(Te[0]=De,_e[0]=Ce+8,Ve[0]=Ot),Ce+=Tt,It-=Tt}}if(E=E[0],fe.na=fe.na[0],fe.P=fe.P[0],fe.Sa=fe.Sa[0],ue!=0)break}E=[E],fe.Ja=[fe.Ja],fe.xa=[fe.xa];e:if(je=m,ue=b,he=E,Te=fe.gb[0],_e=fe.Ja,Ve=fe.xa,De=ue[0],Ce=!t(je,De,"VP8 "),Ze=!t(je,De,"VP8L"),e(je!=null),e(he!=null),e(_e!=null),e(Ve!=null),8>he[0])ue=7;else{if(Ce||Ze){if(je=Re(je,De+4),12<=Te&&je>Te-12){ue=3;break e}if(ye&&je>he[0]-8){ue=7;break e}_e[0]=je,ue[0]+=8,he[0]-=8,Ve[0]=Ze}else Ve[0]=5<=he[0]&&je[De+0]==47&&!(je[De+4]>>5),_e[0]=he[0];ue=0}if(E=E[0],fe.Ja=fe.Ja[0],fe.xa=fe.xa[0],b=b[0],ue!=0)break;if(4294967286<fe.Ja)return 3;if(H==null||xe||(H[0]=fe.xa?2:1),V=[V],Pe=[Pe],fe.xa){if(5>E){ue=7;break}H=V,ye=Pe,xe=z,m==null||5>E?m=0:5<=E&&m[b+0]==47&&!(m[b+4]>>5)?(he=[0],je=[0],Te=[0],Y(_e=new D,m,b,E),tt(_e,he,je,Te)?(H!=null&&(H[0]=he[0]),ye!=null&&(ye[0]=je[0]),xe!=null&&(xe[0]=Te[0]),m=1):m=0):m=0}else{if(10>E){ue=7;break}H=Pe,m==null||10>E||!R2(m,b+3,E-3)?m=0:(ye=m[b+0]|m[b+1]<<8|m[b+2]<<16,xe=16383&(m[b+7]<<8|m[b+6]),m=16383&(m[b+9]<<8|m[b+8]),1&ye||3<(ye>>1&7)||!(ye>>4&1)||ye>>5>=fe.Ja||!xe||!m?m=0:(V&&(V[0]=xe),H&&(H[0]=m),m=1))}if(!m||(V=V[0],Pe=Pe[0],ve&&(J[0]!=V||ce[0]!=Pe)))return 3;q!=null&&(q[0]=fe,q.offset=b-q.w,e(4294967286>b-q.w),e(q.offset==q.ha-E));break}return ue==0||ue==7&&ve&&q==null?(z!=null&&(z[0]|=fe.na!=null&&0<fe.na.length),P!=null&&(P[0]=V),F!=null&&(F[0]=Pe),0):ue}function Qg(m,b,E){var P=b.width,F=b.height,z=0,V=0,H=P,q=F;if(b.Da=m!=null&&0<m.Da,b.Da&&(H=m.cd,q=m.bd,z=m.v,V=m.j,11>E||(z&=-2,V&=-2),0>z||0>V||0>=H||0>=q||z+H>P||V+q>F))return 0;if(b.v=z,b.j=V,b.va=z+H,b.o=V+q,b.U=H,b.T=q,b.da=m!=null&&0<m.da,b.da){if(!nt(H,q,E=[m.ib],z=[m.hb]))return 0;b.ib=E[0],b.hb=z[0]}return b.ob=m!=null&&m.ob,b.Kb=m==null||!m.Sd,b.da&&(b.ob=b.ib<3*P/4&&b.hb<3*F/4,b.Kb=0),1}function Zg(m){if(m==null)return 2;if(11>m.S){var b=m.f.RGBA;b.fb+=(m.height-1)*b.A,b.A=-b.A}else b=m.f.kb,m=m.height,b.O+=(m-1)*b.fa,b.fa=-b.fa,b.N+=(m-1>>1)*b.Ab,b.Ab=-b.Ab,b.W+=(m-1>>1)*b.Db,b.Db=-b.Db,b.F!=null&&(b.J+=(m-1)*b.lb,b.lb=-b.lb);return 0}function Tf(m,b,E,P){if(P==null||0>=m||0>=b)return 2;if(E!=null){if(E.Da){var F=E.cd,z=E.bd,V=-2&E.v,H=-2&E.j;if(0>V||0>H||0>=F||0>=z||V+F>m||H+z>b)return 2;m=F,b=z}if(E.da){if(!nt(m,b,F=[E.ib],z=[E.hb]))return 2;m=F[0],b=z[0]}}P.width=m,P.height=b;e:{var q=P.width,J=P.height;if(m=P.S,0>=q||0>=J||!(m>=t5&&13>m))m=2;else{if(0>=P.Rd&&P.sd==null){V=z=F=b=0;var ce=(H=q*rT[m])*J;if(11>m||(z=(J+1)/2*(b=(q+1)/2),m==12&&(V=(F=q)*J)),(J=s(ce+2*z+V))==null){m=1;break e}P.sd=J,11>m?((q=P.f.RGBA).eb=J,q.fb=0,q.A=H,q.size=ce):((q=P.f.kb).y=J,q.O=0,q.fa=H,q.Fd=ce,q.f=J,q.N=0+ce,q.Ab=b,q.Cd=z,q.ea=J,q.W=0+ce+z,q.Db=b,q.Ed=z,m==12&&(q.F=J,q.J=0+ce+2*z),q.Tc=V,q.lb=F)}if(b=1,F=P.S,z=P.width,V=P.height,F>=t5&&13>F)if(11>F)m=P.f.RGBA,b&=(H=Math.abs(m.A))*(V-1)+z<=m.size,b&=H>=z*rT[F],b&=m.eb!=null;else{m=P.f.kb,H=(z+1)/2,ce=(V+1)/2,q=Math.abs(m.fa),J=Math.abs(m.Ab);var ve=Math.abs(m.Db),ye=Math.abs(m.lb),fe=ye*(V-1)+z;b&=q*(V-1)+z<=m.Fd,b&=J*(ce-1)+H<=m.Cd,b=(b&=ve*(ce-1)+H<=m.Ed)&q>=z&J>=H&ve>=H,b&=m.y!=null,b&=m.f!=null,b&=m.ea!=null,F==12&&(b&=ye>=z,b&=fe<=m.Tc,b&=m.F!=null)}else b=0;m=b?0:2}}return m!=0||E!=null&&E.fd&&(m=Zg(P)),m}var Cr=64,Lf=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],kf=24,Rf=32,e0=8,Ci=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Fe("Predictor0","PredictorAdd0"),k.Predictor0=function(){return 4278190080},k.Predictor1=function(m){return m},k.Predictor2=function(m,b,E){return b[E+0]},k.Predictor3=function(m,b,E){return b[E+1]},k.Predictor4=function(m,b,E){return b[E-1]},k.Predictor5=function(m,b,E){return Be(Be(m,b[E+1]),b[E+0])},k.Predictor6=function(m,b,E){return Be(m,b[E-1])},k.Predictor7=function(m,b,E){return Be(m,b[E+0])},k.Predictor8=function(m,b,E){return Be(b[E-1],b[E+0])},k.Predictor9=function(m,b,E){return Be(b[E+0],b[E+1])},k.Predictor10=function(m,b,E){return Be(Be(m,b[E-1]),Be(b[E+0],b[E+1]))},k.Predictor11=function(m,b,E){var P=b[E+0];return 0>=vt(P>>24&255,m>>24&255,(b=b[E-1])>>24&255)+vt(P>>16&255,m>>16&255,b>>16&255)+vt(P>>8&255,m>>8&255,b>>8&255)+vt(255&P,255&m,255&b)?P:m},k.Predictor12=function(m,b,E){var P=b[E+0];return(Je((m>>24&255)+(P>>24&255)-((b=b[E-1])>>24&255))<<24|Je((m>>16&255)+(P>>16&255)-(b>>16&255))<<16|Je((m>>8&255)+(P>>8&255)-(b>>8&255))<<8|Je((255&m)+(255&P)-(255&b)))>>>0},k.Predictor13=function(m,b,E){var P=b[E-1];return(lt((m=Be(m,b[E+0]))>>24&255,P>>24&255)<<24|lt(m>>16&255,P>>16&255)<<16|lt(m>>8&255,P>>8&255)<<8|lt(m>>0&255,P>>0&255))>>>0};var l3=k.PredictorAdd0;k.PredictorAdd1=bt,Fe("Predictor2","PredictorAdd2"),Fe("Predictor3","PredictorAdd3"),Fe("Predictor4","PredictorAdd4"),Fe("Predictor5","PredictorAdd5"),Fe("Predictor6","PredictorAdd6"),Fe("Predictor7","PredictorAdd7"),Fe("Predictor8","PredictorAdd8"),Fe("Predictor9","PredictorAdd9"),Fe("Predictor10","PredictorAdd10"),Fe("Predictor11","PredictorAdd11"),Fe("Predictor12","PredictorAdd12"),Fe("Predictor13","PredictorAdd13");var t0=k.PredictorAdd2;xt("ColorIndexInverseTransform","MapARGB","32b",function(m){return m>>8&255},function(m){return m}),xt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(m){return m},function(m){return m>>8&255});var Y2,Es=k.ColorIndexInverseTransform,If=k.MapARGB,K2=k.VP8LColorIndexInverseTransformAlpha,J2=k.MapAlpha,ec=k.VP8LPredictorsAdd=[];ec.length=16,(k.VP8LPredictors=[]).length=16,(k.VP8LPredictorsAdd_C=[]).length=16,(k.VP8LPredictors_C=[]).length=16;var Ku,_i,oi,tc,$a,za,Mf,Va,Fn,n0,ai,Cs,Ff,Q2,r0,Ju,Qu,nc,Zu,Df,ed,rc,i0,_s,Ps,Qt,Zt,Dn,nr=s(511),Ua=s(2041),s0=s(225),Of=s(767),Z2=0,c3=Ua,e5=s0,Gi=Of,Ns=nr,t5=0,n5=1,qN=2,r5=3,i5=4,u3=5,WN=6,d3=7,h3=8,s5=9,f3=10,Hj=[2,3,7],qj=[3,3,11],GN=[280,256,256,256,40],Wj=[0,1,1,1,0],Gj=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Xj=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Yj=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Kj=8,p3=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],m3=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],o0=null,Jj=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Qj=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],XN=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Zj=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],eB=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],tB=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],nB=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],ic=[],io=[],Ha=[],rB=1,YN=2,sc=[],Ts=[];Se("UpsampleRgbLinePair",Pt,3),Se("UpsampleBgrLinePair",mn,3),Se("UpsampleRgbaLinePair",ro,4),Se("UpsampleBgraLinePair",cr,4),Se("UpsampleArgbLinePair",Ur,4),Se("UpsampleRgba4444LinePair",Wn,2),Se("UpsampleRgb565LinePair",_n,2);var iB=k.UpsampleRgbLinePair,sB=k.UpsampleBgrLinePair,KN=k.UpsampleRgbaLinePair,JN=k.UpsampleBgraLinePair,QN=k.UpsampleArgbLinePair,ZN=k.UpsampleRgba4444LinePair,oB=k.UpsampleRgb565LinePair,o5=16,a5=1<<o5-1,a0=-227,g3=482,eT=6,aB=(256<<eT)-1,tT=0,lB=s(256),cB=s(256),uB=s(256),dB=s(256),hB=s(g3-a0),fB=s(g3-a0);Yo("YuvToRgbRow",Pt,3),Yo("YuvToBgrRow",mn,3),Yo("YuvToRgbaRow",ro,4),Yo("YuvToBgraRow",cr,4),Yo("YuvToArgbRow",Ur,4),Yo("YuvToRgba4444Row",Wn,2),Yo("YuvToRgb565Row",_n,2);var nT=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],l5=[0,2,8],pB=[8,7,6,4,4,2,2,2,1,1,1,1],mB=1;this.WebPDecodeRGBA=function(m,b,E,P,F){var z=n5,V=new _f,H=new Ks;V.ba=H,H.S=z,H.width=[H.width],H.height=[H.height];var q=H.width,J=H.height,ce=new Da;if(ce==null||m==null)var ve=2;else e(ce!=null),ve=Nf(m,b,E,ce.width,ce.height,ce.Pd,ce.Qd,ce.format,null);if(ve!=0?q=0:(q!=null&&(q[0]=ce.width[0]),J!=null&&(J[0]=ce.height[0]),q=1),q){H.width=H.width[0],H.height=H.height[0],P!=null&&(P[0]=H.width),F!=null&&(F[0]=H.height);e:{if(P=new bf,(F=new Wg).data=m,F.w=b,F.ha=E,F.kd=1,b=[0],e(F!=null),((m=Nf(F.data,F.w,F.ha,null,null,null,b,null,F))==0||m==7)&&b[0]&&(m=4),(b=m)==0){if(e(V!=null),P.data=F.data,P.w=F.w+F.offset,P.ha=F.ha-F.offset,P.put=Vo,P.ac=Er,P.bc=Uo,P.ma=V,F.xa){if((m=Ss())==null){V=1;break e}if(function(ye,fe){var Pe=[0],xe=[0],ue=[0];t:for(;;){if(ye==null)return 0;if(fe==null)return ye.a=2,0;if(ye.l=fe,ye.a=0,Y(ye.m,fe.data,fe.w,fe.ha),!tt(ye.m,Pe,xe,ue)){ye.a=3;break t}if(ye.xb=YN,fe.width=Pe[0],fe.height=xe[0],!Wo(Pe[0],xe[0],1,ye,null))break t;return 1}return e(ye.a!=0),0}(m,P)){if(P=(b=Tf(P.width,P.height,V.Oa,V.ba))==0){t:{P=m;n:for(;;){if(P==null){P=0;break t}if(e(P.s.yc!=null),e(P.s.Ya!=null),e(0<P.s.Wb),e((E=P.l)!=null),e((F=E.ma)!=null),P.xb!=0){if(P.ca=F.ba,P.tb=F.tb,e(P.ca!=null),!Qg(F.Oa,E,r5)){P.a=2;break n}if(!qu(P,E.width)||E.da)break n;if((E.da||Mt(P.ca.S))&&me(),11>P.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),P.ca.f.kb.F!=null&&me()),P.Pb&&0<P.s.ua&&P.s.vb.X==null&&!qe(P.s.vb,P.s.Wa.Xa)){P.a=1;break n}P.xb=0}if(!eo(P,P.V,P.Ba,P.c,P.i,E.o,ff))break n;F.Dc=P.Ma,P=1;break t}e(P.a!=0),P=0}P=!P}P&&(b=m.a)}else b=m.a}else{if((m=new US)==null){V=1;break e}if(m.Fa=F.na,m.P=F.P,m.qc=F.Sa,I2(m,P)){if((b=Tf(P.width,P.height,V.Oa,V.ba))==0){if(m.Aa=0,E=V.Oa,e((F=m)!=null),E!=null){if(0<(q=0>(q=E.Md)?0:100<q?255:255*q/100)){for(J=ce=0;4>J;++J)12>(ve=F.pb[J]).lc&&(ve.ia=q*pB[0>ve.lc?0:ve.lc]>>3),ce|=ve.ia;ce&&(alert("todo:VP8InitRandom"),F.ia=1)}F.Ga=E.Id,100<F.Ga?F.Ga=100:0>F.Ga&&(F.Ga=0)}HS(m,P)||(b=m.a)}}else b=m.a}b==0&&V.Oa!=null&&V.Oa.fd&&(b=Zg(V.ba))}V=b}z=V!=0?null:11>z?H.f.RGBA.eb:H.f.kb.y}else z=null;return z};var rT=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(k,W){for(var X="",M=0;M<4;M++)X+=String.fromCharCode(k[W++]);return X}function u(k,W){return(k[W+0]<<0|k[W+1]<<8|k[W+2]<<16)>>>0}function d(k,W){return(k[W+0]<<0|k[W+1]<<8|k[W+2]<<16|k[W+3]<<24)>>>0}new l;var p=[0],f=[0],y=[],g=new l,x=n,v=function(k,W){var X={},M=0,j=!1,K=0,U=0;if(X.frames=[],!function(G,Z,re,oe){for(var ie=0;ie<oe;ie++)if(G[Z+ie]!=re.charCodeAt(ie))return!0;return!1}(k,W,"RIFF",4)){for(d(k,W+=4),W+=8;W<k.length;){var le=c(k,W),Q=d(k,W+=4);W+=4;var ne=Q+(1&Q);switch(le){case"VP8 ":case"VP8L":X.frames[M]===void 0&&(X.frames[M]={}),(de=X.frames[M]).src_off=j?U:W-8,de.src_size=K+Q+8,M++,j&&(j=!1,K=0,U=0);break;case"VP8X":(de=X.header={}).feature_flags=k[W];var Y=W+4;de.canvas_width=1+u(k,Y),Y+=3,de.canvas_height=1+u(k,Y),Y+=3;break;case"ALPH":j=!0,K=ne+8,U=W-8;break;case"ANIM":(de=X.header).bgcolor=d(k,W),Y=W+4,de.loop_count=(be=k)[(D=Y)+0]<<0|be[D+1]<<8,Y+=2;break;case"ANMF":var se,de;(de=X.frames[M]={}).offset_x=2*u(k,W),W+=3,de.offset_y=2*u(k,W),W+=3,de.width=1+u(k,W),W+=3,de.height=1+u(k,W),W+=3,de.duration=u(k,W),W+=3,se=k[W++],de.dispose=1&se,de.blend=se>>1&1}le!="ANMF"&&(W+=ne)}var be,D;return X}}(x,0);v.response=x,v.rgbaoutput=!0,v.dataurl=!1;var w=v.header?v.header:null,S=v.frames?v.frames:null;if(w){w.loop_counter=w.loop_count,p=[w.canvas_height],f=[w.canvas_width];for(var C=0;C<S.length&&S[C].blend!=0;C++);}var N=S[0],$=g.WebPDecodeRGBA(x,N.src_off,N.src_size,f,p);N.rgba=$,N.imgwidth=f[0],N.imgheight=p[0];for(var R=0;R<f[0]*p[0]*4;R++)y[R]=$[R];return this.width=f,this.height=p,this.data=y,this}(function(n){var e=function(){return typeof y_=="function"},t=function(p,f,y,g){var x=4,v=o;switch(g){case n.image_compression.FAST:x=1,v=s;break;case n.image_compression.MEDIUM:x=6,v=a;break;case n.image_compression.SLOW:x=9,v=l}p=r(p,f,y,v);var w=y_(p,{level:x});return n.__addimage__.arrayBufferToBinaryString(w)},r=function(p,f,y,g){for(var x,v,w,S=p.length/f,C=new Uint8Array(p.length+S),N=u(),$=0;$<S;$+=1){if(w=$*f,x=p.subarray(w,w+f),g)C.set(g(x,y,v),w+$);else{for(var R,k=N.length,W=[];R<k;R+=1)W[R]=N[R](x,y,v);var X=d(W.concat());C.set(W[X],w+$)}v=x}return C},i=function(p){var f=Array.apply([],p);return f.unshift(0),f},s=function(p,f){var y,g=[],x=p.length;g[0]=1;for(var v=0;v<x;v+=1)y=p[v-f]||0,g[v+1]=p[v]-y+256&255;return g},o=function(p,f,y){var g,x=[],v=p.length;x[0]=2;for(var w=0;w<v;w+=1)g=y&&y[w]||0,x[w+1]=p[w]-g+256&255;return x},a=function(p,f,y){var g,x,v=[],w=p.length;v[0]=3;for(var S=0;S<w;S+=1)g=p[S-f]||0,x=y&&y[S]||0,v[S+1]=p[S]+256-(g+x>>>1)&255;return v},l=function(p,f,y){var g,x,v,w,S=[],C=p.length;S[0]=4;for(var N=0;N<C;N+=1)g=p[N-f]||0,x=y&&y[N]||0,v=y&&y[N-f]||0,w=c(g,x,v),S[N+1]=p[N]-w+256&255;return S},c=function(p,f,y){if(p===f&&f===y)return p;var g=Math.abs(f-y),x=Math.abs(p-y),v=Math.abs(p+f-y-y);return g<=x&&g<=v?p:x<=v?f:y},u=function(){return[i,s,o,a,l]},d=function(p){var f=p.map(function(y){return y.reduce(function(g,x){return g+Math.abs(x)},0)});return f.indexOf(Math.min.apply(null,f))};n.processPNG=function(p,f,y,g){var x,v,w,S,C,N,$,R,k,W,X,M,j,K,U,le=this.decode.FLATE_DECODE,Q="";if(this.__addimage__.isArrayBuffer(p)&&(p=new Uint8Array(p)),this.__addimage__.isArrayBufferView(p)){if(p=(w=new MQ(p)).imgData,v=w.bits,x=w.colorSpace,C=w.colors,[4,6].indexOf(w.colorType)!==-1){if(w.bits===8){k=(R=w.pixelBitlength==32?new Uint32Array(w.decodePixels().buffer):w.pixelBitlength==16?new Uint16Array(w.decodePixels().buffer):new Uint8Array(w.decodePixels().buffer)).length,X=new Uint8Array(k*w.colors),W=new Uint8Array(k);var ne,Y=w.pixelBitlength-w.bits;for(K=0,U=0;K<k;K++){for(j=R[K],ne=0;ne<Y;)X[U++]=j>>>ne&255,ne+=w.bits;W[K]=j>>>ne&255}}if(w.bits===16){k=(R=new Uint32Array(w.decodePixels().buffer)).length,X=new Uint8Array(k*(32/w.pixelBitlength)*w.colors),W=new Uint8Array(k*(32/w.pixelBitlength)),M=w.colors>1,K=0,U=0;for(var se=0;K<k;)j=R[K++],X[U++]=j>>>0&255,M&&(X[U++]=j>>>16&255,j=R[K++],X[U++]=j>>>0&255),W[se++]=j>>>16&255;v=8}g!==n.image_compression.NONE&&e()?(p=t(X,w.width*w.colors,w.colors,g),$=t(W,w.width,1,g)):(p=X,$=W,le=void 0)}if(w.colorType===3&&(x=this.color_spaces.INDEXED,N=w.palette,w.transparency.indexed)){var de=w.transparency.indexed,be=0;for(K=0,k=de.length;K<k;++K)be+=de[K];if((be/=255)===k-1&&de.indexOf(0)!==-1)S=[de.indexOf(0)];else if(be!==k){for(R=w.decodePixels(),W=new Uint8Array(R.length),K=0,k=R.length;K<k;K++)W[K]=de[R[K]];$=t(W,w.width,1)}}var D=function(G){var Z;switch(G){case n.image_compression.FAST:Z=11;break;case n.image_compression.MEDIUM:Z=13;break;case n.image_compression.SLOW:Z=14;break;default:Z=12}return Z}(g);return le===this.decode.FLATE_DECODE&&(Q="/Predictor "+D+" "),Q+="/Colors "+C+" /BitsPerComponent "+v+" /Columns "+w.width,(this.__addimage__.isArrayBuffer(p)||this.__addimage__.isArrayBufferView(p))&&(p=this.__addimage__.arrayBufferToBinaryString(p)),($&&this.__addimage__.isArrayBuffer($)||this.__addimage__.isArrayBufferView($))&&($=this.__addimage__.arrayBufferToBinaryString($)),{alias:y,data:p,index:f,filter:le,decodeParameters:Q,transparency:S,palette:N,sMask:$,predictor:D,width:w.width,height:w.height,bitsPerComponent:v,colorSpace:x}}}})(it.API),function(n){n.processGIF89A=function(e,t,r,i){var s=new FQ(e),o=s.width,a=s.height,l=[];s.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:o,height:a},u=new ME(100).encode(c,100);return n.processJPEG.call(this,u,t,r,i)},n.processGIF87A=n.processGIF89A}(it.API),co.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var n=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(n);for(var e=0;e<n;e++){var t=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:r,blue:t,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},co.prototype.parseBGR=function(){this.pos=this.offset;try{var n="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[n]()}catch(t){Jt.log("bit decode error:"+t)}},co.prototype.bit1=function(){var n,e=Math.ceil(this.width/8),t=e%4;for(n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<e;i++)for(var s=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+8*i*4,a=0;a<8&&8*i+a<this.width;a++){var l=this.palette[s>>7-a&1];this.data[o+4*a]=l.blue,this.data[o+4*a+1]=l.green,this.data[o+4*a+2]=l.red,this.data[o+4*a+3]=255}t!==0&&(this.pos+=4-t)}},co.prototype.bit4=function(){for(var n=Math.ceil(this.width/2),e=n%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<n;i++){var s=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+2*i*4,a=s>>4,l=15&s,c=this.palette[a];if(this.data[o]=c.blue,this.data[o+1]=c.green,this.data[o+2]=c.red,this.data[o+3]=255,2*i+1>=this.width)break;c=this.palette[l],this.data[o+4]=c.blue,this.data[o+4+1]=c.green,this.data[o+4+2]=c.red,this.data[o+4+3]=255}e!==0&&(this.pos+=4-e)}},co.prototype.bit8=function(){for(var n=this.width%4,e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),s=t*this.width*4+4*r;if(i<this.palette.length){var o=this.palette[i];this.data[s]=o.red,this.data[s+1]=o.green,this.data[s+2]=o.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}n!==0&&(this.pos+=4-n)}},co.prototype.bit15=function(){for(var n=this.width%3,e=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&e)/e*255|0,a=(s>>5&e)/e*255|0,l=(s>>10&e)/e*255|0,c=s>>15?255:0,u=r*this.width*4+4*i;this.data[u]=l,this.data[u+1]=a,this.data[u+2]=o,this.data[u+3]=c}this.pos+=n}},co.prototype.bit16=function(){for(var n=this.width%3,e=parseInt("11111",2),t=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(o&e)/e*255|0,l=(o>>5&t)/t*255|0,c=(o>>11)/e*255|0,u=i*this.width*4+4*s;this.data[u]=c,this.data[u+1]=l,this.data[u+2]=a,this.data[u+3]=255}this.pos+=n}},co.prototype.bit24=function(){for(var n=this.height-1;n>=0;n--){for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*t;this.data[o]=s,this.data[o+1]=i,this.data[o+2]=r,this.data[o+3]=255}this.pos+=this.width%4}},co.prototype.bit32=function(){for(var n=this.height-1;n>=0;n--)for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*t;this.data[a]=s,this.data[a+1]=i,this.data[a+2]=r,this.data[a+3]=o}},co.prototype.getData=function(){return this.data},function(n){n.processBMP=function(e,t,r,i){var s=new co(e,!1),o=s.width,a=s.height,l={data:s.getData(),width:o,height:a},c=new ME(100).encode(l,100);return n.processJPEG.call(this,c,t,r,i)}}(it.API),H6.prototype.getData=function(){return this.data},function(n){n.processWEBP=function(e,t,r,i){var s=new H6(e),o=s.width,a=s.height,l={data:s.getData(),width:o,height:a},c=new ME(100).encode(l,100);return n.processJPEG.call(this,c,t,r,i)}}(it.API),it.API.processRGBA=function(n,e,t){for(var r=n.data,i=r.length,s=new Uint8Array(i/4*3),o=new Uint8Array(i/4),a=0,l=0,c=0;c<i;c+=4){var u=r[c],d=r[c+1],p=r[c+2],f=r[c+3];s[a++]=u,s[a++]=d,s[a++]=p,o[l++]=f}var y=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:y,index:e,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:n.width,height:n.height}},it.API.setLanguage=function(n){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[n]!==void 0&&(this.internal.languageSettings.languageCode=n,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Xf=it.API,Q5=Xf.getCharWidthsArray=function(n,e){var t,r,i=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),o=e.charSpace||this.internal.getCharSpace(),a=e.widths?e.widths:i.metadata.Unicode.widths,l=a.fof?a.fof:1,c=e.kerning?e.kerning:i.metadata.Unicode.kerning,u=c.fof?c.fof:1,d=e.doKerning!==!1,p=0,f=n.length,y=0,g=a[0]||l,x=[];for(t=0;t<f;t++)r=n.charCodeAt(t),typeof i.metadata.widthOfString=="function"?x.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+o*(1e3/s)||0)/1e3):(p=d&&$t(c[r])==="object"&&!isNaN(parseInt(c[r][y],10))?c[r][y]/u:0,x.push((a[r]||g)/l+p)),y=r;return x},$6=Xf.getStringUnitWidth=function(n,e){var t=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return Xf.processArabic&&(n=Xf.processArabic(n)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(n,t,i)/t:Q5.apply(this,arguments).reduce(function(s,o){return s+o},0)},z6=function(n,e,t,r){for(var i=[],s=0,o=n.length,a=0;s!==o&&a+e[s]<t;)a+=e[s],s++;i.push(n.slice(0,s));var l=s;for(a=0;s!==o;)a+e[s]>r&&(i.push(n.slice(l,s)),a=0,l=s),a+=e[s],s++;return l!==s&&i.push(n.slice(l,s)),i},V6=function(n,e,t){t||(t={});var r,i,s,o,a,l,c,u=[],d=[u],p=t.textIndent||0,f=0,y=0,g=n.split(" "),x=Q5.apply(this,[" ",t])[0];if(l=t.lineIndent===-1?g[0].length+2:t.lineIndent||0){var v=Array(l).join(" "),w=[];g.map(function(C){(C=C.split(/\s*\n/)).length>1?w=w.concat(C.map(function(N,$){return($&&N.length?`
`:"")+N})):w.push(C[0])}),g=w,l=$6.apply(this,[v,t])}for(s=0,o=g.length;s<o;s++){var S=0;if(r=g[s],l&&r[0]==`
`&&(r=r.substr(1),S=1),p+f+(y=(i=Q5.apply(this,[r,t])).reduce(function(C,N){return C+N},0))>e||S){if(y>e){for(a=z6.apply(this,[r,i,e-(p+f),e]),u.push(a.shift()),u=[a.pop()];a.length;)d.push([a.shift()]);y=i.slice(r.length-(u[0]?u[0].length:0)).reduce(function(C,N){return C+N},0)}else u=[r];d.push(u),p=y+l,f=x}else u.push(r),p+=f+y,f=x}return c=l?function(C,N){return(N?v:"")+C.join(" ")}:function(C){return C.join(" ")},d.map(c)},Xf.splitTextToSize=function(n,e,t){var r,i=(t=t||{}).fontSize||this.internal.getFontSize(),s=(function(u){if(u.widths&&u.kerning)return{widths:u.widths,kerning:u.kerning};var d=this.internal.getFont(u.fontName,u.fontStyle);return d.metadata.Unicode?{widths:d.metadata.Unicode.widths||{0:1},kerning:d.metadata.Unicode.kerning||{}}:{font:d.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,t);r=Array.isArray(n)?n:String(n).split(/\r?\n/);var o=1*this.internal.scaleFactor*e/i;s.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=t.lineIndent;var a,l,c=[];for(a=0,l=r.length;a<l;a++)c=c.concat(V6.apply(this,[r[a],o,s]));return c},function(n){n.__fontmetrics__=n.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",t={},r={},i=0;i<e.length;i++)t[e[i]]="0123456789abcdef"[i],r["0123456789abcdef"[i]]=e[i];var s=function(d){return"0x"+parseInt(d,10).toString(16)},o=n.__fontmetrics__.compress=function(d){var p,f,y,g,x=["{"];for(var v in d){if(p=d[v],isNaN(parseInt(v,10))?f="'"+v+"'":(v=parseInt(v,10),f=(f=s(v).slice(2)).slice(0,-1)+r[f.slice(-1)]),typeof p=="number")p<0?(y=s(p).slice(3),g="-"):(y=s(p).slice(2),g=""),y=g+y.slice(0,-1)+r[y.slice(-1)];else{if($t(p)!=="object")throw new Error("Don't know what to do with value type "+$t(p)+".");y=o(p)}x.push(f+y)}return x.push("}"),x.join("")},a=n.__fontmetrics__.uncompress=function(d){if(typeof d!="string")throw new Error("Invalid argument passed to uncompress.");for(var p,f,y,g,x={},v=1,w=x,S=[],C="",N="",$=d.length-1,R=1;R<$;R+=1)(g=d[R])=="'"?p?(y=p.join(""),p=void 0):p=[]:p?p.push(g):g=="{"?(S.push([w,y]),w={},y=void 0):g=="}"?((f=S.pop())[0][f[1]]=w,y=void 0,w=f[0]):g=="-"?v=-1:y===void 0?t.hasOwnProperty(g)?(C+=t[g],y=parseInt(C,16)*v,v=1,C=""):C+=g:t.hasOwnProperty(g)?(N+=t[g],w[y]=parseInt(N,16)*v,v=1,y=void 0,N=""):N+=g;return x},l={codePages:["WinAnsiEncoding"],WinAnsiEncoding:a("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},c={Unicode:{Courier:l,"Courier-Bold":l,"Courier-BoldOblique":l,"Courier-Oblique":l,Helvetica:l,"Helvetica-Bold":l,"Helvetica-BoldOblique":l,"Helvetica-Oblique":l,"Times-Roman":l,"Times-Bold":l,"Times-BoldItalic":l,"Times-Italic":l}},u={Unicode:{"Courier-Oblique":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":a("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":a("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":a("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:a("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:a("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":a("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:a("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":a("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":a("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":a("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};n.events.push(["addFont",function(d){var p=d.font,f=u.Unicode[p.postScriptName];f&&(p.metadata.Unicode={},p.metadata.Unicode.widths=f.widths,p.metadata.Unicode.kerning=f.kerning);var y=c.Unicode[p.postScriptName];y&&(p.metadata.Unicode.encoding=y,p.encoding=y.codePages[0])}])}(it.API),function(n){var e=function(t){for(var r=t.length,i=new Uint8Array(r),s=0;s<r;s++)i[s]=t.charCodeAt(s);return i};n.API.events.push(["addFont",function(t){var r=void 0,i=t.font,s=t.instance;if(!i.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=s.existsFileInVFS(i.postScriptName)===!1?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(o,a){a=/^\x00\x01\x00\x00/.test(a)?e(a):e(g1(a)),o.metadata=n.API.TTFFont.open(a),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(i,r)}}])}(it),function(n){function e(){return(st.canvg?Promise.resolve(st.canvg):qw(()=>import("./index.es-0e45f15d.js"),[])).catch(function(t){return Promise.reject(new Error("Could not load canvg: "+t))}).then(function(t){return t.default?t.default:t})}it.API.addSvgAsImage=function(t,r,i,s,o,a,l,c){if(isNaN(r)||isNaN(i))throw Jt.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(s)||isNaN(o))throw Jt.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var u=document.createElement("canvas");u.width=s,u.height=o;var d=u.getContext("2d");d.fillStyle="#fff",d.fillRect(0,0,u.width,u.height);var p={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},f=this;return e().then(function(y){return y.fromString(d,t,p)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(y){return y.render(p)}).then(function(){f.addImage(u.toDataURL("image/jpeg",1),r,i,s,o,l,c)})}}(),it.API.putTotalPages=function(n){var e,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(n,"g"),t=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(n,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(e,t);return this},it.API.viewerPreferences=function(n,e){var t;n=n||{},e=e||!1;var r,i,s,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},a=Object.keys(o),l=[],c=0,u=0,d=0;function p(y,g){var x,v=!1;for(x=0;x<y.length;x+=1)y[x]===g&&(v=!0);return v}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,n==="reset"||e===!0){var f=a.length;for(d=0;d<f;d+=1)t[a[d]].value=t[a[d]].defaultValue,t[a[d]].explicitSet=!1}if($t(n)==="object"){for(i in n)if(s=n[i],p(a,i)&&s!==void 0){if(t[i].type==="boolean"&&typeof s=="boolean")t[i].value=s;else if(t[i].type==="name"&&p(t[i].valueSet,s))t[i].value=s;else if(t[i].type==="integer"&&Number.isInteger(s))t[i].value=s;else if(t[i].type==="array"){for(c=0;c<s.length;c+=1)if(r=!0,s[c].length===1&&typeof s[c][0]=="number")l.push(String(s[c]-1));else if(s[c].length>1){for(u=0;u<s[c].length;u+=1)typeof s[c][u]!="number"&&(r=!1);r===!0&&l.push([s[c][0]-1,s[c][1]-1].join(" "))}t[i].value="["+l.join(" ")+"]"}else t[i].value=t[i].defaultValue;t[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var y,g=[];for(y in t)t[y].explicitSet===!0&&(t[y].type==="name"?g.push("/"+y+" /"+t[y].value):g.push("/"+y+" "+t[y].value));g.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+g.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},function(n){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(r)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),a=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),c=s.length+o.length+a.length+i.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+c+" >>"),this.internal.write("stream"),this.internal.write(i+s+o+a+l),this.internal.write("endstream"),this.internal.write("endobj")},t=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};n.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",t),this.internal.events.subscribe("postPutResources",e)),this}}(it.API),function(n){var e=n.API,t=e.pdfEscape16=function(s,o){for(var a,l=o.metadata.Unicode.widths,c=["","0","00","000","0000"],u=[""],d=0,p=s.length;d<p;++d){if(a=o.metadata.characterToGlyph(s.charCodeAt(d)),o.metadata.glyIdsUsed.push(a),o.metadata.toUnicode[a]=s.charCodeAt(d),l.indexOf(a)==-1&&(l.push(a),l.push([parseInt(o.metadata.widthOfGlyph(a),10)])),a=="0")return u.join("");a=a.toString(16),u.push(c[4-a.length],a)}return u.join("")},r=function(s){var o,a,l,c,u,d,p;for(u=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],d=0,p=(a=Object.keys(s).sort(function(f,y){return f-y})).length;d<p;d++)o=a[d],l.length>=100&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),s[o]!==void 0&&s[o]!==null&&typeof s[o].toString=="function"&&(c=("0000"+s[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),l.push("<"+o+"><"+c+">"));return l.length&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),u+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(s){(function(o){var a=o.font,l=o.out,c=o.newObject,u=o.putStream;if(a.metadata instanceof n.API.TTFFont&&a.encoding==="Identity-H"){for(var d=a.metadata.Unicode.widths,p=a.metadata.subset.encode(a.metadata.glyIdsUsed,1),f="",y=0;y<p.length;y++)f+=String.fromCharCode(p[y]);var g=c();u({data:f,addLength1:!0,objectId:g}),l("endobj");var x=c();u({data:r(a.metadata.toUnicode),addLength1:!0,objectId:x}),l("endobj");var v=c();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+Kf(a.fontName)),l("/FontFile2 "+g+" 0 R"),l("/FontBBox "+n.API.PDFObject.convert(a.metadata.bbox)),l("/Flags "+a.metadata.flags),l("/StemV "+a.metadata.stemV),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l(">>"),l("endobj");var w=c();l("<<"),l("/Type /Font"),l("/BaseFont /"+Kf(a.fontName)),l("/FontDescriptor "+v+" 0 R"),l("/W "+n.API.PDFObject.convert(d)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+a.encoding+")"),l(">>"),l(">>"),l("endobj"),a.objectNumber=c(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+x+" 0 R"),l("/BaseFont /"+Kf(a.fontName)),l("/Encoding /"+a.encoding),l("/DescendantFonts ["+w+" 0 R]"),l(">>"),l("endobj"),a.isAlreadyPutted=!0}})(s)}]),e.events.push(["putFont",function(s){(function(o){var a=o.font,l=o.out,c=o.newObject,u=o.putStream;if(a.metadata instanceof n.API.TTFFont&&a.encoding==="WinAnsiEncoding"){for(var d=a.metadata.rawData,p="",f=0;f<d.length;f++)p+=String.fromCharCode(d[f]);var y=c();u({data:p,addLength1:!0,objectId:y}),l("endobj");var g=c();u({data:r(a.metadata.toUnicode),addLength1:!0,objectId:g}),l("endobj");var x=c();l("<<"),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l("/StemV "+a.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+y+" 0 R"),l("/Flags 96"),l("/FontBBox "+n.API.PDFObject.convert(a.metadata.bbox)),l("/FontName /"+Kf(a.fontName)),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l(">>"),l("endobj"),a.objectNumber=c();for(var v=0;v<a.metadata.hmtx.widths.length;v++)a.metadata.hmtx.widths[v]=parseInt(a.metadata.hmtx.widths[v]*(1e3/a.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+g+" 0 R/BaseFont/"+Kf(a.fontName)+"/FontDescriptor "+x+" 0 R/Encoding/"+a.encoding+" /FirstChar 29 /LastChar 255 /Widths "+n.API.PDFObject.convert(a.metadata.hmtx.widths)+">>"),l("endobj"),a.isAlreadyPutted=!0}})(s)}]);var i=function(s){var o,a=s.text||"",l=s.x,c=s.y,u=s.options||{},d=s.mutex||{},p=d.pdfEscape,f=d.activeFontKey,y=d.fonts,g=f,x="",v=0,w="",S=y[g].encoding;if(y[g].encoding!=="Identity-H")return{text:a,x:l,y:c,options:u,mutex:d};for(w=a,g=f,Array.isArray(a)&&(w=a[0]),v=0;v<w.length;v+=1)y[g].metadata.hasOwnProperty("cmap")&&(o=y[g].metadata.cmap.unicode.codeMap[w[v].charCodeAt(0)]),o||w[v].charCodeAt(0)<256&&y[g].metadata.hasOwnProperty("Unicode")?x+=w[v]:x+="";var C="";return parseInt(g.slice(1))<14||S==="WinAnsiEncoding"?C=p(x,g).split("").map(function(N){return N.charCodeAt(0).toString(16)}).join(""):S==="Identity-H"&&(C=t(x,y[g])),d.isHex=!0,{text:C,x:l,y:c,options:u,mutex:d}};e.events.push(["postProcessText",function(s){var o=s.text||"",a=[],l={text:o,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(o)){var c=0;for(c=0;c<o.length;c+=1)Array.isArray(o[c])&&o[c].length===3?a.push([i(Object.assign({},l,{text:o[c][0]})).text,o[c][1],o[c][2]]):a.push(i(Object.assign({},l,{text:o[c]})).text);s.text=a}else s.text=i(Object.assign({},l,{text:o})).text}])}(it),function(n){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};n.existsFileInVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0},n.addFileToVFS=function(t,r){return e.call(this),this.internal.vFS[t]=r,this},n.getFileFromVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0?this.internal.vFS[t]:null}}(it.API),function(n){n.__bidiEngine__=n.prototype.__bidiEngine__=function(r){var i,s,o,a,l,c,u,d=e,p=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],f=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],y={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},g={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},x=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],v=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),w=!1,S=0;this.__bidiEngine__={};var C=function(M){var j=M.charCodeAt(),K=j>>8,U=g[K];return U!==void 0?d[256*U+(255&j)]:K===252||K===253?"AL":v.test(K)?"L":K===8?"R":"N"},N=function(M){for(var j,K=0;K<M.length;K++){if((j=C(M.charAt(K)))==="L")return!1;if(j==="R")return!0}return!1},$=function(M,j,K,U){var le,Q,ne,Y,se=j[U];switch(se){case"L":case"R":w=!1;break;case"N":case"AN":break;case"EN":w&&(se="AN");break;case"AL":w=!0,se="R";break;case"WS":se="N";break;case"CS":U<1||U+1>=j.length||(le=K[U-1])!=="EN"&&le!=="AN"||(Q=j[U+1])!=="EN"&&Q!=="AN"?se="N":w&&(Q="AN"),se=Q===le?Q:"N";break;case"ES":se=(le=U>0?K[U-1]:"B")==="EN"&&U+1<j.length&&j[U+1]==="EN"?"EN":"N";break;case"ET":if(U>0&&K[U-1]==="EN"){se="EN";break}if(w){se="N";break}for(ne=U+1,Y=j.length;ne<Y&&j[ne]==="ET";)ne++;se=ne<Y&&j[ne]==="EN"?"EN":"N";break;case"NSM":if(o&&!a){for(Y=j.length,ne=U+1;ne<Y&&j[ne]==="NSM";)ne++;if(ne<Y){var de=M[U],be=de>=1425&&de<=2303||de===64286;if(le=j[ne],be&&(le==="R"||le==="AL")){se="R";break}}}se=U<1||(le=j[U-1])==="B"?"N":K[U-1];break;case"B":w=!1,i=!0,se=S;break;case"S":s=!0,se="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":w=!1;break;case"BN":se="N"}return se},R=function(M,j,K){var U=M.split("");return K&&k(U,K,{hiLevel:S}),U.reverse(),j&&j.reverse(),U.join("")},k=function(M,j,K){var U,le,Q,ne,Y,se=-1,de=M.length,be=0,D=[],G=S?f:p,Z=[];for(w=!1,i=!1,s=!1,le=0;le<de;le++)Z[le]=C(M[le]);for(Q=0;Q<de;Q++){if(Y=be,D[Q]=$(M,Z,D,Q),U=240&(be=G[Y][y[D[Q]]]),be&=15,j[Q]=ne=G[be][5],U>0)if(U===16){for(le=se;le<Q;le++)j[le]=1;se=-1}else se=-1;if(G[be][6])se===-1&&(se=Q);else if(se>-1){for(le=se;le<Q;le++)j[le]=ne;se=-1}Z[Q]==="B"&&(j[Q]=0),K.hiLevel|=ne}s&&function(re,oe,ie){for(var pe=0;pe<ie;pe++)if(re[pe]==="S"){oe[pe]=S;for(var ge=pe-1;ge>=0&&re[ge]==="WS";ge--)oe[ge]=S}}(Z,j,de)},W=function(M,j,K,U,le){if(!(le.hiLevel<M)){if(M===1&&S===1&&!i)return j.reverse(),void(K&&K.reverse());for(var Q,ne,Y,se,de=j.length,be=0;be<de;){if(U[be]>=M){for(Y=be+1;Y<de&&U[Y]>=M;)Y++;for(se=be,ne=Y-1;se<ne;se++,ne--)Q=j[se],j[se]=j[ne],j[ne]=Q,K&&(Q=K[se],K[se]=K[ne],K[ne]=Q);be=Y}be++}}},X=function(M,j,K){var U=M.split(""),le={hiLevel:S};return K||(K=[]),k(U,K,le),function(Q,ne,Y){if(Y.hiLevel!==0&&u)for(var se,de=0;de<Q.length;de++)ne[de]===1&&(se=x.indexOf(Q[de]))>=0&&(Q[de]=x[se+1])}(U,K,le),W(2,U,j,K,le),W(1,U,j,K,le),U.join("")};return this.__bidiEngine__.doBidiReorder=function(M,j,K){if(function(le,Q){if(Q)for(var ne=0;ne<le.length;ne++)Q[ne]=ne;a===void 0&&(a=N(le)),c===void 0&&(c=N(le))}(M,j),o||!l||c)if(o&&l&&a^c)S=a?1:0,M=R(M,j,K);else if(!o&&l&&c)S=a?1:0,M=X(M,j,K),M=R(M,j);else if(!o||a||l||c){if(o&&!l&&a^c)M=R(M,j),a?(S=0,M=X(M,j,K)):(S=1,M=X(M,j,K),M=R(M,j));else if(o&&a&&!l&&c)S=1,M=X(M,j,K),M=R(M,j);else if(!o&&!l&&a^c){var U=u;a?(S=1,M=X(M,j,K),S=0,u=!1,M=X(M,j,K),u=U):(S=0,M=X(M,j,K),M=R(M,j),S=1,u=!1,M=X(M,j,K),u=U,M=R(M,j))}}else S=0,M=X(M,j,K);else S=a?1:0,M=X(M,j,K);return M},this.__bidiEngine__.setOptions=function(M){M&&(o=M.isInputVisual,l=M.isOutputVisual,a=M.isInputRtl,c=M.isOutputRtl,u=M.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new n.__bidiEngine__({isInputVisual:!0});n.API.events.push(["postProcessText",function(r){var i=r.text;r.x,r.y;var s=r.options||{};r.mutex,s.lang;var o=[];if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,t.setOptions(s),Object.prototype.toString.call(i)==="[object Array]"){var a=0;for(o=[],a=0;a<i.length;a+=1)Object.prototype.toString.call(i[a])==="[object Array]"?o.push([t.doBidiReorder(i[a][0]),i[a][1],i[a][2]]):o.push([t.doBidiReorder(i[a])]);r.text=o}else r.text=t.doBidiReorder(i);t.setOptions({isInputVisual:!0})}])}(it),it.API.TTFFont=function(){function n(e){var t;if(this.rawData=e,t=this.contents=new Fu(e),this.contents.pos=4,t.readString(4)==="ttcf")throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new KQ(this),this.registerTTF()}return n.open=function(e){return new n(e)},n.prototype.parse=function(){return this.directory=new DQ(this.contents),this.head=new jQ(this),this.name=new UQ(this),this.cmap=new k7(this),this.toUnicode={},this.hhea=new BQ(this),this.maxp=new HQ(this),this.hmtx=new qQ(this),this.post=new zQ(this),this.os2=new $Q(this),this.loca=new YQ(this),this.glyf=new WQ(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},n.prototype.registerTTF=function(){var e,t,r,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,a,l,c;for(c=[],o=0,a=(l=this.bbox).length;o<a;o++)e=l[o],c.push(Math.round(e*this.scaleFactor));return c}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),32768&(t=i>>16)&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},n.prototype.characterToGlyph=function(e){var t;return((t=this.cmap.unicode)!=null?t.codeMap[e]:void 0)||0},n.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},n.prototype.widthOfString=function(e,t,r){var i,s,o,a;for(o=0,s=0,a=(e=""+e).length;0<=a?s<a:s>a;s=0<=a?++s:--s)i=e.charCodeAt(s),o+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/t)||0;return o*(t/1e3)},n.prototype.lineHeight=function(e,t){var r;return t==null&&(t=!1),r=t?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},n}();var $o,Fu=function(){function n(e){this.data=e??[],this.pos=0,this.length=this.data.length}return n.prototype.readByte=function(){return this.data[this.pos++]},n.prototype.writeByte=function(e){return this.data[this.pos++]=e},n.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},n.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},n.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},n.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},n.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},n.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},n.prototype.readString=function(e){var t,r;for(r=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)r[t]=String.fromCharCode(this.readByte());return r.join("")},n.prototype.writeString=function(e){var t,r,i;for(i=[],t=0,r=e.length;0<=r?t<r:t>r;t=0<=r?++t:--t)i.push(this.writeByte(e.charCodeAt(t)));return i},n.prototype.readShort=function(){return this.readInt16()},n.prototype.writeShort=function(e){return this.writeInt16(e)},n.prototype.readLongLong=function(){var e,t,r,i,s,o,a,l;return e=this.readByte(),t=this.readByte(),r=this.readByte(),i=this.readByte(),s=this.readByte(),o=this.readByte(),a=this.readByte(),l=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^s)+65536*(255^o)+256*(255^a)+(255^l)+1):72057594037927940*e+281474976710656*t+1099511627776*r+4294967296*i+16777216*s+65536*o+256*a+l},n.prototype.writeLongLong=function(e){var t,r;return t=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},n.prototype.readInt=function(){return this.readInt32()},n.prototype.writeInt=function(e){return this.writeInt32(e)},n.prototype.read=function(e){var t,r;for(t=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)t.push(this.readByte());return t},n.prototype.write=function(e){var t,r,i,s;for(s=[],r=0,i=e.length;r<i;r++)t=e[r],s.push(this.writeByte(t));return s},n}(),DQ=function(){var n;function e(t){var r,i,s;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)r={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(t){var r,i,s,o,a,l,c,u,d,p,f,y,g;for(g in f=Object.keys(t).length,l=Math.log(2),d=16*Math.floor(Math.log(f)/l),o=Math.floor(d/l),u=16*f-d,(i=new Fu).writeInt(this.scalarType),i.writeShort(f),i.writeShort(d),i.writeShort(o),i.writeShort(u),s=16*f,c=i.pos+s,a=null,y=[],t)for(p=t[g],i.writeString(g),i.writeInt(n(p)),i.writeInt(c),i.writeInt(p.length),y=y.concat(p),g==="head"&&(a=c),c+=p.length;c%4;)y.push(0),c++;return i.write(y),r=2981146554-n(i.data),i.pos=a+8,i.writeUInt32(r),i.data},n=function(t){var r,i,s,o;for(t=R7.call(t);t.length%4;)t.push(0);for(s=new Fu(t),i=0,r=0,o=t.length;r<o;r=r+=4)i+=s.readUInt32();return 4294967295&i},e}(),OQ={}.hasOwnProperty,Fa=function(n,e){for(var t in e)OQ.call(e,t)&&(n[t]=e[t]);function r(){this.constructor=n}return r.prototype=e.prototype,n.prototype=new r,n.__super__=e.prototype,n};$o=function(){function n(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return n.prototype.parse=function(){},n.prototype.encode=function(){},n.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},n}();var jQ=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Fa(e,$o),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var r;return(r=new Fu).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(t),r.writeShort(this.glyphDataFormat),r.data},e}(),q6=function(){function n(e,t){var r,i,s,o,a,l,c,u,d,p,f,y,g,x,v,w,S;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),d=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=e.readByte();break;case 4:for(f=e.readUInt16(),p=f/2,e.pos+=6,s=function(){var C,N;for(N=[],l=C=0;0<=p?C<p:C>p;l=0<=p?++C:--C)N.push(e.readUInt16());return N}(),e.pos+=2,g=function(){var C,N;for(N=[],l=C=0;0<=p?C<p:C>p;l=0<=p?++C:--C)N.push(e.readUInt16());return N}(),c=function(){var C,N;for(N=[],l=C=0;0<=p?C<p:C>p;l=0<=p?++C:--C)N.push(e.readUInt16());return N}(),u=function(){var C,N;for(N=[],l=C=0;0<=p?C<p:C>p;l=0<=p?++C:--C)N.push(e.readUInt16());return N}(),i=(this.length-e.pos+this.offset)/2,a=function(){var C,N;for(N=[],l=C=0;0<=i?C<i:C>i;l=0<=i?++C:--C)N.push(e.readUInt16());return N}(),l=v=0,S=s.length;v<S;l=++v)for(x=s[l],r=w=y=g[l];y<=x?w<=x:w>=x;r=y<=x?++w:--w)u[l]===0?o=r+c[l]:(o=a[u[l]/2+(r-y)-(p-l)]||0)!==0&&(o+=c[l]),this.codeMap[r]=65535&o}e.pos=d}return n.encode=function(e,t){var r,i,s,o,a,l,c,u,d,p,f,y,g,x,v,w,S,C,N,$,R,k,W,X,M,j,K,U,le,Q,ne,Y,se,de,be,D,G,Z,re,oe,ie,pe,ge,Ee,Ae,Ne;switch(U=new Fu,o=Object.keys(e).sort(function(Re,qe){return Re-qe}),t){case"macroman":for(g=0,x=function(){var Re=[];for(y=0;y<256;++y)Re.push(0);return Re}(),w={0:0},s={},le=0,se=o.length;le<se;le++)w[ge=e[i=o[le]]]==null&&(w[ge]=++g),s[i]={old:e[i],new:w[e[i]]},x[i]=w[e[i]];return U.writeUInt16(1),U.writeUInt16(0),U.writeUInt32(12),U.writeUInt16(0),U.writeUInt16(262),U.writeUInt16(0),U.write(x),{charMap:s,subtable:U.data,maxGlyphID:g+1};case"unicode":for(j=[],d=[],S=0,w={},r={},v=c=null,Q=0,de=o.length;Q<de;Q++)w[N=e[i=o[Q]]]==null&&(w[N]=++S),r[i]={old:N,new:w[N]},a=w[N]-i,v!=null&&a===c||(v&&d.push(v),j.push(i),c=a),v=i;for(v&&d.push(v),d.push(65535),j.push(65535),X=2*(W=j.length),k=2*Math.pow(Math.log(W)/Math.LN2,2),p=Math.log(k/2)/Math.LN2,R=2*W-k,l=[],$=[],f=[],y=ne=0,be=j.length;ne<be;y=++ne){if(M=j[y],u=d[y],M===65535){l.push(0),$.push(0);break}if(M-(K=r[M].new)>=32768)for(l.push(0),$.push(2*(f.length+W-y)),i=Y=M;M<=u?Y<=u:Y>=u;i=M<=u?++Y:--Y)f.push(r[i].new);else l.push(K-M),$.push(0)}for(U.writeUInt16(3),U.writeUInt16(1),U.writeUInt32(12),U.writeUInt16(4),U.writeUInt16(16+8*W+2*f.length),U.writeUInt16(0),U.writeUInt16(X),U.writeUInt16(k),U.writeUInt16(p),U.writeUInt16(R),ie=0,D=d.length;ie<D;ie++)i=d[ie],U.writeUInt16(i);for(U.writeUInt16(0),pe=0,G=j.length;pe<G;pe++)i=j[pe],U.writeUInt16(i);for(Ee=0,Z=l.length;Ee<Z;Ee++)a=l[Ee],U.writeUInt16(a);for(Ae=0,re=$.length;Ae<re;Ae++)C=$[Ae],U.writeUInt16(C);for(Ne=0,oe=f.length;Ne<oe;Ne++)g=f[Ne],U.writeUInt16(g);return{charMap:r,subtable:U.data,maxGlyphID:S+1}}},n}(),k7=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Fa(e,$o),e.prototype.tag="cmap",e.prototype.parse=function(t){var r,i,s;for(t.pos=this.offset,this.version=t.readUInt16(),s=t.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=s?i<s:i>s;i=0<=s?++i:--i)r=new q6(t,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},e.encode=function(t,r){var i,s;return r==null&&(r="macroman"),i=q6.encode(t,r),(s=new Fu).writeUInt16(0),s.writeUInt16(1),i.table=s.data.concat(i.subtable),i},e}(),BQ=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Fa(e,$o),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e}(),$Q=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Fa(e,$o),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=function(){var r,i;for(i=[],r=0;r<10;++r)i.push(t.readByte());return i}(),this.charRange=function(){var r,i;for(i=[],r=0;r<4;++r)i.push(t.readInt());return i}(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=function(){var r,i;for(i=[],r=0;r<2;r=++r)i.push(t.readInt());return i}(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e}(),zQ=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Fa(e,$o),e.prototype.tag="post",e.prototype.parse=function(t){var r,i,s;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:break;case 131072:var o;for(i=t.readUInt16(),this.glyphNameIndex=[],o=0;0<=i?o<i:o>i;o=0<=i?++o:--o)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],s=[];t.pos<this.offset+this.length;)r=t.readByte(),s.push(this.names.push(t.readString(r)));return s;case 151552:return i=t.readUInt16(),this.offsets=t.read(i);case 196608:break;case 262144:return this.map=(function(){var a,l,c;for(c=[],o=a=0,l=this.file.maxp.numGlyphs;0<=l?a<l:a>l;o=0<=l?++a:--a)c.push(t.readUInt32());return c}).call(this)}},e}(),VQ=function(n,e){this.raw=n,this.length=n.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},UQ=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Fa(e,$o),e.prototype.tag="name",e.prototype.parse=function(t){var r,i,s,o,a,l,c,u,d,p,f;for(t.pos=this.offset,t.readShort(),r=t.readShort(),l=t.readShort(),i=[],o=0;0<=r?o<r:o>r;o=0<=r?++o:--o)i.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+l+t.readShort()});for(c={},o=d=0,p=i.length;d<p;o=++d)s=i[o],t.pos=s.offset,u=t.readString(s.length),a=new VQ(u,s),c[f=s.nameID]==null&&(c[f]=[]),c[s.nameID].push(a);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},e}(),HQ=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Fa(e,$o),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e}(),qQ=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Fa(e,$o),e.prototype.tag="hmtx",e.prototype.parse=function(t){var r,i,s,o,a,l,c;for(t.pos=this.offset,this.metrics=[],r=0,l=this.file.hhea.numberOfMetrics;0<=l?r<l:r>l;r=0<=l?++r:--r)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var u,d;for(d=[],r=u=0;0<=s?u<s:u>s;r=0<=s?++u:--u)d.push(t.readInt16());return d}(),this.widths=(function(){var u,d,p,f;for(f=[],u=0,d=(p=this.metrics).length;u<d;u++)o=p[u],f.push(o.advance);return f}).call(this),i=this.widths[this.widths.length-1],c=[],r=a=0;0<=s?a<s:a>s;r=0<=s?++a:--a)c.push(this.widths.push(i));return c},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e}(),R7=[].slice,WQ=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Fa(e,$o),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var r,i,s,o,a,l,c,u,d,p;return t in this.cache?this.cache[t]:(o=this.file.loca,r=this.file.contents,i=o.indexOf(t),(s=o.lengthOf(t))===0?this.cache[t]=null:(r.pos=this.offset+i,a=(l=new Fu(r.read(s))).readShort(),u=l.readShort(),p=l.readShort(),c=l.readShort(),d=l.readShort(),this.cache[t]=a===-1?new XQ(l,u,p,c,d):new GQ(l,a,u,p,c,d),this.cache[t]))},e.prototype.encode=function(t,r,i){var s,o,a,l,c;for(a=[],o=[],l=0,c=r.length;l<c;l++)s=t[r[l]],o.push(a.length),s&&(a=a.concat(s.encode(i)));return o.push(a.length),{table:a,offsets:o}},e}(),GQ=function(){function n(e,t,r,i,s,o){this.raw=e,this.numberOfContours=t,this.xMin=r,this.yMin=i,this.xMax=s,this.yMax=o,this.compound=!1}return n.prototype.encode=function(){return this.raw.data},n}(),XQ=function(){function n(e,t,r,i,s){var o,a;for(this.raw=e,this.xMin=t,this.yMin=r,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;a=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&a;)o.pos+=1&a?4:2,128&a?o.pos+=8:64&a?o.pos+=4:8&a&&(o.pos+=2)}return n.prototype.encode=function(){var e,t,r;for(t=new Fu(R7.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)t.pos=this.glyphOffsets[e];return t.data},n}(),YQ=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Fa(e,$o),e.prototype.tag="loca",e.prototype.parse=function(t){var r,i;return t.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var s,o;for(o=[],i=0,s=this.length;i<s;i+=2)o.push(2*t.readUInt16());return o}).call(this):(function(){var s,o;for(o=[],i=0,s=this.length;i<s;i+=4)o.push(t.readUInt32());return o}).call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,r){for(var i=new Uint32Array(this.offsets.length),s=0,o=0,a=0;a<i.length;++a)if(i[a]=s,o<r.length&&r[o]==a){++o,i[a]=s;var l=this.offsets[a],c=this.offsets[a+1]-l;c>0&&(s+=c)}for(var u=new Array(4*i.length),d=0;d<i.length;++d)u[4*d+3]=255&i[d],u[4*d+2]=(65280&i[d])>>8,u[4*d+1]=(16711680&i[d])>>16,u[4*d]=(4278190080&i[d])>>24;return u},e}(),KQ=function(){function n(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return n.prototype.generateCmap=function(){var e,t,r,i,s;for(t in i=this.font.cmap.tables[0].codeMap,e={},s=this.subset)r=s[t],e[t]=i[r];return e},n.prototype.glyphsFor=function(e){var t,r,i,s,o,a,l;for(i={},o=0,a=e.length;o<a;o++)i[s=e[o]]=this.font.glyf.glyphFor(s);for(s in t=[],i)(r=i[s])!=null&&r.compound&&t.push.apply(t,r.glyphIDs);if(t.length>0)for(s in l=this.glyphsFor(t))r=l[s],i[s]=r;return i},n.prototype.encode=function(e,t){var r,i,s,o,a,l,c,u,d,p,f,y,g,x,v;for(i in r=k7.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(e),f={0:0},v=r.charMap)f[(l=v[i]).old]=l.new;for(y in p=r.maxGlyphID,o)y in f||(f[y]=p++);return u=function(w){var S,C;for(S in C={},w)C[w[S]]=S;return C}(f),d=Object.keys(u).sort(function(w,S){return w-S}),g=function(){var w,S,C;for(C=[],w=0,S=d.length;w<S;w++)a=d[w],C.push(u[a]);return C}(),s=this.font.glyf.encode(o,g,f),c=this.font.loca.encode(s.offsets,g),x={cmap:this.font.cmap.raw(),glyf:s.table,loca:c,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(x["OS/2"]=this.font.os2.raw()),this.font.directory.encode(x)},n}();it.API.PDFObject=function(){var n;function e(){}return n=function(t,r){return(Array(r+1).join("0")+t).slice(-r)},e.convert=function(t){var r,i,s,o;if(Array.isArray(t))return"["+function(){var a,l,c;for(c=[],a=0,l=t.length;a<l;a++)r=t[a],c.push(e.convert(r));return c}().join(" ")+"]";if(typeof t=="string")return"/"+t;if(t!=null&&t.isString)return"("+t+")";if(t instanceof Date)return"(D:"+n(t.getUTCFullYear(),4)+n(t.getUTCMonth(),2)+n(t.getUTCDate(),2)+n(t.getUTCHours(),2)+n(t.getUTCMinutes(),2)+n(t.getUTCSeconds(),2)+"Z)";if({}.toString.call(t)==="[object Object]"){for(i in s=["<<"],t)o=t[i],s.push("/"+i+" "+e.convert(o));return s.push(">>"),s.join(`
`)}return""+t},e}();const vi=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),C_=[.001,0,0,.001,0,0],FE=1.35,ds={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},Sc={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},I7="pdfjs_internal_editor_",ht={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15,SIGNATURE:101},_t={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35,DRAW_STEP:41},JQ={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},Kr={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},Nb={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},Kn={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},Jf={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},RS={ERRORS:0,WARNINGS:1,INFOS:5},Xw={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93,rawFillPath:94},Z5={moveTo:0,lineTo:1,curveTo:2,closePath:3},QQ={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let IS=RS.WARNINGS;function ZQ(n){Number.isInteger(n)&&(IS=n)}function eZ(){return IS}function MS(n){IS>=RS.INFOS&&console.log(`Info: ${n}`)}function ft(n){IS>=RS.WARNINGS&&console.log(`Warning: ${n}`)}function qt(n){throw new Error(n)}function er(n,e){n||qt(e)}function tZ(n){switch(n==null?void 0:n.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function M7(n,e=null,t=null){if(!n)return null;if(t&&typeof n=="string"){if(t.addDefaultProtocol&&n.startsWith("www.")){const i=n.match(/\./g);(i==null?void 0:i.length)>=2&&(n=`http://${n}`)}if(t.tryConvertEncoding)try{n=oZ(n)}catch{}}const r=e?URL.parse(n,e):URL.parse(n);return tZ(r)?r:null}function F7(n,e,t=!1){const r=URL.parse(n);return r?(r.hash=e,r.href):t&&M7(n,"http://example.com")?n.split("#",1)[0]+`${e?`#${e}`:""}`:""}function Ct(n,e,t,r=!1){return Object.defineProperty(n,e,{value:t,enumerable:!r,configurable:!0,writable:!1}),t}const df=function(){function e(t,r){this.message=t,this.name=r}return e.prototype=new Error,e.constructor=e,e}();class W6 extends df{constructor(e,t){super(e,"PasswordException"),this.code=t}}class DE extends df{constructor(e,t){super(e,"UnknownErrorException"),this.details=t}}class __ extends df{constructor(e){super(e,"InvalidPDFException")}}class Yw extends df{constructor(e,t,r){super(e,"ResponseException"),this.status=t,this.missing=r}}class nZ extends df{constructor(e){super(e,"FormatError")}}class Du extends df{constructor(e){super(e,"AbortException")}}function D7(n){(typeof n!="object"||(n==null?void 0:n.length)===void 0)&&qt("Invalid argument for bytesToString");const e=n.length,t=8192;if(e<t)return String.fromCharCode.apply(null,n);const r=[];for(let i=0;i<e;i+=t){const s=Math.min(i+t,e),o=n.subarray(i,s);r.push(String.fromCharCode.apply(null,o))}return r.join("")}function S2(n){typeof n!="string"&&qt("Invalid argument for stringToBytes");const e=n.length,t=new Uint8Array(e);for(let r=0;r<e;++r)t[r]=n.charCodeAt(r)&255;return t}function rZ(n){return String.fromCharCode(n>>24&255,n>>16&255,n>>8&255,n&255)}function iZ(){const n=new Uint8Array(4);return n[0]=1,new Uint32Array(n.buffer,0,1)[0]===1}function sZ(){try{return new Function(""),!0}catch{return!1}}class Or{static get isLittleEndian(){return Ct(this,"isLittleEndian",iZ())}static get isEvalSupported(){return Ct(this,"isEvalSupported",sZ())}static get isOffscreenCanvasSupported(){return Ct(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get isImageDecoderSupported(){return Ct(this,"isImageDecoderSupported",typeof ImageDecoder<"u")}static get platform(){const{platform:e,userAgent:t}=navigator;return Ct(this,"platform",{isAndroid:t.includes("Android"),isLinux:e.includes("Linux"),isMac:e.includes("Mac"),isWindows:e.includes("Win"),isFirefox:t.includes("Firefox")})}static get isCSSRoundSupported(){var e,t;return Ct(this,"isCSSRoundSupported",(t=(e=globalThis.CSS)==null?void 0:e.supports)==null?void 0:t.call(e,"width: round(1.5px, 1px)"))}}const OE=Array.from(Array(256).keys(),n=>n.toString(16).padStart(2,"0"));var jp,Tb,X1,P_;class Ke{static makeHexColor(e,t,r){return`#${OE[e]}${OE[t]}${OE[r]}`}static scaleMinMax(e,t){let r;e[0]?(e[0]<0&&(r=t[0],t[0]=t[2],t[2]=r),t[0]*=e[0],t[2]*=e[0],e[3]<0&&(r=t[1],t[1]=t[3],t[3]=r),t[1]*=e[3],t[3]*=e[3]):(r=t[0],t[0]=t[1],t[1]=r,r=t[2],t[2]=t[3],t[3]=r,e[1]<0&&(r=t[1],t[1]=t[3],t[3]=r),t[1]*=e[1],t[3]*=e[1],e[2]<0&&(r=t[0],t[0]=t[2],t[2]=r),t[0]*=e[2],t[2]*=e[2]),t[0]+=e[4],t[1]+=e[5],t[2]+=e[4],t[3]+=e[5]}static transform(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}static applyTransform(e,t,r=0){const i=e[r],s=e[r+1];e[r]=i*t[0]+s*t[2]+t[4],e[r+1]=i*t[1]+s*t[3]+t[5]}static applyTransformToBezier(e,t,r=0){const i=t[0],s=t[1],o=t[2],a=t[3],l=t[4],c=t[5];for(let u=0;u<6;u+=2){const d=e[r+u],p=e[r+u+1];e[r+u]=d*i+p*o+l,e[r+u+1]=d*s+p*a+c}}static applyInverseTransform(e,t){const r=e[0],i=e[1],s=t[0]*t[3]-t[1]*t[2];e[0]=(r*t[3]-i*t[2]+t[2]*t[5]-t[4]*t[3])/s,e[1]=(-r*t[1]+i*t[0]+t[4]*t[1]-t[5]*t[0])/s}static axialAlignedBoundingBox(e,t,r){const i=t[0],s=t[1],o=t[2],a=t[3],l=t[4],c=t[5],u=e[0],d=e[1],p=e[2],f=e[3];let y=i*u+l,g=y,x=i*p+l,v=x,w=a*d+c,S=w,C=a*f+c,N=C;if(s!==0||o!==0){const $=s*u,R=s*p,k=o*d,W=o*f;y+=k,v+=k,x+=W,g+=W,w+=$,N+=$,C+=R,S+=R}r[0]=Math.min(r[0],y,x,g,v),r[1]=Math.min(r[1],w,C,S,N),r[2]=Math.max(r[2],y,x,g,v),r[3]=Math.max(r[3],w,C,S,N)}static inverseTransform(e){const t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}static singularValueDecompose2dScale(e,t){const r=e[0],i=e[1],s=e[2],o=e[3],a=r**2+i**2,l=r*s+i*o,c=s**2+o**2,u=(a+c)/2,d=Math.sqrt(u**2-(a*c-l**2));t[0]=Math.sqrt(u+d||1),t[1]=Math.sqrt(u-d||1)}static normalizeRect(e){const t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}static intersect(e,t){const r=Math.max(Math.min(e[0],e[2]),Math.min(t[0],t[2])),i=Math.min(Math.max(e[0],e[2]),Math.max(t[0],t[2]));if(r>i)return null;const s=Math.max(Math.min(e[1],e[3]),Math.min(t[1],t[3])),o=Math.min(Math.max(e[1],e[3]),Math.max(t[1],t[3]));return s>o?null:[r,s,i,o]}static pointBoundingBox(e,t,r){r[0]=Math.min(r[0],e),r[1]=Math.min(r[1],t),r[2]=Math.max(r[2],e),r[3]=Math.max(r[3],t)}static rectBoundingBox(e,t,r,i,s){s[0]=Math.min(s[0],e,r),s[1]=Math.min(s[1],t,i),s[2]=Math.max(s[2],e,r),s[3]=Math.max(s[3],t,i)}static bezierBoundingBox(e,t,r,i,s,o,a,l,c){c[0]=Math.min(c[0],e,a),c[1]=Math.min(c[1],t,l),c[2]=Math.max(c[2],e,a),c[3]=Math.max(c[3],t,l),B(this,X1,P_).call(this,e,r,s,a,t,i,o,l,3*(-e+3*(r-s)+a),6*(e-2*r+s),3*(r-e),c),B(this,X1,P_).call(this,e,r,s,a,t,i,o,l,3*(-t+3*(i-o)+l),6*(t-2*i+o),3*(i-t),c)}}jp=new WeakSet,Tb=function(e,t,r,i,s,o,a,l,c,u){if(c<=0||c>=1)return;const d=1-c,p=c*c,f=p*c,y=d*(d*(d*e+3*c*t)+3*p*r)+f*i,g=d*(d*(d*s+3*c*o)+3*p*a)+f*l;u[0]=Math.min(u[0],y),u[1]=Math.min(u[1],g),u[2]=Math.max(u[2],y),u[3]=Math.max(u[3],g)},X1=new WeakSet,P_=function(e,t,r,i,s,o,a,l,c,u,d,p){if(Math.abs(c)<1e-12){Math.abs(u)>=1e-12&&B(this,jp,Tb).call(this,e,t,r,i,s,o,a,l,-d/u,p);return}const f=u**2-4*d*c;if(f<0)return;const y=Math.sqrt(f),g=2*c;B(this,jp,Tb).call(this,e,t,r,i,s,o,a,l,(-u+y)/g,p),B(this,jp,Tb).call(this,e,t,r,i,s,o,a,l,(-u-y)/g,p)},_(Ke,jp),_(Ke,X1);function oZ(n){return decodeURIComponent(escape(n))}let jE=null,G6=null;function aZ(n){return jE||(jE=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,G6=new Map([["","t"]])),n.replaceAll(jE,(e,t,r)=>t?t.normalize("NFKC"):G6.get(r))}function O7(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID();const n=new Uint8Array(32);return crypto.getRandomValues(n),D7(n)}const TN="pdfjs_internal_id_";function lZ(n,e,t){if(!Array.isArray(t)||t.length<2)return!1;const[r,i,...s]=t;if(!n(r)&&!Number.isInteger(r)||!e(i))return!1;const o=s.length;let a=!0;switch(i.name){case"XYZ":if(o<2||o>3)return!1;break;case"Fit":case"FitB":return o===0;case"FitH":case"FitBH":case"FitV":case"FitBV":if(o>1)return!1;break;case"FitR":if(o!==4)return!1;a=!1;break;default:return!1}for(const l of s)if(!(typeof l=="number"||a&&l===null))return!1;return!0}function yi(n,e,t){return Math.min(Math.max(n,e),t)}function j7(n){return Uint8Array.prototype.toBase64?n.toBase64():btoa(D7(n))}function cZ(n){return Uint8Array.fromBase64?Uint8Array.fromBase64(n):S2(atob(n))}typeof Promise.try!="function"&&(Promise.try=function(n,...e){return new Promise(t=>{t(n(...e))})});typeof Math.sumPrecise!="function"&&(Math.sumPrecise=function(n){return n.reduce((e,t)=>e+t,0)});const Ya="http://www.w3.org/2000/svg",fd=class fd{};Me(fd,"CSS",96),Me(fd,"PDF",72),Me(fd,"PDF_TO_CSS_UNITS",fd.CSS/fd.PDF);let Ou=fd;async function E2(n,e="text"){if(O0(n,document.baseURI)){const t=await fetch(n);if(!t.ok)throw new Error(t.statusText);switch(e){case"arraybuffer":return t.arrayBuffer();case"blob":return t.blob();case"json":return t.json()}return t.text()}return new Promise((t,r)=>{const i=new XMLHttpRequest;i.open("GET",n,!0),i.responseType=e,i.onreadystatechange=()=>{if(i.readyState===XMLHttpRequest.DONE){if(i.status===200||i.status===0){switch(e){case"arraybuffer":case"blob":case"json":t(i.response);return}t(i.responseText);return}r(new Error(i.statusText))}},i.send(null)})}class C2{constructor({viewBox:e,userUnit:t,scale:r,rotation:i,offsetX:s=0,offsetY:o=0,dontFlip:a=!1}){this.viewBox=e,this.userUnit=t,this.scale=r,this.rotation=i,this.offsetX=s,this.offsetY=o,r*=t;const l=(e[2]+e[0])/2,c=(e[3]+e[1])/2;let u,d,p,f;switch(i%=360,i<0&&(i+=360),i){case 180:u=-1,d=0,p=0,f=1;break;case 90:u=0,d=1,p=1,f=0;break;case 270:u=0,d=-1,p=-1,f=0;break;case 0:u=1,d=0,p=0,f=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}a&&(p=-p,f=-f);let y,g,x,v;u===0?(y=Math.abs(c-e[1])*r+s,g=Math.abs(l-e[0])*r+o,x=(e[3]-e[1])*r,v=(e[2]-e[0])*r):(y=Math.abs(l-e[0])*r+s,g=Math.abs(c-e[1])*r+o,x=(e[2]-e[0])*r,v=(e[3]-e[1])*r),this.transform=[u*r,d*r,p*r,f*r,y-u*r*l-p*r*c,g-d*r*l-f*r*c],this.width=x,this.height=v}get rawDims(){const e=this.viewBox;return Ct(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:t=this.rotation,offsetX:r=this.offsetX,offsetY:i=this.offsetY,dontFlip:s=!1}={}){return new C2({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:e,rotation:t,offsetX:r,offsetY:i,dontFlip:s})}convertToViewportPoint(e,t){const r=[e,t];return Ke.applyTransform(r,this.transform),r}convertToViewportRectangle(e){const t=[e[0],e[1]];Ke.applyTransform(t,this.transform);const r=[e[2],e[3]];return Ke.applyTransform(r,this.transform),[t[0],t[1],r[0],r[1]]}convertToPdfPoint(e,t){const r=[e,t];return Ke.applyInverseTransform(r,this.transform),r}}class LN extends df{constructor(e,t=0){super(e,"RenderingCancelledException"),this.extraDelay=t}}function FS(n){const e=n.length;let t=0;for(;t<e&&n[t].trim()==="";)t++;return n.substring(t,t+5).toLowerCase()==="data:"}function kN(n){return typeof n=="string"&&/\.pdf$/i.test(n)}function uZ(n){return[n]=n.split(/[#?]/,1),n.substring(n.lastIndexOf("/")+1)}function dZ(n,e="document.pdf"){if(typeof n!="string")return e;if(FS(n))return ft('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const r=(a=>{try{return new URL(a)}catch{try{return new URL(decodeURIComponent(a))}catch{try{return new URL(a,"https://foo.bar")}catch{try{return new URL(decodeURIComponent(a),"https://foo.bar")}catch{return null}}}}})(n);if(!r)return e;const i=a=>{try{let l=decodeURIComponent(a);return l.includes("/")?(l=l.split("/").at(-1),l.test(/^\.pdf$/i)?l:a):l}catch{return a}},s=/\.pdf$/i,o=r.pathname.split("/").at(-1);if(s.test(o))return i(o);if(r.searchParams.size>0){const a=Array.from(r.searchParams.values()).reverse();for(const c of a)if(s.test(c))return i(c);const l=Array.from(r.searchParams.keys()).reverse();for(const c of l)if(s.test(c))return i(c)}if(r.hash){const l=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i.exec(r.hash);if(l)return i(l[0])}return e}class X6{constructor(){Me(this,"started",Object.create(null));Me(this,"times",[])}time(e){e in this.started&&ft(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||ft(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let t=0;for(const{name:r}of this.times)t=Math.max(r.length,t);for(const{name:r,start:i,end:s}of this.times)e.push(`${r.padEnd(t)} ${s-i}ms
`);return e.join("")}}function O0(n,e){const t=e?URL.parse(n,e):URL.parse(n);return(t==null?void 0:t.protocol)==="http:"||(t==null?void 0:t.protocol)==="https:"}function jo(n){n.preventDefault()}function Qn(n){n.preventDefault(),n.stopPropagation()}function hZ(n){console.log("Deprecated API usage: "+n)}var Y1;class RN{static toDateObject(e){if(!e||typeof e!="string")return null;h(this,Y1)||L(this,Y1,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const t=h(this,Y1).exec(e);if(!t)return null;const r=parseInt(t[1],10);let i=parseInt(t[2],10);i=i>=1&&i<=12?i-1:0;let s=parseInt(t[3],10);s=s>=1&&s<=31?s:1;let o=parseInt(t[4],10);o=o>=0&&o<=23?o:0;let a=parseInt(t[5],10);a=a>=0&&a<=59?a:0;let l=parseInt(t[6],10);l=l>=0&&l<=59?l:0;const c=t[7]||"Z";let u=parseInt(t[8],10);u=u>=0&&u<=23?u:0;let d=parseInt(t[9],10)||0;return d=d>=0&&d<=59?d:0,c==="-"?(o+=u,a+=d):c==="+"&&(o-=u,a-=d),new Date(Date.UTC(r,i,s,o,a,l))}}Y1=new WeakMap,_(RN,Y1,void 0);function fZ(n,{scale:e=1,rotation:t=0}){const{width:r,height:i}=n.attributes.style,s=[0,0,parseInt(r),parseInt(i)];return new C2({viewBox:s,userUnit:1,scale:e,rotation:t})}function IN(n){if(n.startsWith("#")){const e=parseInt(n.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return n.startsWith("rgb(")?n.slice(4,-1).split(",").map(e=>parseInt(e)):n.startsWith("rgba(")?n.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(ft(`Not a valid color format: "${n}"`),[0,0,0])}function pZ(n){const e=document.createElement("span");e.style.visibility="hidden",e.style.colorScheme="only light",document.body.append(e);for(const t of n.keys()){e.style.color=t;const r=window.getComputedStyle(e).color;n.set(t,IN(r))}e.remove()}function vn(n){const{a:e,b:t,c:r,d:i,e:s,f:o}=n.getTransform();return[e,t,r,i,s,o]}function Zo(n){const{a:e,b:t,c:r,d:i,e:s,f:o}=n.getTransform().invertSelf();return[e,t,r,i,s,o]}function Zh(n,e,t=!1,r=!0){if(e instanceof C2){const{pageWidth:i,pageHeight:s}=e.rawDims,{style:o}=n,a=Or.isCSSRoundSupported,l=`var(--total-scale-factor) * ${i}px`,c=`var(--total-scale-factor) * ${s}px`,u=a?`round(down, ${l}, var(--scale-round-x))`:`calc(${l})`,d=a?`round(down, ${c}, var(--scale-round-y))`:`calc(${c})`;!t||e.rotation%180===0?(o.width=u,o.height=d):(o.width=d,o.height=u)}r&&n.setAttribute("data-main-rotation",e.rotation)}class Ia{constructor(){const{pixelRatio:e}=Ia;this.sx=e,this.sy=e}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}limitCanvas(e,t,r,i,s=-1){let o=1/0,a=1/0,l=1/0;r=Ia.capPixels(r,s),r>0&&(o=Math.sqrt(r/(e*t))),i!==-1&&(a=i/e,l=i/t);const c=Math.min(o,a,l);return this.sx>c||this.sy>c?(this.sx=c,this.sy=c,!0):!1}static get pixelRatio(){return globalThis.devicePixelRatio||1}static capPixels(e,t){if(t>=0){const r=Math.ceil(window.screen.availWidth*window.screen.availHeight*this.pixelRatio**2*(1+t/100));return e>0?Math.min(e,r):r}return e}}const N_=["image/apng","image/avif","image/bmp","image/gif","image/jpeg","image/png","image/svg+xml","image/webp","image/x-icon"];var Ec,wd,Ms,Cc,K1,Bp,J1,rx,B7,ix,$7,sx,z7,xd,j0,$p,Lb;const el=class el{constructor(e){_(this,ix);_(this,sx);_(this,xd);_(this,$p);_(this,Ec,null);_(this,wd,null);_(this,Ms,void 0);_(this,Cc,null);_(this,K1,null);_(this,Bp,null);L(this,Ms,e),h(el,J1)||L(el,J1,Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button",signature:"pdfjs-editor-remove-signature-button"}))}render(){const e=L(this,Ec,document.createElement("div"));e.classList.add("editToolbar","hidden"),e.setAttribute("role","toolbar");const t=h(this,Ms)._uiManager._signal;e.addEventListener("contextmenu",jo,{signal:t}),e.addEventListener("pointerdown",B(el,rx,B7),{signal:t});const r=L(this,Cc,document.createElement("div"));r.className="buttons",e.append(r);const i=h(this,Ms).toolbarPosition;if(i){const{style:s}=e,o=h(this,Ms)._uiManager.direction==="ltr"?1-i[0]:i[0];s.insetInlineEnd=`${100*o}%`,s.top=`calc(${100*i[1]}% + var(--editor-toolbar-vert-offset))`}return e}get div(){return h(this,Ec)}hide(){var e;h(this,Ec).classList.add("hidden"),(e=h(this,wd))==null||e.hideDropdown()}show(){var e;h(this,Ec).classList.remove("hidden"),(e=h(this,K1))==null||e.shown()}addDeleteButton(){const{editorType:e,_uiManager:t}=h(this,Ms),r=document.createElement("button");r.className="delete",r.tabIndex=0,r.setAttribute("data-l10n-id",h(el,J1)[e]),B(this,xd,j0).call(this,r),r.addEventListener("click",i=>{t.delete()},{signal:t._signal}),h(this,Cc).append(r)}async addAltText(e){const t=await e.render();B(this,xd,j0).call(this,t),h(this,Cc).append(t,h(this,$p,Lb)),L(this,K1,e)}addColorPicker(e){L(this,wd,e);const t=e.renderButton();B(this,xd,j0).call(this,t),h(this,Cc).append(t,h(this,$p,Lb))}async addEditSignatureButton(e){const t=L(this,Bp,await e.renderEditButton(h(this,Ms)));B(this,xd,j0).call(this,t),h(this,Cc).append(t,h(this,$p,Lb))}async addButton(e,t){switch(e){case"colorPicker":this.addColorPicker(t);break;case"altText":await this.addAltText(t);break;case"editSignature":await this.addEditSignatureButton(t);break;case"delete":this.addDeleteButton();break}}updateEditSignatureButton(e){h(this,Bp)&&(h(this,Bp).title=e)}remove(){var e;h(this,Ec).remove(),(e=h(this,wd))==null||e.destroy(),L(this,wd,null)}};Ec=new WeakMap,wd=new WeakMap,Ms=new WeakMap,Cc=new WeakMap,K1=new WeakMap,Bp=new WeakMap,J1=new WeakMap,rx=new WeakSet,B7=function(e){e.stopPropagation()},ix=new WeakSet,$7=function(e){h(this,Ms)._focusEventsAllowed=!1,Qn(e)},sx=new WeakSet,z7=function(e){h(this,Ms)._focusEventsAllowed=!0,Qn(e)},xd=new WeakSet,j0=function(e){const t=h(this,Ms)._uiManager._signal;e.addEventListener("focusin",B(this,ix,$7).bind(this),{capture:!0,signal:t}),e.addEventListener("focusout",B(this,sx,z7).bind(this),{capture:!0,signal:t}),e.addEventListener("contextmenu",jo,{signal:t})},$p=new WeakSet,Lb=function(){const e=document.createElement("div");return e.className="divider",e},_(el,rx),_(el,J1,null);let T_=el;var Q1,Ad,Sd,ox,V7,ax,U7,lx,H7;class mZ{constructor(e){_(this,ox);_(this,ax);_(this,lx);_(this,Q1,null);_(this,Ad,null);_(this,Sd,void 0);L(this,Sd,e)}show(e,t,r){const[i,s]=B(this,ax,U7).call(this,t,r),{style:o}=h(this,Ad)||L(this,Ad,B(this,ox,V7).call(this));e.append(h(this,Ad)),o.insetInlineEnd=`${100*i}%`,o.top=`calc(${100*s}% + var(--editor-toolbar-vert-offset))`}hide(){h(this,Ad).remove()}}Q1=new WeakMap,Ad=new WeakMap,Sd=new WeakMap,ox=new WeakSet,V7=function(){const e=L(this,Ad,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar"),e.addEventListener("contextmenu",jo,{signal:h(this,Sd)._signal});const t=L(this,Q1,document.createElement("div"));return t.className="buttons",e.append(t),B(this,lx,H7).call(this),e},ax=new WeakSet,U7=function(e,t){let r=0,i=0;for(const s of e){const o=s.y+s.height;if(o<r)continue;const a=s.x+(t?s.width:0);if(o>r){i=a,r=o;continue}t?a>i&&(i=a):a<i&&(i=a)}return[t?1-i:i,r]},lx=new WeakSet,H7=function(){const e=document.createElement("button");e.className="highlightButton",e.tabIndex=0,e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const t=document.createElement("span");e.append(t),t.className="visuallyHidden",t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const r=h(this,Sd)._signal;e.addEventListener("contextmenu",jo,{signal:r}),e.addEventListener("click",()=>{h(this,Sd).highlightSelection("floating_button")},{signal:r}),h(this,Q1).append(e)};function q7(n,e,t){for(const r of t)e.addEventListener(r,n[r].bind(n))}var cx;class gZ{constructor(){_(this,cx,0)}get id(){return`${I7}${ci(this,cx)._++}`}}cx=new WeakMap;var zp,Z1,Qr,Vp,kb;const $N=class $N{constructor(){_(this,Vp);_(this,zp,O7());_(this,Z1,0);_(this,Qr,null)}static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',r=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),i=new Image;i.src=e;const s=i.decode().then(()=>(r.drawImage(i,0,0,1,1,0,0,1,3),new Uint32Array(r.getImageData(0,0,1,1).data.buffer)[0]===0));return Ct(this,"_isSVGFittingCanvas",s)}async getFromFile(e){const{lastModified:t,name:r,size:i,type:s}=e;return B(this,Vp,kb).call(this,`${t}_${r}_${i}_${s}`,e)}async getFromUrl(e){return B(this,Vp,kb).call(this,e,e)}async getFromBlob(e,t){const r=await t;return B(this,Vp,kb).call(this,e,r)}async getFromId(e){h(this,Qr)||L(this,Qr,new Map);const t=h(this,Qr).get(e);if(!t)return null;if(t.bitmap)return t.refCounter+=1,t;if(t.file)return this.getFromFile(t.file);if(t.blobPromise){const{blobPromise:r}=t;return delete t.blobPromise,this.getFromBlob(t.id,r)}return this.getFromUrl(t.url)}getFromCanvas(e,t){h(this,Qr)||L(this,Qr,new Map);let r=h(this,Qr).get(e);if(r!=null&&r.bitmap)return r.refCounter+=1,r;const i=new OffscreenCanvas(t.width,t.height);return i.getContext("2d").drawImage(t,0,0),r={bitmap:i.transferToImageBitmap(),id:`image_${h(this,zp)}_${ci(this,Z1)._++}`,refCounter:1,isSvg:!1},h(this,Qr).set(e,r),h(this,Qr).set(r.id,r),r}getSvgUrl(e){const t=h(this,Qr).get(e);return t!=null&&t.isSvg?t.svgUrl:null}deleteId(e){var i;h(this,Qr)||L(this,Qr,new Map);const t=h(this,Qr).get(e);if(!t||(t.refCounter-=1,t.refCounter!==0))return;const{bitmap:r}=t;if(!t.url&&!t.file){const s=new OffscreenCanvas(r.width,r.height);s.getContext("bitmaprenderer").transferFromImageBitmap(r),t.blobPromise=s.convertToBlob()}(i=r.close)==null||i.call(r),t.bitmap=null}isValidId(e){return e.startsWith(`image_${h(this,zp)}_`)}};zp=new WeakMap,Z1=new WeakMap,Qr=new WeakMap,Vp=new WeakSet,kb=async function(e,t){h(this,Qr)||L(this,Qr,new Map);let r=h(this,Qr).get(e);if(r===null)return null;if(r!=null&&r.bitmap)return r.refCounter+=1,r;try{r||(r={bitmap:null,id:`image_${h(this,zp)}_${ci(this,Z1)._++}`,refCounter:0,isSvg:!1});let i;if(typeof t=="string"?(r.url=t,i=await E2(t,"blob")):t instanceof File?i=r.file=t:t instanceof Blob&&(i=t),i.type==="image/svg+xml"){const s=$N._isSVGFittingCanvas,o=new FileReader,a=new Image,l=new Promise((c,u)=>{a.onload=()=>{r.bitmap=a,r.isSvg=!0,c()},o.onload=async()=>{const d=r.svgUrl=o.result;a.src=await s?`${d}#svgView(preserveAspectRatio(none))`:d},a.onerror=o.onerror=u});o.readAsDataURL(i),await l}else r.bitmap=await createImageBitmap(i);r.refCounter=1}catch(i){ft(i),r=null}return h(this,Qr).set(e,r),r&&h(this,Qr).set(r.id,r),r};let L_=$N;var On,_c,ev,gn;class vZ{constructor(e=128){_(this,On,[]);_(this,_c,!1);_(this,ev,void 0);_(this,gn,-1);L(this,ev,e)}add({cmd:e,undo:t,post:r,mustExec:i,type:s=NaN,overwriteIfSameType:o=!1,keepUndo:a=!1}){if(i&&e(),h(this,_c))return;const l={cmd:e,undo:t,post:r,type:s};if(h(this,gn)===-1){h(this,On).length>0&&(h(this,On).length=0),L(this,gn,0),h(this,On).push(l);return}if(o&&h(this,On)[h(this,gn)].type===s){a&&(l.undo=h(this,On)[h(this,gn)].undo),h(this,On)[h(this,gn)]=l;return}const c=h(this,gn)+1;c===h(this,ev)?h(this,On).splice(0,1):(L(this,gn,c),c<h(this,On).length&&h(this,On).splice(c)),h(this,On).push(l)}undo(){if(h(this,gn)===-1)return;L(this,_c,!0);const{undo:e,post:t}=h(this,On)[h(this,gn)];e(),t==null||t(),L(this,_c,!1),L(this,gn,h(this,gn)-1)}redo(){if(h(this,gn)<h(this,On).length-1){L(this,gn,h(this,gn)+1),L(this,_c,!0);const{cmd:e,post:t}=h(this,On)[h(this,gn)];e(),t==null||t(),L(this,_c,!1)}}hasSomethingToUndo(){return h(this,gn)!==-1}hasSomethingToRedo(){return h(this,gn)<h(this,On).length-1}cleanType(e){if(h(this,gn)!==-1){for(let t=h(this,gn);t>=0;t--)if(h(this,On)[t].type!==e){h(this,On).splice(t+1,h(this,gn)-t),L(this,gn,t);return}h(this,On).length=0,L(this,gn,-1)}}destroy(){L(this,On,null)}}On=new WeakMap,_c=new WeakMap,ev=new WeakMap,gn=new WeakMap;var ux,W7;class _2{constructor(e){_(this,ux);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:t}=Or.platform;for(const[r,i,s={}]of e)for(const o of r){const a=o.startsWith("mac+");t&&a?(this.callbacks.set(o.slice(4),{callback:i,options:s}),this.allKeys.add(o.split("+").at(-1))):!t&&!a&&(this.callbacks.set(o,{callback:i,options:s}),this.allKeys.add(o.split("+").at(-1)))}}exec(e,t){if(!this.allKeys.has(t.key))return;const r=this.callbacks.get(B(this,ux,W7).call(this,t));if(!r)return;const{callback:i,options:{bubbles:s=!1,args:o=[],checker:a=null}}=r;a&&!a(e,t)||(i.bind(e,...o,t)(),s||Qn(t))}}ux=new WeakSet,W7=function(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const t=this.buffer.join("+");return this.buffer.length=0,t};const dx=class dx{get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return pZ(e),Ct(this,"_colors",e)}convert(e){const t=IN(e);if(!window.matchMedia("(forced-colors: active)").matches)return t;for(const[r,i]of this._colors)if(i.every((s,o)=>s===t[o]))return dx._colorsMapping.get(r);return t}getHexCode(e){const t=this._colors.get(e);return t?Ke.makeHexColor(...t):e}};Me(dx,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let k_=dx;var Up,Ji,ir,Pr,Hp,rl,qp,Fs,Pc,Nc,Wp,Ed,ia,po,Cd,tv,nv,Gp,rv,sa,Tc,Xp,Lc,oa,hx,kc,iv,Rc,_d,Pd,Ic,sv,hr,Bt,il,Mc,Nd,ov,av,Fc,aa,sl,lv,cv,Ds,Yp,Rb,uv,R_,fx,G7,px,X7,Kp,Ib,mx,Y7,gx,K7,vx,J7,dv,I_,yx,Q7,hv,M_,fv,F_,bx,Z7,Nr,ui,mo,Ka,wx,eO,xx,tO,pv,D_,Ax,nO,Td,B0,mv,O_;const Ap=class Ap{constructor(e,t,r,i,s,o,a,l,c,u,d,p,f,y,g){_(this,Yp);_(this,uv);_(this,fx);_(this,px);_(this,Kp);_(this,mx);_(this,gx);_(this,vx);_(this,dv);_(this,yx);_(this,hv);_(this,fv);_(this,bx);_(this,Nr);_(this,mo);_(this,wx);_(this,xx);_(this,pv);_(this,Ax);_(this,Td);_(this,mv);_(this,Up,new AbortController);_(this,Ji,null);_(this,ir,new Map);_(this,Pr,new Map);_(this,Hp,null);_(this,rl,null);_(this,qp,null);_(this,Fs,new vZ);_(this,Pc,null);_(this,Nc,null);_(this,Wp,0);_(this,Ed,new Set);_(this,ia,null);_(this,po,null);_(this,Cd,new Set);Me(this,"_editorUndoBar",null);_(this,tv,!1);_(this,nv,!1);_(this,Gp,!1);_(this,rv,null);_(this,sa,null);_(this,Tc,null);_(this,Xp,null);_(this,Lc,!1);_(this,oa,null);_(this,hx,new gZ);_(this,kc,!1);_(this,iv,!1);_(this,Rc,null);_(this,_d,null);_(this,Pd,null);_(this,Ic,null);_(this,sv,null);_(this,hr,ht.NONE);_(this,Bt,new Set);_(this,il,null);_(this,Mc,null);_(this,Nd,null);_(this,ov,null);_(this,av,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});_(this,Fc,[0,0]);_(this,aa,null);_(this,sl,null);_(this,lv,null);_(this,cv,null);_(this,Ds,null);const x=this._signal=h(this,Up).signal;L(this,sl,e),L(this,lv,t),L(this,cv,r),L(this,Hp,i),L(this,Mc,s),this._eventBus=o,o._on("editingaction",this.onEditingAction.bind(this),{signal:x}),o._on("pagechanging",this.onPageChanging.bind(this),{signal:x}),o._on("scalechanging",this.onScaleChanging.bind(this),{signal:x}),o._on("rotationchanging",this.onRotationChanging.bind(this),{signal:x}),o._on("setpreference",this.onSetPreference.bind(this),{signal:x}),o._on("switchannotationeditorparams",v=>this.updateParams(v.type,v.value),{signal:x}),B(this,mx,Y7).call(this),B(this,bx,Z7).call(this),B(this,dv,I_).call(this),L(this,rl,a.annotationStorage),L(this,rv,a.filterFactory),L(this,Nd,l),L(this,Xp,c||null),L(this,tv,u),L(this,nv,d),L(this,Gp,p),L(this,sv,f||null),this.viewParameters={realScale:Ou.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=y||null,this._supportsPinchToZoom=g!==!1}static get _keyboardManager(){const e=Ap.prototype,t=o=>h(o,sl).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&o.hasSomethingToControl(),r=(o,{target:a})=>{if(a instanceof HTMLInputElement){const{type:l}=a;return l!=="text"&&l!=="number"}return!0},i=this.TRANSLATE_SMALL,s=this.TRANSLATE_BIG;return Ct(this,"_keyboardManager",new _2([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:r}],[["ctrl+z","mac+meta+z"],e.undo,{checker:r}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:r}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:r}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(o,{target:a})=>!(a instanceof HTMLButtonElement)&&h(o,sl).contains(a)&&!o.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(o,{target:a})=>!(a instanceof HTMLButtonElement)&&h(o,sl).contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-i,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-s,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[i,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[s,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-i],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-s],checker:t}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,i],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,s],checker:t}]]))}destroy(){var e,t,r,i,s,o,a,l;(e=h(this,Ds))==null||e.resolve(),L(this,Ds,null),(t=h(this,Up))==null||t.abort(),L(this,Up,null),this._signal=null;for(const c of h(this,Pr).values())c.destroy();h(this,Pr).clear(),h(this,ir).clear(),h(this,Cd).clear(),(r=h(this,Ic))==null||r.clear(),L(this,Ji,null),h(this,Bt).clear(),h(this,Fs).destroy(),(i=h(this,Hp))==null||i.destroy(),(s=h(this,Mc))==null||s.destroy(),(o=h(this,oa))==null||o.hide(),L(this,oa,null),(a=h(this,Pd))==null||a.destroy(),L(this,Pd,null),h(this,sa)&&(clearTimeout(h(this,sa)),L(this,sa,null)),h(this,aa)&&(clearTimeout(h(this,aa)),L(this,aa,null)),(l=this._editorUndoBar)==null||l.destroy()}combinedSignal(e){return AbortSignal.any([this._signal,e.signal])}get mlManager(){return h(this,sv)}get useNewAltTextFlow(){return h(this,nv)}get useNewAltTextWhenAddingImage(){return h(this,Gp)}get hcmFilter(){return Ct(this,"hcmFilter",h(this,Nd)?h(this,rv).addHCMFilter(h(this,Nd).foreground,h(this,Nd).background):"none")}get direction(){return Ct(this,"direction",getComputedStyle(h(this,sl)).direction)}get highlightColors(){return Ct(this,"highlightColors",h(this,Xp)?new Map(h(this,Xp).split(",").map(e=>(e=e.split("=").map(t=>t.trim()),e[1]=e[1].toUpperCase(),e))):null)}get highlightColorNames(){return Ct(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}setCurrentDrawingSession(e){e?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),L(this,Nc,e)}setMainHighlightColorPicker(e){L(this,Pd,e)}editAltText(e,t=!1){var r;(r=h(this,Hp))==null||r.editAltText(this,e,t)}getSignature(e){var t;(t=h(this,Mc))==null||t.getSignature({uiManager:this,editor:e})}get signatureManager(){return h(this,Mc)}switchToMode(e,t){this._eventBus.on("annotationeditormodechanged",t,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:e})}setPreference(e,t){this._eventBus.dispatch("setpreference",{source:this,name:e,value:t})}onSetPreference({name:e,value:t}){switch(e){case"enableNewAltTextWhenAddingImage":L(this,Gp,t);break}}onPageChanging({pageNumber:e}){L(this,Wp,e-1)}focusMainContainer(){h(this,sl).focus()}findParent(e,t){for(const r of h(this,Pr).values()){const{x:i,y:s,width:o,height:a}=r.div.getBoundingClientRect();if(e>=i&&e<=i+o&&t>=s&&t<=s+a)return r}return null}disableUserSelect(e=!1){h(this,lv).classList.toggle("noUserSelect",e)}addShouldRescale(e){h(this,Cd).add(e)}removeShouldRescale(e){h(this,Cd).delete(e)}onScaleChanging({scale:e}){var t;this.commitOrRemove(),this.viewParameters.realScale=e*Ou.PDF_TO_CSS_UNITS;for(const r of h(this,Cd))r.onScaleChanging();(t=h(this,Nc))==null||t.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}highlightSelection(e=""){const t=document.getSelection();if(!t||t.isCollapsed)return;const{anchorNode:r,anchorOffset:i,focusNode:s,focusOffset:o}=t,a=t.toString(),c=B(this,Yp,Rb).call(this,t).closest(".textLayer"),u=this.getSelectionBoxes(c);if(!u)return;t.empty();const d=B(this,uv,R_).call(this,c),p=h(this,hr)===ht.NONE,f=()=>{d==null||d.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:u,anchorNode:r,anchorOffset:i,focusNode:s,focusOffset:o,text:a}),p&&this.showAllEditors("highlight",!0,!0)};if(p){this.switchToMode(ht.HIGHLIGHT,f);return}f()}addToAnnotationStorage(e){!e.isEmpty()&&h(this,rl)&&!h(this,rl).has(e.id)&&h(this,rl).setValue(e.id,e)}a11yAlert(e,t=null){const r=h(this,cv);r&&(r.setAttribute("data-l10n-id",e),t?r.setAttribute("data-l10n-args",JSON.stringify(t)):r.removeAttribute("data-l10n-args"))}blur(){if(this.isShiftKeyDown=!1,h(this,Lc)&&(L(this,Lc,!1),B(this,Kp,Ib).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const t of h(this,Bt))if(t.div.contains(e)){L(this,_d,[t,e]),t._focusEventsAllowed=!1;break}}focus(){if(!h(this,_d))return;const[e,t]=h(this,_d);L(this,_d,null),t.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),t.focus()}addEditListeners(){B(this,dv,I_).call(this),B(this,hv,M_).call(this)}removeEditListeners(){B(this,yx,Q7).call(this),B(this,fv,F_).call(this)}dragOver(e){for(const{type:t}of e.dataTransfer.items)for(const r of h(this,po))if(r.isHandlingMimeForPasting(t)){e.dataTransfer.dropEffect="copy",e.preventDefault();return}}drop(e){for(const t of e.dataTransfer.items)for(const r of h(this,po))if(r.isHandlingMimeForPasting(t.type)){r.paste(t,this.currentLayer),e.preventDefault();return}}copy(e){var r;if(e.preventDefault(),(r=h(this,Ji))==null||r.commitOrRemove(),!this.hasSelection)return;const t=[];for(const i of h(this,Bt)){const s=i.serialize(!0);s&&t.push(s)}t.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(t))}cut(e){this.copy(e),this.delete()}async paste(e){e.preventDefault();const{clipboardData:t}=e;for(const s of t.items)for(const o of h(this,po))if(o.isHandlingMimeForPasting(s.type)){o.paste(s,this.currentLayer);return}let r=t.getData("application/pdfjs");if(!r)return;try{r=JSON.parse(r)}catch(s){ft(`paste: "${s.message}".`);return}if(!Array.isArray(r))return;this.unselectAll();const i=this.currentLayer;try{const s=[];for(const l of r){const c=await i.deserialize(l);if(!c)return;s.push(c)}const o=()=>{for(const l of s)B(this,pv,D_).call(this,l);B(this,mv,O_).call(this,s)},a=()=>{for(const l of s)l.remove()};this.addCommands({cmd:o,undo:a,mustExec:!0})}catch(s){ft(`paste: "${s.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),h(this,hr)!==ht.NONE&&!this.isEditorHandlingKeyboard&&Ap._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,h(this,Lc)&&(L(this,Lc,!1),B(this,Kp,Ib).call(this,"main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}setEditingState(e){e?(B(this,gx,K7).call(this),B(this,hv,M_).call(this),B(this,Nr,ui).call(this,{isEditing:h(this,hr)!==ht.NONE,isEmpty:B(this,Td,B0).call(this),hasSomethingToUndo:h(this,Fs).hasSomethingToUndo(),hasSomethingToRedo:h(this,Fs).hasSomethingToRedo(),hasSelectedEditor:!1})):(B(this,vx,J7).call(this),B(this,fv,F_).call(this),B(this,Nr,ui).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!h(this,po)){L(this,po,e);for(const t of h(this,po))B(this,mo,Ka).call(this,t.defaultPropertiesToUpdate)}}getId(){return h(this,hx).id}get currentLayer(){return h(this,Pr).get(h(this,Wp))}getLayer(e){return h(this,Pr).get(e)}get currentPageIndex(){return h(this,Wp)}addLayer(e){h(this,Pr).set(e.pageIndex,e),h(this,kc)?e.enable():e.disable()}removeLayer(e){h(this,Pr).delete(e.pageIndex)}async updateMode(e,t=null,r=!1,i=!1){var s,o,a;if(h(this,hr)!==e&&!(h(this,Ds)&&(await h(this,Ds).promise,!h(this,Ds)))){if(L(this,Ds,Promise.withResolvers()),(s=h(this,Nc))==null||s.commitOrRemove(),L(this,hr,e),e===ht.NONE){this.setEditingState(!1),B(this,xx,tO).call(this),(o=this._editorUndoBar)==null||o.hide(),h(this,Ds).resolve();return}e===ht.SIGNATURE&&await((a=h(this,Mc))==null?void 0:a.loadSignatures()),this.setEditingState(!0),await B(this,wx,eO).call(this),this.unselectAll();for(const l of h(this,Pr).values())l.updateMode(e);if(!t){r&&this.addNewEditorFromKeyboard(),h(this,Ds).resolve();return}for(const l of h(this,ir).values())l.annotationElementId===t||l.id===t?(this.setSelected(l),i&&l.enterInEditMode()):l.unselect();h(this,Ds).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e.mode!==h(this,hr)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,...e})}updateParams(e,t){var r;if(h(this,po)){switch(e){case _t.CREATE:this.currentLayer.addNewEditor(t);return;case _t.HIGHLIGHT_DEFAULT_COLOR:(r=h(this,Pd))==null||r.updateColor(t);break;case _t.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(h(this,ov)||L(this,ov,new Map)).set(e,t),this.showAllEditors("highlight",t);break}for(const i of h(this,Bt))i.updateParams(e,t);for(const i of h(this,po))i.updateDefaultParams(e,t)}}showAllEditors(e,t,r=!1){var s;for(const o of h(this,ir).values())o.editorType===e&&o.show(t);(((s=h(this,ov))==null?void 0:s.get(_t.HIGHLIGHT_SHOW_ALL))??!0)!==t&&B(this,mo,Ka).call(this,[[_t.HIGHLIGHT_SHOW_ALL,t]])}enableWaiting(e=!1){if(h(this,iv)!==e){L(this,iv,e);for(const t of h(this,Pr).values())e?t.disableClick():t.enableClick(),t.div.classList.toggle("waiting",e)}}getEditors(e){const t=[];for(const r of h(this,ir).values())r.pageIndex===e&&t.push(r);return t}getEditor(e){return h(this,ir).get(e)}addEditor(e){h(this,ir).set(e.id,e)}removeEditor(e){var t,r;e.div.contains(document.activeElement)&&(h(this,sa)&&clearTimeout(h(this,sa)),L(this,sa,setTimeout(()=>{this.focusMainContainer(),L(this,sa,null)},0))),h(this,ir).delete(e.id),e.annotationElementId&&((t=h(this,Ic))==null||t.delete(e.annotationElementId)),this.unselect(e),(!e.annotationElementId||!h(this,Ed).has(e.annotationElementId))&&((r=h(this,rl))==null||r.remove(e.id))}addDeletedAnnotationElement(e){h(this,Ed).add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return h(this,Ed).has(e)}removeDeletedAnnotationElement(e){h(this,Ed).delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}setActiveEditor(e){h(this,Ji)!==e&&(L(this,Ji,e),e&&B(this,mo,Ka).call(this,e.propertiesToUpdate))}updateUI(e){h(this,Ax,nO)===e&&B(this,mo,Ka).call(this,e.propertiesToUpdate)}updateUIForDefaultProperties(e){B(this,mo,Ka).call(this,e.defaultPropertiesToUpdate)}toggleSelected(e){if(h(this,Bt).has(e)){h(this,Bt).delete(e),e.unselect(),B(this,Nr,ui).call(this,{hasSelectedEditor:this.hasSelection});return}h(this,Bt).add(e),e.select(),B(this,mo,Ka).call(this,e.propertiesToUpdate),B(this,Nr,ui).call(this,{hasSelectedEditor:!0})}setSelected(e){var t;this.updateToolbar({mode:e.mode,editId:e.id}),(t=h(this,Nc))==null||t.commitOrRemove();for(const r of h(this,Bt))r!==e&&r.unselect();h(this,Bt).clear(),h(this,Bt).add(e),e.select(),B(this,mo,Ka).call(this,e.propertiesToUpdate),B(this,Nr,ui).call(this,{hasSelectedEditor:!0})}isSelected(e){return h(this,Bt).has(e)}get firstSelectedEditor(){return h(this,Bt).values().next().value}unselect(e){e.unselect(),h(this,Bt).delete(e),B(this,Nr,ui).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return h(this,Bt).size!==0}get isEnterHandled(){return h(this,Bt).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){var e;h(this,Fs).undo(),B(this,Nr,ui).call(this,{hasSomethingToUndo:h(this,Fs).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:B(this,Td,B0).call(this)}),(e=this._editorUndoBar)==null||e.hide()}redo(){h(this,Fs).redo(),B(this,Nr,ui).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:h(this,Fs).hasSomethingToRedo(),isEmpty:B(this,Td,B0).call(this)})}addCommands(e){h(this,Fs).add(e),B(this,Nr,ui).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:B(this,Td,B0).call(this)})}cleanUndoStack(e){h(this,Fs).cleanType(e)}delete(){var s;this.commitOrRemove();const e=(s=this.currentLayer)==null?void 0:s.endDrawingSession(!0);if(!this.hasSelection&&!e)return;const t=e?[e]:[...h(this,Bt)],r=()=>{var o;(o=this._editorUndoBar)==null||o.show(i,t.length===1?t[0].editorType:t.length);for(const a of t)a.remove()},i=()=>{for(const o of t)B(this,pv,D_).call(this,o)};this.addCommands({cmd:r,undo:i,mustExec:!0})}commitOrRemove(){var e;(e=h(this,Ji))==null||e.commitOrRemove()}hasSomethingToControl(){return h(this,Ji)||this.hasSelection}selectAll(){for(const e of h(this,Bt))e.commit();B(this,mv,O_).call(this,h(this,ir).values())}unselectAll(){var e;if(!(h(this,Ji)&&(h(this,Ji).commitOrRemove(),h(this,hr)!==ht.NONE))&&!((e=h(this,Nc))!=null&&e.commitOrRemove())&&this.hasSelection){for(const t of h(this,Bt))t.unselect();h(this,Bt).clear(),B(this,Nr,ui).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(e,t,r=!1){if(r||this.commitOrRemove(),!this.hasSelection)return;h(this,Fc)[0]+=e,h(this,Fc)[1]+=t;const[i,s]=h(this,Fc),o=[...h(this,Bt)],a=1e3;h(this,aa)&&clearTimeout(h(this,aa)),L(this,aa,setTimeout(()=>{L(this,aa,null),h(this,Fc)[0]=h(this,Fc)[1]=0,this.addCommands({cmd:()=>{for(const l of o)h(this,ir).has(l.id)&&(l.translateInPage(i,s),l.translationDone())},undo:()=>{for(const l of o)h(this,ir).has(l.id)&&(l.translateInPage(-i,-s),l.translationDone())},mustExec:!1})},a));for(const l of o)l.translateInPage(e,t),l.translationDone()}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),L(this,ia,new Map);for(const e of h(this,Bt))h(this,ia).set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!h(this,ia))return!1;this.disableUserSelect(!1);const e=h(this,ia);L(this,ia,null);let t=!1;for(const[{x:i,y:s,pageIndex:o},a]of e)a.newX=i,a.newY=s,a.newPageIndex=o,t||(t=i!==a.savedX||s!==a.savedY||o!==a.savedPageIndex);if(!t)return!1;const r=(i,s,o,a)=>{if(h(this,ir).has(i.id)){const l=h(this,Pr).get(a);l?i._setParentAndPosition(l,s,o):(i.pageIndex=a,i.x=s,i.y=o)}};return this.addCommands({cmd:()=>{for(const[i,{newX:s,newY:o,newPageIndex:a}]of e)r(i,s,o,a)},undo:()=>{for(const[i,{savedX:s,savedY:o,savedPageIndex:a}]of e)r(i,s,o,a)},mustExec:!0}),!0}dragSelectedEditors(e,t){if(h(this,ia))for(const r of h(this,ia).keys())r.drag(e,t)}rebuild(e){if(e.parent===null){const t=this.getLayer(e.pageIndex);t?(t.changeParent(e),t.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){var e;return((e=this.getActive())==null?void 0:e.shouldGetKeyboardEvents())||h(this,Bt).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return h(this,Ji)===e}getActive(){return h(this,Ji)}getMode(){return h(this,hr)}get imageManager(){return Ct(this,"imageManager",new L_)}getSelectionBoxes(e){if(!e)return null;const t=document.getSelection();for(let c=0,u=t.rangeCount;c<u;c++)if(!e.contains(t.getRangeAt(c).commonAncestorContainer))return null;const{x:r,y:i,width:s,height:o}=e.getBoundingClientRect();let a;switch(e.getAttribute("data-main-rotation")){case"90":a=(c,u,d,p)=>({x:(u-i)/o,y:1-(c+d-r)/s,width:p/o,height:d/s});break;case"180":a=(c,u,d,p)=>({x:1-(c+d-r)/s,y:1-(u+p-i)/o,width:d/s,height:p/o});break;case"270":a=(c,u,d,p)=>({x:1-(u+p-i)/o,y:(c-r)/s,width:p/o,height:d/s});break;default:a=(c,u,d,p)=>({x:(c-r)/s,y:(u-i)/o,width:d/s,height:p/o});break}const l=[];for(let c=0,u=t.rangeCount;c<u;c++){const d=t.getRangeAt(c);if(!d.collapsed)for(const{x:p,y:f,width:y,height:g}of d.getClientRects())y===0||g===0||l.push(a(p,f,y,g))}return l.length===0?null:l}addChangedExistingAnnotation({annotationElementId:e,id:t}){(h(this,qp)||L(this,qp,new Map)).set(e,t)}removeChangedExistingAnnotation({annotationElementId:e}){var t;(t=h(this,qp))==null||t.delete(e)}renderAnnotationElement(e){var i;const t=(i=h(this,qp))==null?void 0:i.get(e.data.id);if(!t)return;const r=h(this,rl).getRawValue(t);r&&(h(this,hr)===ht.NONE&&!r.hasBeenModified||r.renderAnnotationElement(e))}setMissingCanvas(e,t,r){var s;const i=(s=h(this,Ic))==null?void 0:s.get(e);i&&(i.setCanvas(t,r),h(this,Ic).delete(e))}addMissingCanvas(e,t){(h(this,Ic)||L(this,Ic,new Map)).set(e,t)}};Up=new WeakMap,Ji=new WeakMap,ir=new WeakMap,Pr=new WeakMap,Hp=new WeakMap,rl=new WeakMap,qp=new WeakMap,Fs=new WeakMap,Pc=new WeakMap,Nc=new WeakMap,Wp=new WeakMap,Ed=new WeakMap,ia=new WeakMap,po=new WeakMap,Cd=new WeakMap,tv=new WeakMap,nv=new WeakMap,Gp=new WeakMap,rv=new WeakMap,sa=new WeakMap,Tc=new WeakMap,Xp=new WeakMap,Lc=new WeakMap,oa=new WeakMap,hx=new WeakMap,kc=new WeakMap,iv=new WeakMap,Rc=new WeakMap,_d=new WeakMap,Pd=new WeakMap,Ic=new WeakMap,sv=new WeakMap,hr=new WeakMap,Bt=new WeakMap,il=new WeakMap,Mc=new WeakMap,Nd=new WeakMap,ov=new WeakMap,av=new WeakMap,Fc=new WeakMap,aa=new WeakMap,sl=new WeakMap,lv=new WeakMap,cv=new WeakMap,Ds=new WeakMap,Yp=new WeakSet,Rb=function({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e},uv=new WeakSet,R_=function(e){const{currentLayer:t}=this;if(t.hasTextLayer(e))return t;for(const r of h(this,Pr).values())if(r.hasTextLayer(e))return r;return null},fx=new WeakSet,G7=function(){const e=document.getSelection();if(!e||e.isCollapsed)return;const r=B(this,Yp,Rb).call(this,e).closest(".textLayer"),i=this.getSelectionBoxes(r);i&&(h(this,oa)||L(this,oa,new mZ(this)),h(this,oa).show(r,i,this.direction==="ltr"))},px=new WeakSet,X7=function(){var s,o,a;const e=document.getSelection();if(!e||e.isCollapsed){h(this,il)&&((s=h(this,oa))==null||s.hide(),L(this,il,null),B(this,Nr,ui).call(this,{hasSelectedText:!1}));return}const{anchorNode:t}=e;if(t===h(this,il))return;const i=B(this,Yp,Rb).call(this,e).closest(".textLayer");if(!i){h(this,il)&&((o=h(this,oa))==null||o.hide(),L(this,il,null),B(this,Nr,ui).call(this,{hasSelectedText:!1}));return}if((a=h(this,oa))==null||a.hide(),L(this,il,t),B(this,Nr,ui).call(this,{hasSelectedText:!0}),!(h(this,hr)!==ht.HIGHLIGHT&&h(this,hr)!==ht.NONE)&&(h(this,hr)===ht.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),L(this,Lc,this.isShiftKeyDown),!this.isShiftKeyDown)){const l=h(this,hr)===ht.HIGHLIGHT?B(this,uv,R_).call(this,i):null;l==null||l.toggleDrawing();const c=new AbortController,u=this.combinedSignal(c),d=p=>{p.type==="pointerup"&&p.button!==0||(c.abort(),l==null||l.toggleDrawing(!0),p.type==="pointerup"&&B(this,Kp,Ib).call(this,"main_toolbar"))};window.addEventListener("pointerup",d,{signal:u}),window.addEventListener("blur",d,{signal:u})}},Kp=new WeakSet,Ib=function(e=""){h(this,hr)===ht.HIGHLIGHT?this.highlightSelection(e):h(this,tv)&&B(this,fx,G7).call(this)},mx=new WeakSet,Y7=function(){document.addEventListener("selectionchange",B(this,px,X7).bind(this),{signal:this._signal})},gx=new WeakSet,K7=function(){if(h(this,Tc))return;L(this,Tc,new AbortController);const e=this.combinedSignal(h(this,Tc));window.addEventListener("focus",this.focus.bind(this),{signal:e}),window.addEventListener("blur",this.blur.bind(this),{signal:e})},vx=new WeakSet,J7=function(){var e;(e=h(this,Tc))==null||e.abort(),L(this,Tc,null)},dv=new WeakSet,I_=function(){if(h(this,Rc))return;L(this,Rc,new AbortController);const e=this.combinedSignal(h(this,Rc));window.addEventListener("keydown",this.keydown.bind(this),{signal:e}),window.addEventListener("keyup",this.keyup.bind(this),{signal:e})},yx=new WeakSet,Q7=function(){var e;(e=h(this,Rc))==null||e.abort(),L(this,Rc,null)},hv=new WeakSet,M_=function(){if(h(this,Pc))return;L(this,Pc,new AbortController);const e=this.combinedSignal(h(this,Pc));document.addEventListener("copy",this.copy.bind(this),{signal:e}),document.addEventListener("cut",this.cut.bind(this),{signal:e}),document.addEventListener("paste",this.paste.bind(this),{signal:e})},fv=new WeakSet,F_=function(){var e;(e=h(this,Pc))==null||e.abort(),L(this,Pc,null)},bx=new WeakSet,Z7=function(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})},Nr=new WeakSet,ui=function(e){Object.entries(e).some(([r,i])=>h(this,av)[r]!==i)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(h(this,av),e)}),h(this,hr)===ht.HIGHLIGHT&&e.hasSelectedEditor===!1&&B(this,mo,Ka).call(this,[[_t.HIGHLIGHT_FREE,!0]]))},mo=new WeakSet,Ka=function(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})},wx=new WeakSet,eO=async function(){if(!h(this,kc)){L(this,kc,!0);const e=[];for(const t of h(this,Pr).values())e.push(t.enable());await Promise.all(e);for(const t of h(this,ir).values())t.enable()}},xx=new WeakSet,tO=function(){if(this.unselectAll(),h(this,kc)){L(this,kc,!1);for(const e of h(this,Pr).values())e.disable();for(const e of h(this,ir).values())e.disable()}},pv=new WeakSet,D_=function(e){const t=h(this,Pr).get(e.pageIndex);t?t.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))},Ax=new WeakSet,nO=function(){let e=null;for(e of h(this,Bt));return e},Td=new WeakSet,B0=function(){if(h(this,ir).size===0)return!0;if(h(this,ir).size===1)for(const e of h(this,ir).values())return e.isEmpty();return!1},mv=new WeakSet,O_=function(e){for(const t of h(this,Bt))t.unselect();h(this,Bt).clear();for(const t of e)t.isEmpty()||(h(this,Bt).add(t),t.select());B(this,Nr,ui).call(this,{hasSelectedEditor:this.hasSelection})},Me(Ap,"TRANSLATE_SMALL",1),Me(Ap,"TRANSLATE_BIG",10);let ef=Ap;var fr,la,go,Jp,ca,Qi,Qp,ua,Ri,ol,Ld,da,Dc,kd,$0,Zp,Mb;const di=class di{constructor(e){_(this,kd);_(this,Zp);_(this,fr,null);_(this,la,!1);_(this,go,null);_(this,Jp,null);_(this,ca,null);_(this,Qi,null);_(this,Qp,!1);_(this,ua,null);_(this,Ri,null);_(this,ol,null);_(this,Ld,null);_(this,da,!1);L(this,Ri,e),L(this,da,e._uiManager.useNewAltTextFlow),h(di,Dc)||L(di,Dc,Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(e){di._l10n??(di._l10n=e)}async render(){const e=L(this,go,document.createElement("button"));e.className="altText",e.tabIndex="0";const t=L(this,Jp,document.createElement("span"));e.append(t),h(this,da)?(e.classList.add("new"),e.setAttribute("data-l10n-id",h(di,Dc).missing),t.setAttribute("data-l10n-id",h(di,Dc)["missing-label"])):(e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const r=h(this,Ri)._uiManager._signal;e.addEventListener("contextmenu",jo,{signal:r}),e.addEventListener("pointerdown",s=>s.stopPropagation(),{signal:r});const i=s=>{s.preventDefault(),h(this,Ri)._uiManager.editAltText(h(this,Ri)),h(this,da)&&h(this,Ri)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:h(this,kd,$0)}})};return e.addEventListener("click",i,{capture:!0,signal:r}),e.addEventListener("keydown",s=>{s.target===e&&s.key==="Enter"&&(L(this,Qp,!0),i(s))},{signal:r}),await B(this,Zp,Mb).call(this),e}finish(){h(this,go)&&(h(this,go).focus({focusVisible:h(this,Qp)}),L(this,Qp,!1))}isEmpty(){return h(this,da)?h(this,fr)===null:!h(this,fr)&&!h(this,la)}hasData(){return h(this,da)?h(this,fr)!==null||!!h(this,ol):this.isEmpty()}get guessedText(){return h(this,ol)}async setGuessedText(e){h(this,fr)===null&&(L(this,ol,e),L(this,Ld,await di._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:e})),B(this,Zp,Mb).call(this))}toggleAltTextBadge(e=!1){var t;if(!h(this,da)||h(this,fr)){(t=h(this,ua))==null||t.remove(),L(this,ua,null);return}if(!h(this,ua)){const r=L(this,ua,document.createElement("div"));r.className="noAltTextBadge",h(this,Ri).div.append(r)}h(this,ua).classList.toggle("hidden",!e)}serialize(e){let t=h(this,fr);return!e&&h(this,ol)===t&&(t=h(this,Ld)),{altText:t,decorative:h(this,la),guessedText:h(this,ol),textWithDisclaimer:h(this,Ld)}}get data(){return{altText:h(this,fr),decorative:h(this,la)}}set data({altText:e,decorative:t,guessedText:r,textWithDisclaimer:i,cancel:s=!1}){r&&(L(this,ol,r),L(this,Ld,i)),!(h(this,fr)===e&&h(this,la)===t)&&(s||(L(this,fr,e),L(this,la,t)),B(this,Zp,Mb).call(this))}toggle(e=!1){h(this,go)&&(!e&&h(this,Qi)&&(clearTimeout(h(this,Qi)),L(this,Qi,null)),h(this,go).disabled=!e)}shown(){h(this,Ri)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:h(this,kd,$0)}})}destroy(){var e,t;(e=h(this,go))==null||e.remove(),L(this,go,null),L(this,Jp,null),L(this,ca,null),(t=h(this,ua))==null||t.remove(),L(this,ua,null)}};fr=new WeakMap,la=new WeakMap,go=new WeakMap,Jp=new WeakMap,ca=new WeakMap,Qi=new WeakMap,Qp=new WeakMap,ua=new WeakMap,Ri=new WeakMap,ol=new WeakMap,Ld=new WeakMap,da=new WeakMap,Dc=new WeakMap,kd=new WeakSet,$0=function(){return h(this,fr)&&"added"||h(this,fr)===null&&this.guessedText&&"review"||"missing"},Zp=new WeakSet,Mb=async function(){var i,s,o;const e=h(this,go);if(!e)return;if(h(this,da)){if(e.classList.toggle("done",!!h(this,fr)),e.setAttribute("data-l10n-id",h(di,Dc)[h(this,kd,$0)]),(i=h(this,Jp))==null||i.setAttribute("data-l10n-id",h(di,Dc)[`${h(this,kd,$0)}-label`]),!h(this,fr)){(s=h(this,ca))==null||s.remove();return}}else{if(!h(this,fr)&&!h(this,la)){e.classList.remove("done"),(o=h(this,ca))==null||o.remove();return}e.classList.add("done"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let t=h(this,ca);if(!t){L(this,ca,t=document.createElement("span")),t.className="tooltip",t.setAttribute("role","tooltip"),t.id=`alt-text-tooltip-${h(this,Ri).id}`;const a=100,l=h(this,Ri)._uiManager._signal;l.addEventListener("abort",()=>{clearTimeout(h(this,Qi)),L(this,Qi,null)},{once:!0}),e.addEventListener("mouseenter",()=>{L(this,Qi,setTimeout(()=>{L(this,Qi,null),h(this,ca).classList.add("show"),h(this,Ri)._reportTelemetry({action:"alt_text_tooltip"})},a))},{signal:l}),e.addEventListener("mouseleave",()=>{var c;h(this,Qi)&&(clearTimeout(h(this,Qi)),L(this,Qi,null)),(c=h(this,ca))==null||c.classList.remove("show")},{signal:l})}h(this,la)?t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(t.removeAttribute("data-l10n-id"),t.textContent=h(this,fr)),t.parentNode||e.append(t);const r=h(this,Ri).getElementForAltText();r==null||r.setAttribute("aria-describedby",t.id)},_(di,Dc,null),Me(di,"_l10n",null);let Kw=di;var em,Rd,gv,vv,yv,bv,wv,al,Id,ll,Md,cl,Sx,rO,Ex,iO,Cx,sO;const zN=class zN{constructor({container:e,isPinchingDisabled:t=null,isPinchingStopped:r=null,onPinchStart:i=null,onPinching:s=null,onPinchEnd:o=null,signal:a}){_(this,Sx);_(this,Ex);_(this,Cx);_(this,em,void 0);_(this,Rd,!1);_(this,gv,null);_(this,vv,void 0);_(this,yv,void 0);_(this,bv,void 0);_(this,wv,void 0);_(this,al,null);_(this,Id,void 0);_(this,ll,null);_(this,Md,void 0);_(this,cl,null);L(this,em,e),L(this,gv,r),L(this,vv,t),L(this,yv,i),L(this,bv,s),L(this,wv,o),L(this,Md,new AbortController),L(this,Id,AbortSignal.any([a,h(this,Md).signal])),e.addEventListener("touchstart",B(this,Sx,rO).bind(this),{passive:!1,signal:h(this,Id)})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return 35/Ia.pixelRatio}destroy(){var e,t;(e=h(this,Md))==null||e.abort(),L(this,Md,null),(t=h(this,al))==null||t.abort(),L(this,al,null)}};em=new WeakMap,Rd=new WeakMap,gv=new WeakMap,vv=new WeakMap,yv=new WeakMap,bv=new WeakMap,wv=new WeakMap,al=new WeakMap,Id=new WeakMap,ll=new WeakMap,Md=new WeakMap,cl=new WeakMap,Sx=new WeakSet,rO=function(e){var i,s,o;if((i=h(this,vv))!=null&&i.call(this))return;if(e.touches.length===1){if(h(this,al))return;const a=L(this,al,new AbortController),l=AbortSignal.any([h(this,Id),a.signal]),c=h(this,em),u={capture:!0,signal:l,passive:!1},d=p=>{var f;p.pointerType==="touch"&&((f=h(this,al))==null||f.abort(),L(this,al,null))};c.addEventListener("pointerdown",p=>{p.pointerType==="touch"&&(Qn(p),d(p))},u),c.addEventListener("pointerup",d,u),c.addEventListener("pointercancel",d,u);return}if(!h(this,cl)){L(this,cl,new AbortController);const a=AbortSignal.any([h(this,Id),h(this,cl).signal]),l=h(this,em),c={signal:a,capture:!1,passive:!1};l.addEventListener("touchmove",B(this,Ex,iO).bind(this),c);const u=B(this,Cx,sO).bind(this);l.addEventListener("touchend",u,c),l.addEventListener("touchcancel",u,c),c.capture=!0,l.addEventListener("pointerdown",Qn,c),l.addEventListener("pointermove",Qn,c),l.addEventListener("pointercancel",Qn,c),l.addEventListener("pointerup",Qn,c),(s=h(this,yv))==null||s.call(this)}if(Qn(e),e.touches.length!==2||(o=h(this,gv))!=null&&o.call(this)){L(this,ll,null);return}let[t,r]=e.touches;t.identifier>r.identifier&&([t,r]=[r,t]),L(this,ll,{touch0X:t.screenX,touch0Y:t.screenY,touch1X:r.screenX,touch1Y:r.screenY})},Ex=new WeakSet,iO=function(e){var C;if(!h(this,ll)||e.touches.length!==2)return;Qn(e);let[t,r]=e.touches;t.identifier>r.identifier&&([t,r]=[r,t]);const{screenX:i,screenY:s}=t,{screenX:o,screenY:a}=r,l=h(this,ll),{touch0X:c,touch0Y:u,touch1X:d,touch1Y:p}=l,f=d-c,y=p-u,g=o-i,x=a-s,v=Math.hypot(g,x)||1,w=Math.hypot(f,y)||1;if(!h(this,Rd)&&Math.abs(w-v)<=zN.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(l.touch0X=i,l.touch0Y=s,l.touch1X=o,l.touch1Y=a,!h(this,Rd)){L(this,Rd,!0);return}const S=[(i+o)/2,(s+a)/2];(C=h(this,bv))==null||C.call(this,S,w,v)},Cx=new WeakSet,sO=function(e){var t;e.touches.length>=2||(h(this,cl)&&(h(this,cl).abort(),L(this,cl,null),(t=h(this,wv))==null||t.call(this)),h(this,ll)&&(Qn(e),L(this,ll,null),L(this,Rd,!1)))};let Jw=zN;var Fd,vo,dn,tm,Oc,xv,Dd,Tr,Od,ul,jc,Av,jd,Zi,Sv,Bd,dl,ha,nm,rm,Os,$d,Ev,_x,Cv,j_,_v,B_,im,Fb,Px,oO,Nx,aO,Pv,$_,sm,Db,Nv,z_,Tx,lO,Lx,cO,kx,uO,Tv,V_,Rx,dO,Lv,U_,Ix,hO,Mx,fO,Fx,pO,kv,H_,zd,z0;const yt=class yt{constructor(e){_(this,Cv);_(this,im);_(this,Px);_(this,Nx);_(this,Pv);_(this,sm);_(this,Nv);_(this,Tx);_(this,Lx);_(this,kx);_(this,Tv);_(this,Rx);_(this,Lv);_(this,Ix);_(this,Mx);_(this,Fx);_(this,kv);_(this,zd);_(this,Fd,null);_(this,vo,null);_(this,dn,null);_(this,tm,!1);_(this,Oc,null);_(this,xv,"");_(this,Dd,!1);_(this,Tr,null);_(this,Od,null);_(this,ul,null);_(this,jc,null);_(this,Av,"");_(this,jd,!1);_(this,Zi,null);_(this,Sv,!1);_(this,Bd,!1);_(this,dl,!1);_(this,ha,null);_(this,nm,0);_(this,rm,0);_(this,Os,null);_(this,$d,null);Me(this,"isSelected",!1);Me(this,"_isCopy",!1);Me(this,"_editToolbar",null);Me(this,"_initialOptions",Object.create(null));Me(this,"_initialData",null);Me(this,"_isVisible",!0);Me(this,"_uiManager",null);Me(this,"_focusEventsAllowed",!0);_(this,Ev,!1);_(this,_x,yt._zIndex++);this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null,this.annotationElementId=e.annotationElementId||null;const{rotation:t,rawDims:{pageWidth:r,pageHeight:i,pageX:s,pageY:o}}=this.parent.viewport;this.rotation=t,this.pageRotation=(360+t-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[r,i],this.pageTranslation=[s,o];const[a,l]=this.parentDimensions;this.x=e.x/a,this.y=e.y/l,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const e=yt.prototype._resizeWithKeyboard,t=ef.TRANSLATE_SMALL,r=ef.TRANSLATE_BIG;return Ct(this,"_resizerKeyboardManager",new _2([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-t,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-r,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[t,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[r,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-t]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-r]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,t]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,r]}],[["Escape","mac+Escape"],yt.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}get mode(){return Object.getPrototypeOf(this).constructor._editorType}static get isDrawer(){return!1}static get _defaultLineColor(){return Ct(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const t=new yZ({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});t.annotationElementId=e.annotationElementId,t.deleted=!0,t._uiManager.addToAnnotationStorage(t)}static initialize(e,t){if(yt._l10n??(yt._l10n=e),yt._l10nResizer||(yt._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),yt._borderLineWidth!==-1)return;const r=getComputedStyle(document.documentElement);yt._borderLineWidth=parseFloat(r.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,t){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,t){qt("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return h(this,Ev)}set _isDraggable(e){var t;L(this,Ev,e),(t=this.div)==null||t.classList.toggle("draggable",e)}get isEnterHandled(){return!0}center(){const[e,t]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*t/(e*2),this.y+=this.width*e/(t*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*t/(e*2),this.y-=this.width*e/(t*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=h(this,_x)}setParent(e){e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):B(this,zd,z0).call(this),this.parent=e}focusin(e){this._focusEventsAllowed&&(h(this,jd)?L(this,jd,!1):this.parent.setSelected(this))}focusout(e){var r;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const t=e.relatedTarget;t!=null&&t.closest(`#${this.id}`)||(e.preventDefault(),(r=this.parent)!=null&&r.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.isInEditMode()&&this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,t,r,i){const[s,o]=this.parentDimensions;[r,i]=this.screenToPageTranslation(r,i),this.x=(e+r)/s,this.y=(t+i)/o,this.fixAndSetPosition()}_moveAfterPaste(e,t){const[r,i]=this.parentDimensions;this.setAt(e*r,t*i,this.width*r,this.height*i),this._onTranslated()}translate(e,t){B(this,Cv,j_).call(this,this.parentDimensions,e,t)}translateInPage(e,t){h(this,Zi)||L(this,Zi,[this.x,this.y,this.width,this.height]),B(this,Cv,j_).call(this,this.pageDimensions,e,t),this.div.scrollIntoView({block:"nearest"})}translationDone(){this._onTranslated(this.x,this.y)}drag(e,t){h(this,Zi)||L(this,Zi,[this.x,this.y,this.width,this.height]);const{div:r,parentDimensions:[i,s]}=this;if(this.x+=e/i,this.y+=t/s,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:d,y:p}=this.div.getBoundingClientRect();this.parent.findNewParent(this,d,p)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:o,y:a}=this;const[l,c]=this.getBaseTranslation();o+=l,a+=c;const{style:u}=r;u.left=`${(100*o).toFixed(2)}%`,u.top=`${(100*a).toFixed(2)}%`,this._onTranslating(o,a),r.scrollIntoView({block:"nearest"})}_onTranslating(e,t){}_onTranslated(e,t){}get _hasBeenMoved(){return!!h(this,Zi)&&(h(this,Zi)[0]!==this.x||h(this,Zi)[1]!==this.y)}get _hasBeenResized(){return!!h(this,Zi)&&(h(this,Zi)[2]!==this.width||h(this,Zi)[3]!==this.height)}getBaseTranslation(){const[e,t]=this.parentDimensions,{_borderLineWidth:r}=yt,i=r/e,s=r/t;switch(this.rotation){case 90:return[-i,s];case 180:return[i,s];case 270:return[i,-s];default:return[-i,-s]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const{div:{style:t},pageDimensions:[r,i]}=this;let{x:s,y:o,width:a,height:l}=this;if(a*=r,l*=i,s*=r,o*=i,this._mustFixPosition)switch(e){case 0:s=yi(s,0,r-a),o=yi(o,0,i-l);break;case 90:s=yi(s,0,r-l),o=yi(o,a,i);break;case 180:s=yi(s,a,r),o=yi(o,l,i);break;case 270:s=yi(s,l,r),o=yi(o,0,i-a);break}this.x=s/=r,this.y=o/=i;const[c,u]=this.getBaseTranslation();s+=c,o+=u,t.left=`${(100*s).toFixed(2)}%`,t.top=`${(100*o).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(e,t){var r;return B(r=yt,_v,B_).call(r,e,t,this.parentRotation)}pageTranslationToScreen(e,t){var r;return B(r=yt,_v,B_).call(r,e,t,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[t,r]}=this;return[t*e,r*e]}setDims(e,t){const[r,i]=this.parentDimensions,{style:s}=this.div;s.width=`${(100*e/r).toFixed(2)}%`,h(this,Dd)||(s.height=`${(100*t/i).toFixed(2)}%`)}fixDims(){const{style:e}=this.div,{height:t,width:r}=e,i=r.endsWith("%"),s=!h(this,Dd)&&t.endsWith("%");if(i&&s)return;const[o,a]=this.parentDimensions;i||(e.width=`${(100*parseFloat(r)/o).toFixed(2)}%`),!h(this,Dd)&&!s&&(e.height=`${(100*parseFloat(t)/a).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}_onResized(){}static _round(e){return Math.round(e*1e4)/1e4}_onResizing(){}altTextFinish(){var e;(e=h(this,dn))==null||e.finish()}get toolbarButtons(){return null}async addEditToolbar(){if(this._editToolbar||h(this,Bd))return this._editToolbar;this._editToolbar=new T_(this),this.div.append(this._editToolbar.render());const{toolbarButtons:e}=this;if(e)for(const[t,r]of e)await this._editToolbar.addButton(t,r);return this._editToolbar.addButton("delete"),this._editToolbar}removeEditToolbar(){var e;this._editToolbar&&(this._editToolbar.remove(),this._editToolbar=null,(e=h(this,dn))==null||e.destroy())}addContainer(e){var r;const t=(r=this._editToolbar)==null?void 0:r.div;t?t.before(e):this.div.append(e)}getClientDimensions(){return this.div.getBoundingClientRect()}createAltText(){return h(this,dn)||(Kw.initialize(yt._l10n),L(this,dn,new Kw(this)),h(this,Fd)&&(h(this,dn).data=h(this,Fd),L(this,Fd,null))),h(this,dn)}get altTextData(){var e;return(e=h(this,dn))==null?void 0:e.data}set altTextData(e){h(this,dn)&&(h(this,dn).data=e)}get guessedAltText(){var e;return(e=h(this,dn))==null?void 0:e.guessedText}async setGuessedAltText(e){var t;await((t=h(this,dn))==null?void 0:t.setGuessedText(e))}serializeAltText(e){var t;return(t=h(this,dn))==null?void 0:t.serialize(e)}hasAltText(){return!!h(this,dn)&&!h(this,dn).isEmpty()}hasAltTextData(){var e;return((e=h(this,dn))==null?void 0:e.hasData())??!1}render(){var o;const e=this.div=document.createElement("div");e.setAttribute("data-editor-rotation",(360-this.rotation)%360),e.className=this.name,e.setAttribute("id",this.id),e.tabIndex=h(this,tm)?-1:0,e.setAttribute("role","application"),this.defaultL10nId&&e.setAttribute("data-l10n-id",this.defaultL10nId),this._isVisible||e.classList.add("hidden"),this.setInForeground(),B(this,Lv,U_).call(this);const[t,r]=this.parentDimensions;this.parentRotation%180!==0&&(e.style.maxWidth=`${(100*r/t).toFixed(2)}%`,e.style.maxHeight=`${(100*t/r).toFixed(2)}%`);const[i,s]=this.getInitialTranslation();return this.translate(i,s),q7(this,e,["keydown","pointerdown","dblclick"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(h(this,$d)||L(this,$d,new Jw({container:e,isPinchingDisabled:()=>!this.isSelected,onPinchStart:B(this,Tx,lO).bind(this),onPinching:B(this,Lx,cO).bind(this),onPinchEnd:B(this,kx,uO).bind(this),signal:this._uiManager._signal}))),(o=this._uiManager._editorUndoBar)==null||o.hide(),e}pointerdown(e){const{isMac:t}=Or.platform;if(e.button!==0||e.ctrlKey&&t){e.preventDefault();return}if(L(this,jd,!0),this._isDraggable){B(this,Rx,dO).call(this,e);return}B(this,Tv,V_).call(this,e)}_onStartDragging(){}_onStopDragging(){}moveInDOM(){h(this,ha)&&clearTimeout(h(this,ha)),L(this,ha,setTimeout(()=>{var e;L(this,ha,null),(e=this.parent)==null||e.moveEditorInDOM(this)},0))}_setParentAndPosition(e,t,r){e.changeParent(this),this.x=t,this.y=r,this.fixAndSetPosition(),this._onTranslated()}getRect(e,t,r=this.rotation){const i=this.parentScale,[s,o]=this.pageDimensions,[a,l]=this.pageTranslation,c=e/i,u=t/i,d=this.x*s,p=this.y*o,f=this.width*s,y=this.height*o;switch(r){case 0:return[d+c+a,o-p-u-y+l,d+c+f+a,o-p-u+l];case 90:return[d+u+a,o-p+c+l,d+u+y+a,o-p+c+f+l];case 180:return[d-c-f+a,o-p+u+l,d-c+a,o-p+u+y+l];case 270:return[d-u-y+a,o-p-c-f+l,d-u+a,o-p-c+l];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,t){const[r,i,s,o]=e,a=s-r,l=o-i;switch(this.rotation){case 0:return[r,t-o,a,l];case 90:return[r,t-i,l,a];case 180:return[s,t-i,a,l];case 270:return[s,t-o,l,a];default:throw new Error("Invalid rotation")}}onceAdded(e){}isEmpty(){return!1}enableEditMode(){return this.isInEditMode()?!1:(this.parent.setEditingState(!1),L(this,Bd,!0),!0)}disableEditMode(){return this.isInEditMode()?(this.parent.setEditingState(!0),L(this,Bd,!1),!0):!1}isInEditMode(){return h(this,Bd)}shouldGetKeyboardEvents(){return h(this,dl)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:e,left:t,bottom:r,right:i}=this.getClientDimensions(),{innerHeight:s,innerWidth:o}=window;return t<o&&i>0&&e<s&&r>0}rebuild(){B(this,Lv,U_).call(this)}rotate(e){}resize(){}serializeDeleted(){var e;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:((e=this._initialData)==null?void 0:e.popupRef)||""}}serialize(e=!1,t=null){qt("An editor must be serializable")}static async deserialize(e,t,r){const i=new this.prototype.constructor({parent:t,id:t.getNextId(),uiManager:r,annotationElementId:e.annotationElementId});i.rotation=e.rotation,L(i,Fd,e.accessibilityData),i._isCopy=e.isCopy||!1;const[s,o]=i.pageDimensions,[a,l,c,u]=i.getRectInCurrentCoords(e.rect,o);return i.x=a/s,i.y=l/o,i.width=c/s,i.height=u/o,i}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){var e,t;if((e=h(this,jc))==null||e.abort(),L(this,jc,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),h(this,ha)&&(clearTimeout(h(this,ha)),L(this,ha,null)),B(this,zd,z0).call(this),this.removeEditToolbar(),h(this,Os)){for(const r of h(this,Os).values())clearTimeout(r);L(this,Os,null)}this.parent=null,(t=h(this,$d))==null||t.destroy(),L(this,$d,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(B(this,Px,oO).call(this),h(this,Tr).classList.remove("hidden"))}get toolbarPosition(){return null}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),L(this,ul,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const t=h(this,Tr).children;if(!h(this,vo)){L(this,vo,Array.from(t));const o=B(this,Ix,hO).bind(this),a=B(this,Mx,fO).bind(this),l=this._uiManager._signal;for(const c of h(this,vo)){const u=c.getAttribute("data-resizer-name");c.setAttribute("role","spinbutton"),c.addEventListener("keydown",o,{signal:l}),c.addEventListener("blur",a,{signal:l}),c.addEventListener("focus",B(this,Fx,pO).bind(this,u),{signal:l}),c.setAttribute("data-l10n-id",yt._l10nResizer[u])}}const r=h(this,vo)[0];let i=0;for(const o of t){if(o===r)break;i++}const s=(360-this.rotation+this.parentRotation)%360/90*(h(this,vo).length/4);if(s!==i){if(s<i)for(let a=0;a<i-s;a++)h(this,Tr).append(h(this,Tr).firstChild);else if(s>i)for(let a=0;a<s-i;a++)h(this,Tr).firstChild.before(h(this,Tr).lastChild);let o=0;for(const a of t){const c=h(this,vo)[o++].getAttribute("data-resizer-name");a.setAttribute("data-l10n-id",yt._l10nResizer[c])}}B(this,kv,H_).call(this,0),L(this,dl,!0),h(this,Tr).firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}_resizeWithKeyboard(e,t){h(this,dl)&&B(this,Nv,z_).call(this,h(this,Av),{deltaX:e,deltaY:t,fromKeyboard:!0})}_stopResizingWithKeyboard(){B(this,zd,z0).call(this),this.div.focus()}select(){var e,t,r;if(!(this.isSelected&&this._editToolbar)){if(this.isSelected=!0,this.makeResizable(),(e=this.div)==null||e.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{var i,s;(i=this.div)!=null&&i.classList.contains("selectedEditor")&&((s=this._editToolbar)==null||s.show())});return}(t=this._editToolbar)==null||t.show(),(r=h(this,dn))==null||r.toggleAltTextBadge(!1)}}unselect(){var e,t,r,i,s;this.isSelected&&(this.isSelected=!1,(e=h(this,Tr))==null||e.classList.add("hidden"),(t=this.div)==null||t.classList.remove("selectedEditor"),(r=this.div)!=null&&r.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(i=this._editToolbar)==null||i.hide(),(s=h(this,dn))==null||s.toggleAltTextBadge(!0))}updateParams(e,t){}disableEditing(){}enableEditing(){}get canChangeContent(){return!1}enterInEditMode(){this.canChangeContent&&(this.enableEditMode(),this.div.focus())}dblclick(e){this.enterInEditMode(),this.parent.updateToolbar({mode:this.constructor._editorType,editId:this.id})}getElementForAltText(){return this.div}get contentDiv(){return this.div}get isEditing(){return h(this,Sv)}set isEditing(e){L(this,Sv,e),this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(e,t){L(this,Dd,!0);const r=e/t,{style:i}=this.div;i.aspectRatio=r,i.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,t=!1){if(t){h(this,Os)||L(this,Os,new Map);const{action:r}=e;let i=h(this,Os).get(r);i&&clearTimeout(i),i=setTimeout(()=>{this._reportTelemetry(e),h(this,Os).delete(r),h(this,Os).size===0&&L(this,Os,null)},yt._telemetryTimeout),h(this,Os).set(r,i);return}e.type||(e.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),L(this,tm,!1)}disable(){this.div&&(this.div.tabIndex=-1),L(this,tm,!0)}renderAnnotationElement(e){let t=e.container.querySelector(".annotationContent");if(!t)t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),e.container.prepend(t);else if(t.nodeName==="CANVAS"){const r=t;t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),r.before(t)}return t}resetAnnotationElement(e){const{firstChild:t}=e.container;(t==null?void 0:t.nodeName)==="DIV"&&t.classList.contains("annotationContent")&&t.remove()}};Fd=new WeakMap,vo=new WeakMap,dn=new WeakMap,tm=new WeakMap,Oc=new WeakMap,xv=new WeakMap,Dd=new WeakMap,Tr=new WeakMap,Od=new WeakMap,ul=new WeakMap,jc=new WeakMap,Av=new WeakMap,jd=new WeakMap,Zi=new WeakMap,Sv=new WeakMap,Bd=new WeakMap,dl=new WeakMap,ha=new WeakMap,nm=new WeakMap,rm=new WeakMap,Os=new WeakMap,$d=new WeakMap,Ev=new WeakMap,_x=new WeakMap,Cv=new WeakSet,j_=function([e,t],r,i){[r,i]=this.screenToPageTranslation(r,i),this.x+=r/e,this.y+=i/t,this._onTranslating(this.x,this.y),this.fixAndSetPosition()},_v=new WeakSet,B_=function(e,t,r){switch(r){case 90:return[t,-e];case 180:return[-e,-t];case 270:return[-t,e];default:return[e,t]}},im=new WeakSet,Fb=function(e){switch(e){case 90:{const[t,r]=this.pageDimensions;return[0,-t/r,r/t,0]}case 180:return[-1,0,0,-1];case 270:{const[t,r]=this.pageDimensions;return[0,t/r,-r/t,0]}default:return[1,0,0,1]}},Px=new WeakSet,oO=function(){if(h(this,Tr))return;L(this,Tr,document.createElement("div")),h(this,Tr).classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],t=this._uiManager._signal;for(const r of e){const i=document.createElement("div");h(this,Tr).append(i),i.classList.add("resizer",r),i.setAttribute("data-resizer-name",r),i.addEventListener("pointerdown",B(this,Nx,aO).bind(this,r),{signal:t}),i.addEventListener("contextmenu",jo,{signal:t}),i.tabIndex=-1}this.div.prepend(h(this,Tr))},Nx=new WeakSet,aO=function(e,t){var u;t.preventDefault();const{isMac:r}=Or.platform;if(t.button!==0||t.ctrlKey&&r)return;(u=h(this,dn))==null||u.toggle(!1);const i=this._isDraggable;this._isDraggable=!1,L(this,Od,[t.screenX,t.screenY]);const s=new AbortController,o=this._uiManager.combinedSignal(s);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",B(this,Nv,z_).bind(this,e),{passive:!0,capture:!0,signal:o}),window.addEventListener("touchmove",Qn,{passive:!1,signal:o}),window.addEventListener("contextmenu",jo,{signal:o}),L(this,ul,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const a=this.parent.div.style.cursor,l=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(t.target).cursor;const c=()=>{var d;s.abort(),this.parent.togglePointerEvents(!0),(d=h(this,dn))==null||d.toggle(!0),this._isDraggable=i,this.parent.div.style.cursor=a,this.div.style.cursor=l,B(this,sm,Db).call(this)};window.addEventListener("pointerup",c,{signal:o}),window.addEventListener("blur",c,{signal:o})},Pv=new WeakSet,$_=function(e,t,r,i){this.width=r,this.height=i,this.x=e,this.y=t;const[s,o]=this.parentDimensions;this.setDims(s*r,o*i),this.fixAndSetPosition(),this._onResized()},sm=new WeakSet,Db=function(){if(!h(this,ul))return;const{savedX:e,savedY:t,savedWidth:r,savedHeight:i}=h(this,ul);L(this,ul,null);const s=this.x,o=this.y,a=this.width,l=this.height;s===e&&o===t&&a===r&&l===i||this.addCommands({cmd:B(this,Pv,$_).bind(this,s,o,a,l),undo:B(this,Pv,$_).bind(this,e,t,r,i),mustExec:!0})},Nv=new WeakSet,z_=function(e,t){const[r,i]=this.parentDimensions,s=this.x,o=this.y,a=this.width,l=this.height,c=yt.MIN_SIZE/r,u=yt.MIN_SIZE/i,d=B(this,im,Fb).call(this,this.rotation),p=(Q,ne)=>[d[0]*Q+d[2]*ne,d[1]*Q+d[3]*ne],f=B(this,im,Fb).call(this,360-this.rotation),y=(Q,ne)=>[f[0]*Q+f[2]*ne,f[1]*Q+f[3]*ne];let g,x,v=!1,w=!1;switch(e){case"topLeft":v=!0,g=(Q,ne)=>[0,0],x=(Q,ne)=>[Q,ne];break;case"topMiddle":g=(Q,ne)=>[Q/2,0],x=(Q,ne)=>[Q/2,ne];break;case"topRight":v=!0,g=(Q,ne)=>[Q,0],x=(Q,ne)=>[0,ne];break;case"middleRight":w=!0,g=(Q,ne)=>[Q,ne/2],x=(Q,ne)=>[0,ne/2];break;case"bottomRight":v=!0,g=(Q,ne)=>[Q,ne],x=(Q,ne)=>[0,0];break;case"bottomMiddle":g=(Q,ne)=>[Q/2,ne],x=(Q,ne)=>[Q/2,0];break;case"bottomLeft":v=!0,g=(Q,ne)=>[0,ne],x=(Q,ne)=>[Q,0];break;case"middleLeft":w=!0,g=(Q,ne)=>[0,ne/2],x=(Q,ne)=>[Q,ne/2];break}const S=g(a,l),C=x(a,l);let N=p(...C);const $=yt._round(s+N[0]),R=yt._round(o+N[1]);let k=1,W=1,X,M;if(t.fromKeyboard)({deltaX:X,deltaY:M}=t);else{const{screenX:Q,screenY:ne}=t,[Y,se]=h(this,Od);[X,M]=this.screenToPageTranslation(Q-Y,ne-se),h(this,Od)[0]=Q,h(this,Od)[1]=ne}if([X,M]=y(X/r,M/i),v){const Q=Math.hypot(a,l);k=W=Math.max(Math.min(Math.hypot(C[0]-S[0]-X,C[1]-S[1]-M)/Q,1/a,1/l),c/a,u/l)}else w?k=yi(Math.abs(C[0]-S[0]-X),c,1)/a:W=yi(Math.abs(C[1]-S[1]-M),u,1)/l;const j=yt._round(a*k),K=yt._round(l*W);N=p(...x(j,K));const U=$-N[0],le=R-N[1];h(this,Zi)||L(this,Zi,[this.x,this.y,this.width,this.height]),this.width=j,this.height=K,this.x=U,this.y=le,this.setDims(r*j,i*K),this.fixAndSetPosition(),this._onResizing()},Tx=new WeakSet,lO=function(){var e;L(this,ul,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height}),(e=h(this,dn))==null||e.toggle(!1),this.parent.togglePointerEvents(!1)},Lx=new WeakSet,cO=function(e,t,r){let s=.7*(r/t)+1-.7;if(s===1)return;const o=B(this,im,Fb).call(this,this.rotation),a=($,R)=>[o[0]*$+o[2]*R,o[1]*$+o[3]*R],[l,c]=this.parentDimensions,u=this.x,d=this.y,p=this.width,f=this.height,y=yt.MIN_SIZE/l,g=yt.MIN_SIZE/c;s=Math.max(Math.min(s,1/p,1/f),y/p,g/f);const x=yt._round(p*s),v=yt._round(f*s);if(x===p&&v===f)return;h(this,Zi)||L(this,Zi,[u,d,p,f]);const w=a(p/2,f/2),S=yt._round(u+w[0]),C=yt._round(d+w[1]),N=a(x/2,v/2);this.x=S-N[0],this.y=C-N[1],this.width=x,this.height=v,this.setDims(l*x,c*v),this.fixAndSetPosition(),this._onResizing()},kx=new WeakSet,uO=function(){var e;(e=h(this,dn))==null||e.toggle(!0),this.parent.togglePointerEvents(!0),B(this,sm,Db).call(this)},Tv=new WeakSet,V_=function(e){const{isMac:t}=Or.platform;e.ctrlKey&&!t||e.shiftKey||e.metaKey&&t?this.parent.toggleSelected(this):this.parent.setSelected(this)},Rx=new WeakSet,dO=function(e){const{isSelected:t}=this;this._uiManager.setUpDragSession();let r=!1;const i=new AbortController,s=this._uiManager.combinedSignal(i),o={capture:!0,passive:!1,signal:s},a=c=>{i.abort(),L(this,Oc,null),L(this,jd,!1),this._uiManager.endDragSession()||B(this,Tv,V_).call(this,c),r&&this._onStopDragging()};t&&(L(this,nm,e.clientX),L(this,rm,e.clientY),L(this,Oc,e.pointerId),L(this,xv,e.pointerType),window.addEventListener("pointermove",c=>{r||(r=!0,this._onStartDragging());const{clientX:u,clientY:d,pointerId:p}=c;if(p!==h(this,Oc)){Qn(c);return}const[f,y]=this.screenToPageTranslation(u-h(this,nm),d-h(this,rm));L(this,nm,u),L(this,rm,d),this._uiManager.dragSelectedEditors(f,y)},o),window.addEventListener("touchmove",Qn,o),window.addEventListener("pointerdown",c=>{c.pointerType===h(this,xv)&&(h(this,$d)||c.isPrimary)&&a(c),Qn(c)},o));const l=c=>{if(!h(this,Oc)||h(this,Oc)===c.pointerId){a(c);return}Qn(c)};window.addEventListener("pointerup",l,{signal:s}),window.addEventListener("blur",l,{signal:s})},Lv=new WeakSet,U_=function(){if(h(this,jc)||!this.div)return;L(this,jc,new AbortController);const e=this._uiManager.combinedSignal(h(this,jc));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:e}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:e})},Ix=new WeakSet,hO=function(e){yt._resizerKeyboardManager.exec(this,e)},Mx=new WeakSet,fO=function(e){var t;h(this,dl)&&((t=e.relatedTarget)==null?void 0:t.parentNode)!==h(this,Tr)&&B(this,zd,z0).call(this)},Fx=new WeakSet,pO=function(e){L(this,Av,h(this,dl)?e:"")},kv=new WeakSet,H_=function(e){if(h(this,vo))for(const t of h(this,vo))t.tabIndex=e},zd=new WeakSet,z0=function(){L(this,dl,!1),B(this,kv,H_).call(this,-1),B(this,sm,Db).call(this)},_(yt,_v),Me(yt,"_l10n",null),Me(yt,"_l10nResizer",null),Me(yt,"_borderLineWidth",-1),Me(yt,"_colorManager",new k_),Me(yt,"_zIndex",1),Me(yt,"_telemetryTimeout",1e3);let tn=yt;class yZ extends tn{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const Y6=3285377520,Rs=4294901760,ea=65535;class mO{constructor(e){this.h1=e?e&4294967295:Y6,this.h2=e?e&4294967295:Y6}update(e){let t,r;if(typeof e=="string"){t=new Uint8Array(e.length*2),r=0;for(let g=0,x=e.length;g<x;g++){const v=e.charCodeAt(g);v<=255?t[r++]=v:(t[r++]=v>>>8,t[r++]=v&255)}}else if(ArrayBuffer.isView(e))t=e.slice(),r=t.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const i=r>>2,s=r-i*4,o=new Uint32Array(t.buffer,0,i);let a=0,l=0,c=this.h1,u=this.h2;const d=3432918353,p=461845907,f=d&ea,y=p&ea;for(let g=0;g<i;g++)g&1?(a=o[g],a=a*d&Rs|a*f&ea,a=a<<15|a>>>17,a=a*p&Rs|a*y&ea,c^=a,c=c<<13|c>>>19,c=c*5+3864292196):(l=o[g],l=l*d&Rs|l*f&ea,l=l<<15|l>>>17,l=l*p&Rs|l*y&ea,u^=l,u=u<<13|u>>>19,u=u*5+3864292196);switch(a=0,s){case 3:a^=t[i*4+2]<<16;case 2:a^=t[i*4+1]<<8;case 1:a^=t[i*4],a=a*d&Rs|a*f&ea,a=a<<15|a>>>17,a=a*p&Rs|a*y&ea,i&1?c^=a:u^=a}this.h1=c,this.h2=u}hexdigest(){let e=this.h1,t=this.h2;return e^=t>>>1,e=e*3981806797&Rs|e*36045&ea,t=t*4283543511&Rs|((t<<16|e>>>16)*2950163797&Rs)>>>16,e^=t>>>1,e=e*444984403&Rs|e*60499&ea,t=t*3301882366&Rs|((t<<16|e>>>16)*3120437893&Rs)>>>16,e^=t>>>1,(e>>>0).toString(16).padStart(8,"0")+(t>>>0).toString(16).padStart(8,"0")}}const q_=Object.freeze({map:null,hash:"",transfer:void 0});var Vd,Ud,Lr,Dx,gO;class MN{constructor(){_(this,Dx);_(this,Vd,!1);_(this,Ud,null);_(this,Lr,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,t){const r=h(this,Lr).get(e);return r===void 0?t:Object.assign(t,r)}getRawValue(e){return h(this,Lr).get(e)}remove(e){if(h(this,Lr).delete(e),h(this,Lr).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const t of h(this,Lr).values())if(t instanceof tn)return;this.onAnnotationEditor(null)}}setValue(e,t){const r=h(this,Lr).get(e);let i=!1;if(r!==void 0)for(const[s,o]of Object.entries(t))r[s]!==o&&(i=!0,r[s]=o);else i=!0,h(this,Lr).set(e,t);i&&B(this,Dx,gO).call(this),t instanceof tn&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(t.constructor._type)}has(e){return h(this,Lr).has(e)}get size(){return h(this,Lr).size}resetModified(){h(this,Vd)&&(L(this,Vd,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new vO(this)}get serializable(){if(h(this,Lr).size===0)return q_;const e=new Map,t=new mO,r=[],i=Object.create(null);let s=!1;for(const[o,a]of h(this,Lr)){const l=a instanceof tn?a.serialize(!1,i):a;l&&(e.set(o,l),t.update(`${o}:${JSON.stringify(l)}`),s||(s=!!l.bitmap))}if(s)for(const o of e.values())o.bitmap&&r.push(o.bitmap);return e.size>0?{map:e,hash:t.hexdigest(),transfer:r}:q_}get editorStats(){let e=null;const t=new Map;for(const r of h(this,Lr).values()){if(!(r instanceof tn))continue;const i=r.telemetryFinalData;if(!i)continue;const{type:s}=i;t.has(s)||t.set(s,Object.getPrototypeOf(r).constructor),e||(e=Object.create(null));const o=e[s]||(e[s]=new Map);for(const[a,l]of Object.entries(i)){if(a==="type")continue;let c=o.get(a);c||(c=new Map,o.set(a,c));const u=c.get(l)??0;c.set(l,u+1)}}for(const[r,i]of t)e[r]=i.computeTelemetryFinalData(e[r]);return e}resetModifiedIds(){L(this,Ud,null)}get modifiedIds(){if(h(this,Ud))return h(this,Ud);const e=[];for(const t of h(this,Lr).values())!(t instanceof tn)||!t.annotationElementId||!t.serialize()||e.push(t.annotationElementId);return L(this,Ud,{ids:new Set(e),hash:e.join(",")})}[Symbol.iterator](){return h(this,Lr).entries()}}Vd=new WeakMap,Ud=new WeakMap,Lr=new WeakMap,Dx=new WeakSet,gO=function(){h(this,Vd)||(L(this,Vd,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var Rv;class vO extends MN{constructor(t){super();_(this,Rv,void 0);const{map:r,hash:i,transfer:s}=t.serializable,o=structuredClone(r,s?{transfer:s}:null);L(this,Rv,{map:o,hash:i,transfer:s})}get print(){qt("Should not call PrintAnnotationStorage.print")}get serializable(){return h(this,Rv)}get modifiedIds(){return Ct(this,"modifiedIds",{ids:new Set,hash:""})}}Rv=new WeakMap;var om;class bZ{constructor({ownerDocument:e=globalThis.document,styleElement:t=null}){_(this,om,new Set);this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const t=this.styleElement.sheet;t.insertRule(e,t.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),h(this,om).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,disableFontFace:t,_inspectFont:r}){if(!(!e||h(this,om).has(e.loadedName))){if(er(!t,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:i,src:s,style:o}=e,a=new FontFace(i,s,o);this.addNativeFontFace(a);try{await a.load(),h(this,om).add(i),r==null||r(e)}catch{ft(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(a)}return}qt("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const r=e.createNativeFontFace();if(r){this.addNativeFontFace(r);try{await r.loaded}catch(i){throw ft(`Failed to load font '${r.family}': '${i}'.`),e.disableFontFace=!0,i}}return}const t=e.createFontFaceRule();if(t){if(this.insertRule(t),this.isSyncFontLoadingSupported)return;await new Promise(r=>{const i=this._queueLoadingCallback(r);this._prepareFontLoadEvent(e,i)})}}get isFontLoadingAPISupported(){var t;const e=!!((t=this._document)!=null&&t.fonts);return Ct(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){return Ct(this,"isSyncFontLoadingSupported",vi||Or.platform.isFirefox)}_queueLoadingCallback(e){function t(){for(er(!i.done,"completeRequest() cannot be called twice."),i.done=!0;r.length>0&&r[0].done;){const s=r.shift();setTimeout(s.callback,0)}}const{loadingRequests:r}=this,i={done:!1,complete:t,callback:e};return r.push(i),i}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return Ct(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,t){function r(C,N){return C.charCodeAt(N)<<24|C.charCodeAt(N+1)<<16|C.charCodeAt(N+2)<<8|C.charCodeAt(N+3)&255}function i(C,N,$,R){const k=C.substring(0,N),W=C.substring(N+$);return k+R+W}let s,o;const a=this._document.createElement("canvas");a.width=1,a.height=1;const l=a.getContext("2d");let c=0;function u(C,N){if(++c>30){ft("Load test font never loaded."),N();return}if(l.font="30px "+C,l.fillText(".",0,20),l.getImageData(0,0,1,1).data[3]>0){N();return}setTimeout(u.bind(null,C,N))}const d=`lt${Date.now()}${this.loadTestFontId++}`;let p=this._loadTestFont;p=i(p,976,d.length,d);const y=16,g=1482184792;let x=r(p,y);for(s=0,o=d.length-3;s<o;s+=4)x=x-g+r(d,s)|0;s<d.length&&(x=x-g+r(d+"XXX",s)|0),p=i(p,y,4,rZ(x));const v=`url(data:font/opentype;base64,${btoa(p)});`,w=`@font-face {font-family:"${d}";src:${v}}`;this.insertRule(w);const S=this._document.createElement("div");S.style.visibility="hidden",S.style.width=S.style.height="10px",S.style.position="absolute",S.style.top=S.style.left="0px";for(const C of[e.loadedName,d]){const N=this._document.createElement("span");N.textContent="Hi",N.style.fontFamily=C,S.append(N)}this._document.body.append(S),u(d,()=>{S.remove(),t.complete()})}}om=new WeakMap;class wZ{constructor(e,t=null){this.compiledGlyphs=Object.create(null);for(const r in e)this[r]=e[r];this._inspectFont=t}createNativeFontFace(){var t;if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const r={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(r.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,r)}return(t=this._inspectFont)==null||t.call(this,this),e}createFontFaceRule(){var r;if(!this.data||this.disableFontFace)return null;const e=`url(data:${this.mimetype};base64,${j7(this.data)});`;let t;if(!this.cssFontInfo)t=`@font-face {font-family:"${this.loadedName}";src:${e}}`;else{let i=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(i+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),t=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${i}src:${e}}`}return(r=this._inspectFont)==null||r.call(this,this,e),t}getPathGenerator(e,t){if(this.compiledGlyphs[t]!==void 0)return this.compiledGlyphs[t];const r=this.loadedName+"_path_"+t;let i;try{i=e.get(r)}catch(o){ft(`getPathGenerator - ignoring character: "${o}".`)}const s=new Path2D(i||"");return this.fontExtraProperties||e.delete(r),this.compiledGlyphs[t]=s}}function xZ(n){if(n instanceof URL)return n.href;if(typeof n=="string"){if(vi)return n;const e=URL.parse(n,window.location);if(e)return e.href}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function AZ(n){if(vi&&typeof Buffer<"u"&&n instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength)return n;if(typeof n=="string")return S2(n);if(n instanceof ArrayBuffer||ArrayBuffer.isView(n)||typeof n=="object"&&!isNaN(n==null?void 0:n.length))return new Uint8Array(n);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function eb(n){if(typeof n!="string")return null;if(n.endsWith("/"))return n;throw new Error(`Invalid factory url: "${n}" must include trailing slash.`)}const W_=n=>typeof n=="object"&&Number.isInteger(n==null?void 0:n.num)&&n.num>=0&&Number.isInteger(n==null?void 0:n.gen)&&n.gen>=0,SZ=n=>typeof n=="object"&&typeof(n==null?void 0:n.name)=="string",EZ=lZ.bind(null,W_,SZ);var hl,Ox;class CZ{constructor(){_(this,hl,new Map);_(this,Ox,Promise.resolve())}postMessage(e,t){const r={data:structuredClone(e,t?{transfer:t}:null)};h(this,Ox).then(()=>{for(const[i]of h(this,hl))i.call(this,r)})}addEventListener(e,t,r=null){let i=null;if((r==null?void 0:r.signal)instanceof AbortSignal){const{signal:s}=r;if(s.aborted){ft("LoopbackPort - cannot use an `aborted` signal.");return}const o=()=>this.removeEventListener(e,t);i=()=>s.removeEventListener("abort",o),s.addEventListener("abort",o)}h(this,hl).set(t,i)}removeEventListener(e,t){const r=h(this,hl).get(t);r==null||r(),h(this,hl).delete(t)}terminate(){for(const[,e]of h(this,hl))e==null||e();h(this,hl).clear()}}hl=new WeakMap,Ox=new WeakMap;const tb={DATA:1,ERROR:2},Yn={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function K6(){}function Li(n){if(n instanceof Du||n instanceof __||n instanceof W6||n instanceof Yw||n instanceof DE)return n;switch(n instanceof Error||typeof n=="object"&&n!==null||qt('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),n.name){case"AbortException":return new Du(n.message);case"InvalidPDFException":return new __(n.message);case"PasswordException":return new W6(n.message,n.code);case"ResponseException":return new Yw(n.message,n.status,n.missing);case"UnknownErrorException":return new DE(n.message,n.details)}return new DE(n.message,n.toString())}var am,jx,yO,Bx,bO,$x,wO,lm,Ob;class V0{constructor(e,t,r){_(this,jx);_(this,Bx);_(this,$x);_(this,lm);_(this,am,new AbortController);this.sourceName=e,this.targetName=t,this.comObj=r,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),r.addEventListener("message",B(this,jx,yO).bind(this),{signal:h(this,am).signal})}on(e,t){const r=this.actionHandler;if(r[e])throw new Error(`There is already an actionName called "${e}"`);r[e]=t}send(e,t,r){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},r)}sendWithPromise(e,t,r){const i=this.callbackId++,s=Promise.withResolvers();this.callbackCapabilities[i]=s;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:i,data:t},r)}catch(o){s.reject(o)}return s.promise}sendWithStream(e,t,r,i){const s=this.streamId++,o=this.sourceName,a=this.targetName,l=this.comObj;return new ReadableStream({start:c=>{const u=Promise.withResolvers();return this.streamControllers[s]={controller:c,startCall:u,pullCall:null,cancelCall:null,isClosed:!1},l.postMessage({sourceName:o,targetName:a,action:e,streamId:s,data:t,desiredSize:c.desiredSize},i),u.promise},pull:c=>{const u=Promise.withResolvers();return this.streamControllers[s].pullCall=u,l.postMessage({sourceName:o,targetName:a,stream:Yn.PULL,streamId:s,desiredSize:c.desiredSize}),u.promise},cancel:c=>{er(c instanceof Error,"cancel must have a valid reason");const u=Promise.withResolvers();return this.streamControllers[s].cancelCall=u,this.streamControllers[s].isClosed=!0,l.postMessage({sourceName:o,targetName:a,stream:Yn.CANCEL,streamId:s,reason:Li(c)}),u.promise}},r)}destroy(){var e;(e=h(this,am))==null||e.abort(),L(this,am,null)}}am=new WeakMap,jx=new WeakSet,yO=function({data:e}){if(e.targetName!==this.sourceName)return;if(e.stream){B(this,$x,wO).call(this,e);return}if(e.callback){const r=e.callbackId,i=this.callbackCapabilities[r];if(!i)throw new Error(`Cannot resolve callback ${r}`);if(delete this.callbackCapabilities[r],e.callback===tb.DATA)i.resolve(e.data);else if(e.callback===tb.ERROR)i.reject(Li(e.reason));else throw new Error("Unexpected callback case");return}const t=this.actionHandler[e.action];if(!t)throw new Error(`Unknown action from worker: ${e.action}`);if(e.callbackId){const r=this.sourceName,i=e.sourceName,s=this.comObj;Promise.try(t,e.data).then(function(o){s.postMessage({sourceName:r,targetName:i,callback:tb.DATA,callbackId:e.callbackId,data:o})},function(o){s.postMessage({sourceName:r,targetName:i,callback:tb.ERROR,callbackId:e.callbackId,reason:Li(o)})});return}if(e.streamId){B(this,Bx,bO).call(this,e);return}t(e.data)},Bx=new WeakSet,bO=function(e){const t=e.streamId,r=this.sourceName,i=e.sourceName,s=this.comObj,o=this,a=this.actionHandler[e.action],l={enqueue(c,u=1,d){if(this.isCancelled)return;const p=this.desiredSize;this.desiredSize-=u,p>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),s.postMessage({sourceName:r,targetName:i,stream:Yn.ENQUEUE,streamId:t,chunk:c},d)},close(){this.isCancelled||(this.isCancelled=!0,s.postMessage({sourceName:r,targetName:i,stream:Yn.CLOSE,streamId:t}),delete o.streamSinks[t])},error(c){er(c instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,s.postMessage({sourceName:r,targetName:i,stream:Yn.ERROR,streamId:t,reason:Li(c)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};l.sinkCapability.resolve(),l.ready=l.sinkCapability.promise,this.streamSinks[t]=l,Promise.try(a,e.data,l).then(function(){s.postMessage({sourceName:r,targetName:i,stream:Yn.START_COMPLETE,streamId:t,success:!0})},function(c){s.postMessage({sourceName:r,targetName:i,stream:Yn.START_COMPLETE,streamId:t,reason:Li(c)})})},$x=new WeakSet,wO=function(e){const t=e.streamId,r=this.sourceName,i=e.sourceName,s=this.comObj,o=this.streamControllers[t],a=this.streamSinks[t];switch(e.stream){case Yn.START_COMPLETE:e.success?o.startCall.resolve():o.startCall.reject(Li(e.reason));break;case Yn.PULL_COMPLETE:e.success?o.pullCall.resolve():o.pullCall.reject(Li(e.reason));break;case Yn.PULL:if(!a){s.postMessage({sourceName:r,targetName:i,stream:Yn.PULL_COMPLETE,streamId:t,success:!0});break}a.desiredSize<=0&&e.desiredSize>0&&a.sinkCapability.resolve(),a.desiredSize=e.desiredSize,Promise.try(a.onPull||K6).then(function(){s.postMessage({sourceName:r,targetName:i,stream:Yn.PULL_COMPLETE,streamId:t,success:!0})},function(c){s.postMessage({sourceName:r,targetName:i,stream:Yn.PULL_COMPLETE,streamId:t,reason:Li(c)})});break;case Yn.ENQUEUE:if(er(o,"enqueue should have stream controller"),o.isClosed)break;o.controller.enqueue(e.chunk);break;case Yn.CLOSE:if(er(o,"close should have stream controller"),o.isClosed)break;o.isClosed=!0,o.controller.close(),B(this,lm,Ob).call(this,o,t);break;case Yn.ERROR:er(o,"error should have stream controller"),o.controller.error(Li(e.reason)),B(this,lm,Ob).call(this,o,t);break;case Yn.CANCEL_COMPLETE:e.success?o.cancelCall.resolve():o.cancelCall.reject(Li(e.reason)),B(this,lm,Ob).call(this,o,t);break;case Yn.CANCEL:if(!a)break;const l=Li(e.reason);Promise.try(a.onCancel||K6,l).then(function(){s.postMessage({sourceName:r,targetName:i,stream:Yn.CANCEL_COMPLETE,streamId:t,success:!0})},function(c){s.postMessage({sourceName:r,targetName:i,stream:Yn.CANCEL_COMPLETE,streamId:t,reason:Li(c)})}),a.sinkCapability.reject(l),a.isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}},lm=new WeakSet,Ob=async function(e,t){var r,i,s;await Promise.allSettled([(r=e.startCall)==null?void 0:r.promise,(i=e.pullCall)==null?void 0:i.promise,(s=e.cancelCall)==null?void 0:s.promise]),delete this.streamControllers[t]};var Iv;class xO{constructor({enableHWA:e=!1}){_(this,Iv,!1);L(this,Iv,e)}create(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");const r=this._createCanvas(e,t);return{canvas:r,context:r.getContext("2d",{willReadFrequently:!h(this,Iv)})}}reset(e,t,r){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||r<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=r}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,t){qt("Abstract method `_createCanvas` called.")}}Iv=new WeakMap;class _Z extends xO{constructor({ownerDocument:e=globalThis.document,enableHWA:t=!1}){super({enableHWA:t}),this._document=e}_createCanvas(e,t){const r=this._document.createElement("canvas");return r.width=e,r.height=t,r}}class AO{constructor({baseUrl:e=null,isCompressed:t=!0}){this.baseUrl=e,this.isCompressed=t}async fetch({name:e}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!e)throw new Error("CMap name must be specified.");const t=this.baseUrl+e+(this.isCompressed?".bcmap":"");return this._fetch(t).then(r=>({cMapData:r,isCompressed:this.isCompressed})).catch(r=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${t}`)})}async _fetch(e){qt("Abstract method `_fetch` called.")}}class J6 extends AO{async _fetch(e){const t=await E2(e,this.isCompressed?"arraybuffer":"text");return t instanceof ArrayBuffer?new Uint8Array(t):S2(t)}}class SO{addFilter(e){return"none"}addHCMFilter(e,t){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,t,r,i,s){return"none"}destroy(e=!1){}}var Hd,cm,fl,pl,Zr,qd,Wd,pr,Jr,Gd,U0,Bc,Qf,um,jb,$c,Zf,zx,EO,Mv,G_,zc,ep,Xd,H0,Yd,q0,Fv,X_,Kd,W0;class PZ extends SO{constructor({docId:t,ownerDocument:r=globalThis.document}){super();_(this,pr);_(this,Gd);_(this,Bc);_(this,um);_(this,$c);_(this,zx);_(this,Mv);_(this,zc);_(this,Xd);_(this,Yd);_(this,Fv);_(this,Kd);_(this,Hd,void 0);_(this,cm,void 0);_(this,fl,void 0);_(this,pl,void 0);_(this,Zr,void 0);_(this,qd,void 0);_(this,Wd,0);L(this,pl,t),L(this,Zr,r)}addFilter(t){if(!t)return"none";let r=h(this,pr,Jr).get(t);if(r)return r;const[i,s,o]=B(this,um,jb).call(this,t),a=t.length===1?i:`${i}${s}${o}`;if(r=h(this,pr,Jr).get(a),r)return h(this,pr,Jr).set(t,r),r;const l=`g_${h(this,pl)}_transfer_map_${ci(this,Wd)._++}`,c=B(this,$c,Zf).call(this,l);h(this,pr,Jr).set(t,c),h(this,pr,Jr).set(a,c);const u=B(this,zc,ep).call(this,l);return B(this,Yd,q0).call(this,i,s,o,u),c}addHCMFilter(t,r){var y;const i=`${t}-${r}`,s="base";let o=h(this,Gd,U0).get(s);if((o==null?void 0:o.key)===i||(o?((y=o.filter)==null||y.remove(),o.key=i,o.url="none",o.filter=null):(o={key:i,url:"none",filter:null},h(this,Gd,U0).set(s,o)),!t||!r))return o.url;const a=B(this,Kd,W0).call(this,t);t=Ke.makeHexColor(...a);const l=B(this,Kd,W0).call(this,r);if(r=Ke.makeHexColor(...l),h(this,Bc,Qf).style.color="",t==="#000000"&&r==="#ffffff"||t===r)return o.url;const c=new Array(256);for(let g=0;g<=255;g++){const x=g/255;c[g]=x<=.03928?x/12.92:((x+.055)/1.055)**2.4}const u=c.join(","),d=`g_${h(this,pl)}_hcm_filter`,p=o.filter=B(this,zc,ep).call(this,d);B(this,Yd,q0).call(this,u,u,u,p),B(this,Mv,G_).call(this,p);const f=(g,x)=>{const v=a[g]/255,w=l[g]/255,S=new Array(x+1);for(let C=0;C<=x;C++)S[C]=v+C/x*(w-v);return S.join(",")};return B(this,Yd,q0).call(this,f(0,5),f(1,5),f(2,5),p),o.url=B(this,$c,Zf).call(this,d),o.url}addAlphaFilter(t){let r=h(this,pr,Jr).get(t);if(r)return r;const[i]=B(this,um,jb).call(this,[t]),s=`alpha_${i}`;if(r=h(this,pr,Jr).get(s),r)return h(this,pr,Jr).set(t,r),r;const o=`g_${h(this,pl)}_alpha_map_${ci(this,Wd)._++}`,a=B(this,$c,Zf).call(this,o);h(this,pr,Jr).set(t,a),h(this,pr,Jr).set(s,a);const l=B(this,zc,ep).call(this,o);return B(this,Fv,X_).call(this,i,l),a}addLuminosityFilter(t){let r=h(this,pr,Jr).get(t||"luminosity");if(r)return r;let i,s;if(t?([i]=B(this,um,jb).call(this,[t]),s=`luminosity_${i}`):s="luminosity",r=h(this,pr,Jr).get(s),r)return h(this,pr,Jr).set(t,r),r;const o=`g_${h(this,pl)}_luminosity_map_${ci(this,Wd)._++}`,a=B(this,$c,Zf).call(this,o);h(this,pr,Jr).set(t,a),h(this,pr,Jr).set(s,a);const l=B(this,zc,ep).call(this,o);return B(this,zx,EO).call(this,l),t&&B(this,Fv,X_).call(this,i,l),a}addHighlightHCMFilter(t,r,i,s,o){var w;const a=`${r}-${i}-${s}-${o}`;let l=h(this,Gd,U0).get(t);if((l==null?void 0:l.key)===a||(l?((w=l.filter)==null||w.remove(),l.key=a,l.url="none",l.filter=null):(l={key:a,url:"none",filter:null},h(this,Gd,U0).set(t,l)),!r||!i))return l.url;const[c,u]=[r,i].map(B(this,Kd,W0).bind(this));let d=Math.round(.2126*c[0]+.7152*c[1]+.0722*c[2]),p=Math.round(.2126*u[0]+.7152*u[1]+.0722*u[2]),[f,y]=[s,o].map(B(this,Kd,W0).bind(this));p<d&&([d,p,f,y]=[p,d,y,f]),h(this,Bc,Qf).style.color="";const g=(S,C,N)=>{const $=new Array(256),R=(p-d)/N,k=S/255,W=(C-S)/(255*N);let X=0;for(let M=0;M<=N;M++){const j=Math.round(d+M*R),K=k+M*W;for(let U=X;U<=j;U++)$[U]=K;X=j+1}for(let M=X;M<256;M++)$[M]=$[X-1];return $.join(",")},x=`g_${h(this,pl)}_hcm_${t}_filter`,v=l.filter=B(this,zc,ep).call(this,x);return B(this,Mv,G_).call(this,v),B(this,Yd,q0).call(this,g(f[0],y[0],5),g(f[1],y[1],5),g(f[2],y[2],5),v),l.url=B(this,$c,Zf).call(this,x),l.url}destroy(t=!1){var r,i,s,o;t&&((r=h(this,qd))!=null&&r.size)||((i=h(this,fl))==null||i.parentNode.parentNode.remove(),L(this,fl,null),(s=h(this,cm))==null||s.clear(),L(this,cm,null),(o=h(this,qd))==null||o.clear(),L(this,qd,null),L(this,Wd,0))}}Hd=new WeakMap,cm=new WeakMap,fl=new WeakMap,pl=new WeakMap,Zr=new WeakMap,qd=new WeakMap,Wd=new WeakMap,pr=new WeakSet,Jr=function(){return h(this,cm)||L(this,cm,new Map)},Gd=new WeakSet,U0=function(){return h(this,qd)||L(this,qd,new Map)},Bc=new WeakSet,Qf=function(){if(!h(this,fl)){const t=h(this,Zr).createElement("div"),{style:r}=t;r.visibility="hidden",r.contain="strict",r.width=r.height=0,r.position="absolute",r.top=r.left=0,r.zIndex=-1;const i=h(this,Zr).createElementNS(Ya,"svg");i.setAttribute("width",0),i.setAttribute("height",0),L(this,fl,h(this,Zr).createElementNS(Ya,"defs")),t.append(i),i.append(h(this,fl)),h(this,Zr).body.append(t)}return h(this,fl)},um=new WeakSet,jb=function(t){if(t.length===1){const c=t[0],u=new Array(256);for(let p=0;p<256;p++)u[p]=c[p]/255;const d=u.join(",");return[d,d,d]}const[r,i,s]=t,o=new Array(256),a=new Array(256),l=new Array(256);for(let c=0;c<256;c++)o[c]=r[c]/255,a[c]=i[c]/255,l[c]=s[c]/255;return[o.join(","),a.join(","),l.join(",")]},$c=new WeakSet,Zf=function(t){if(h(this,Hd)===void 0){L(this,Hd,"");const r=h(this,Zr).URL;r!==h(this,Zr).baseURI&&(FS(r)?ft('#createUrl: ignore "data:"-URL for performance reasons.'):L(this,Hd,F7(r,"")))}return`url(${h(this,Hd)}#${t})`},zx=new WeakSet,EO=function(t){const r=h(this,Zr).createElementNS(Ya,"feColorMatrix");r.setAttribute("type","matrix"),r.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),t.append(r)},Mv=new WeakSet,G_=function(t){const r=h(this,Zr).createElementNS(Ya,"feColorMatrix");r.setAttribute("type","matrix"),r.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),t.append(r)},zc=new WeakSet,ep=function(t){const r=h(this,Zr).createElementNS(Ya,"filter");return r.setAttribute("color-interpolation-filters","sRGB"),r.setAttribute("id",t),h(this,Bc,Qf).append(r),r},Xd=new WeakSet,H0=function(t,r,i){const s=h(this,Zr).createElementNS(Ya,r);s.setAttribute("type","discrete"),s.setAttribute("tableValues",i),t.append(s)},Yd=new WeakSet,q0=function(t,r,i,s){const o=h(this,Zr).createElementNS(Ya,"feComponentTransfer");s.append(o),B(this,Xd,H0).call(this,o,"feFuncR",t),B(this,Xd,H0).call(this,o,"feFuncG",r),B(this,Xd,H0).call(this,o,"feFuncB",i)},Fv=new WeakSet,X_=function(t,r){const i=h(this,Zr).createElementNS(Ya,"feComponentTransfer");r.append(i),B(this,Xd,H0).call(this,i,"feFuncA",t)},Kd=new WeakSet,W0=function(t){return h(this,Bc,Qf).style.color=t,IN(getComputedStyle(h(this,Bc,Qf)).getPropertyValue("color"))};class CO{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!e)throw new Error("Font filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetch(t).catch(r=>{throw new Error(`Unable to load font data at: ${t}`)})}async _fetch(e){qt("Abstract method `_fetch` called.")}}class Q6 extends CO{async _fetch(e){const t=await E2(e,"arraybuffer");return new Uint8Array(t)}}class _O{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `wasmUrl` API parameter is provided.");if(!e)throw new Error("Wasm filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetch(t).catch(r=>{throw new Error(`Unable to load wasm data at: ${t}`)})}async _fetch(e){qt("Abstract method `_fetch` called.")}}class Z6 extends _O{async _fetch(e){const t=await E2(e,"arraybuffer");return new Uint8Array(t)}}vi&&ft("Please use the `legacy` build in Node.js environments.");async function FN(n){const t=await process.getBuiltinModule("fs").promises.readFile(n);return new Uint8Array(t)}class NZ extends SO{}class TZ extends xO{_createCanvas(e,t){return process.getBuiltinModule("module").createRequire(import.meta.url)("@napi-rs/canvas").createCanvas(e,t)}}class LZ extends AO{async _fetch(e){return FN(e)}}class kZ extends CO{async _fetch(e){return FN(e)}}class RZ extends _O{async _fetch(e){return FN(e)}}const Fr={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function Y_(n,e){if(!e)return;const t=e[2]-e[0],r=e[3]-e[1],i=new Path2D;i.rect(e[0],e[1],t,r),n.clip(i)}class DN{isModifyingCurrentTransform(){return!1}getPattern(){qt("Abstract method `getPattern` called.")}}class IZ extends DN{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let t;this._type==="axial"?t=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(t=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const r of this._colorStops)t.addColorStop(r[0],r[1]);return t}getPattern(e,t,r,i){let s;if(i===Fr.STROKE||i===Fr.FILL){const o=t.current.getClippedPathBoundingBox(i,vn(e))||[0,0,0,0],a=Math.ceil(o[2]-o[0])||1,l=Math.ceil(o[3]-o[1])||1,c=t.cachedCanvases.getCanvas("pattern",a,l),u=c.context;u.clearRect(0,0,u.canvas.width,u.canvas.height),u.beginPath(),u.rect(0,0,u.canvas.width,u.canvas.height),u.translate(-o[0],-o[1]),r=Ke.transform(r,[1,0,0,1,o[0],o[1]]),u.transform(...t.baseTransform),this.matrix&&u.transform(...this.matrix),Y_(u,this._bbox),u.fillStyle=this._createGradient(u),u.fill(),s=e.createPattern(c.canvas,"no-repeat");const d=new DOMMatrix(r);s.setTransform(d)}else Y_(e,this._bbox),s=this._createGradient(e);return s}}function BE(n,e,t,r,i,s,o,a){const l=e.coords,c=e.colors,u=n.data,d=n.width*4;let p;l[t+1]>l[r+1]&&(p=t,t=r,r=p,p=s,s=o,o=p),l[r+1]>l[i+1]&&(p=r,r=i,i=p,p=o,o=a,a=p),l[t+1]>l[r+1]&&(p=t,t=r,r=p,p=s,s=o,o=p);const f=(l[t]+e.offsetX)*e.scaleX,y=(l[t+1]+e.offsetY)*e.scaleY,g=(l[r]+e.offsetX)*e.scaleX,x=(l[r+1]+e.offsetY)*e.scaleY,v=(l[i]+e.offsetX)*e.scaleX,w=(l[i+1]+e.offsetY)*e.scaleY;if(y>=w)return;const S=c[s],C=c[s+1],N=c[s+2],$=c[o],R=c[o+1],k=c[o+2],W=c[a],X=c[a+1],M=c[a+2],j=Math.round(y),K=Math.round(w);let U,le,Q,ne,Y,se,de,be;for(let D=j;D<=K;D++){if(D<x){const ie=D<y?0:(y-D)/(y-x);U=f-(f-g)*ie,le=S-(S-$)*ie,Q=C-(C-R)*ie,ne=N-(N-k)*ie}else{let ie;D>w?ie=1:x===w?ie=0:ie=(x-D)/(x-w),U=g-(g-v)*ie,le=$-($-W)*ie,Q=R-(R-X)*ie,ne=k-(k-M)*ie}let G;D<y?G=0:D>w?G=1:G=(y-D)/(y-w),Y=f-(f-v)*G,se=S-(S-W)*G,de=C-(C-X)*G,be=N-(N-M)*G;const Z=Math.round(Math.min(U,Y)),re=Math.round(Math.max(U,Y));let oe=d*D+Z*4;for(let ie=Z;ie<=re;ie++)G=(U-ie)/(U-Y),G<0?G=0:G>1&&(G=1),u[oe++]=le-(le-se)*G|0,u[oe++]=Q-(Q-de)*G|0,u[oe++]=ne-(ne-be)*G|0,u[oe++]=255}}function MZ(n,e,t){const r=e.coords,i=e.colors;let s,o;switch(e.type){case"lattice":const a=e.verticesPerRow,l=Math.floor(r.length/a)-1,c=a-1;for(s=0;s<l;s++){let u=s*a;for(let d=0;d<c;d++,u++)BE(n,t,r[u],r[u+1],r[u+a],i[u],i[u+1],i[u+a]),BE(n,t,r[u+a+1],r[u+1],r[u+a],i[u+a+1],i[u+1],i[u+a])}break;case"triangles":for(s=0,o=r.length;s<o;s+=3)BE(n,t,r[s],r[s+1],r[s+2],i[s],i[s+1],i[s+2]);break;default:throw new Error("illegal figure")}}class FZ extends DN{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[6],this._background=e[7],this.matrix=null}_createMeshCanvas(e,t,r){const a=Math.floor(this._bounds[0]),l=Math.floor(this._bounds[1]),c=Math.ceil(this._bounds[2])-a,u=Math.ceil(this._bounds[3])-l,d=Math.min(Math.ceil(Math.abs(c*e[0]*1.1)),3e3),p=Math.min(Math.ceil(Math.abs(u*e[1]*1.1)),3e3),f=c/d,y=u/p,g={coords:this._coords,colors:this._colors,offsetX:-a,offsetY:-l,scaleX:1/f,scaleY:1/y},x=d+2*2,v=p+2*2,w=r.getCanvas("mesh",x,v),S=w.context,C=S.createImageData(d,p);if(t){const $=C.data;for(let R=0,k=$.length;R<k;R+=4)$[R]=t[0],$[R+1]=t[1],$[R+2]=t[2],$[R+3]=255}for(const $ of this._figures)MZ(C,$,g);return S.putImageData(C,2,2),{canvas:w.canvas,offsetX:a-2*f,offsetY:l-2*y,scaleX:f,scaleY:y}}isModifyingCurrentTransform(){return!0}getPattern(e,t,r,i){Y_(e,this._bbox);const s=new Float32Array(2);if(i===Fr.SHADING)Ke.singularValueDecompose2dScale(vn(e),s);else if(this.matrix){Ke.singularValueDecompose2dScale(this.matrix,s);const[a,l]=s;Ke.singularValueDecompose2dScale(t.baseTransform,s),s[0]*=a,s[1]*=l}else Ke.singularValueDecompose2dScale(t.baseTransform,s);const o=this._createMeshCanvas(s,i===Fr.SHADING?null:this._background,t.cachedCanvases);return i!==Fr.SHADING&&(e.setTransform(...t.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(o.offsetX,o.offsetY),e.scale(o.scaleX,o.scaleY),e.createPattern(o.canvas,"no-repeat")}}class DZ extends DN{getPattern(){return"hotpink"}}function OZ(n){switch(n[0]){case"RadialAxial":return new IZ(n);case"Mesh":return new FZ(n);case"Dummy":return new DZ}throw new Error(`Unknown IR type: ${n[0]}`)}const eR={COLORED:1,UNCOLORED:2},Vx=class Vx{constructor(e,t,r,i){this.color=e[1],this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.ctx=t,this.canvasGraphicsFactory=r,this.baseTransform=i}createPatternCanvas(e){const{bbox:t,operatorList:r,paintType:i,tilingType:s,color:o,canvasGraphicsFactory:a}=this;let{xstep:l,ystep:c}=this;l=Math.abs(l),c=Math.abs(c),MS("TilingType: "+s);const u=t[0],d=t[1],p=t[2],f=t[3],y=p-u,g=f-d,x=new Float32Array(2);Ke.singularValueDecompose2dScale(this.matrix,x);const[v,w]=x;Ke.singularValueDecompose2dScale(this.baseTransform,x);const S=v*x[0],C=w*x[1];let N=y,$=g,R=!1,k=!1;const W=Math.ceil(l*S),X=Math.ceil(c*C),M=Math.ceil(y*S),j=Math.ceil(g*C);W>=M?N=l:R=!0,X>=j?$=c:k=!0;const K=this.getSizeAndScale(N,this.ctx.canvas.width,S),U=this.getSizeAndScale($,this.ctx.canvas.height,C),le=e.cachedCanvases.getCanvas("pattern",K.size,U.size),Q=le.context,ne=a.createCanvasGraphics(Q);if(ne.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(ne,i,o),Q.translate(-K.scale*u,-U.scale*d),ne.transform(K.scale,0,0,U.scale,0,0),Q.save(),this.clipBbox(ne,u,d,p,f),ne.baseTransform=vn(ne.ctx),ne.executeOperatorList(r),ne.endDrawing(),Q.restore(),R||k){const Y=le.canvas;R&&(N=l),k&&($=c);const se=this.getSizeAndScale(N,this.ctx.canvas.width,S),de=this.getSizeAndScale($,this.ctx.canvas.height,C),be=se.size,D=de.size,G=e.cachedCanvases.getCanvas("pattern-workaround",be,D),Z=G.context,re=R?Math.floor(y/l):0,oe=k?Math.floor(g/c):0;for(let ie=0;ie<=re;ie++)for(let pe=0;pe<=oe;pe++)Z.drawImage(Y,be*ie,D*pe,be,D,0,0,be,D);return{canvas:G.canvas,scaleX:se.scale,scaleY:de.scale,offsetX:u,offsetY:d}}return{canvas:le.canvas,scaleX:K.scale,scaleY:U.scale,offsetX:u,offsetY:d}}getSizeAndScale(e,t,r){const i=Math.max(Vx.MAX_PATTERN_SIZE,t);let s=Math.ceil(e*r);return s>=i?s=i:r=s/e,{scale:r,size:s}}clipBbox(e,t,r,i,s){const o=i-t,a=s-r;e.ctx.rect(t,r,o,a),Ke.axialAlignedBoundingBox([t,r,i,s],vn(e.ctx),e.current.minMax),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,t,r){const i=e.ctx,s=e.current;switch(t){case eR.COLORED:const{fillStyle:o,strokeStyle:a}=this.ctx;i.fillStyle=s.fillColor=o,i.strokeStyle=s.strokeColor=a;break;case eR.UNCOLORED:i.fillStyle=i.strokeStyle=r,s.fillColor=s.strokeColor=r;break;default:throw new nZ(`Unsupported paint type: ${t}`)}}isModifyingCurrentTransform(){return!1}getPattern(e,t,r,i){let s=r;i!==Fr.SHADING&&(s=Ke.transform(s,t.baseTransform),this.matrix&&(s=Ke.transform(s,this.matrix)));const o=this.createPatternCanvas(t);let a=new DOMMatrix(s);a=a.translate(o.offsetX,o.offsetY),a=a.scale(1/o.scaleX,1/o.scaleY);const l=e.createPattern(o.canvas,"repeat");return l.setTransform(a),l}};Me(Vx,"MAX_PATTERN_SIZE",3e3);let K_=Vx;function jZ({src:n,srcPos:e=0,dest:t,width:r,height:i,nonBlackColor:s=4294967295,inverseDecode:o=!1}){const a=Or.isLittleEndian?4278190080:255,[l,c]=o?[s,a]:[a,s],u=r>>3,d=r&7,p=n.length;t=new Uint32Array(t.buffer);let f=0;for(let y=0;y<i;y++){for(const x=e+u;e<x;e++){const v=e<p?n[e]:255;t[f++]=v&128?c:l,t[f++]=v&64?c:l,t[f++]=v&32?c:l,t[f++]=v&16?c:l,t[f++]=v&8?c:l,t[f++]=v&4?c:l,t[f++]=v&2?c:l,t[f++]=v&1?c:l}if(d===0)continue;const g=e<p?n[e++]:255;for(let x=0;x<d;x++)t[f++]=g&1<<7-x?c:l}return{srcPos:e,destPos:f}}const tR=16,nR=100,BZ=15,rR=10,Fi=16,$E=new DOMMatrix,fs=new Float32Array(2),xp=new Float32Array([1/0,1/0,-1/0,-1/0]);function $Z(n,e){if(n._removeMirroring)throw new Error("Context is already forwarding operations.");n.__originalSave=n.save,n.__originalRestore=n.restore,n.__originalRotate=n.rotate,n.__originalScale=n.scale,n.__originalTranslate=n.translate,n.__originalTransform=n.transform,n.__originalSetTransform=n.setTransform,n.__originalResetTransform=n.resetTransform,n.__originalClip=n.clip,n.__originalMoveTo=n.moveTo,n.__originalLineTo=n.lineTo,n.__originalBezierCurveTo=n.bezierCurveTo,n.__originalRect=n.rect,n.__originalClosePath=n.closePath,n.__originalBeginPath=n.beginPath,n._removeMirroring=()=>{n.save=n.__originalSave,n.restore=n.__originalRestore,n.rotate=n.__originalRotate,n.scale=n.__originalScale,n.translate=n.__originalTranslate,n.transform=n.__originalTransform,n.setTransform=n.__originalSetTransform,n.resetTransform=n.__originalResetTransform,n.clip=n.__originalClip,n.moveTo=n.__originalMoveTo,n.lineTo=n.__originalLineTo,n.bezierCurveTo=n.__originalBezierCurveTo,n.rect=n.__originalRect,n.closePath=n.__originalClosePath,n.beginPath=n.__originalBeginPath,delete n._removeMirroring},n.save=function(){e.save(),this.__originalSave()},n.restore=function(){e.restore(),this.__originalRestore()},n.translate=function(t,r){e.translate(t,r),this.__originalTranslate(t,r)},n.scale=function(t,r){e.scale(t,r),this.__originalScale(t,r)},n.transform=function(t,r,i,s,o,a){e.transform(t,r,i,s,o,a),this.__originalTransform(t,r,i,s,o,a)},n.setTransform=function(t,r,i,s,o,a){e.setTransform(t,r,i,s,o,a),this.__originalSetTransform(t,r,i,s,o,a)},n.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},n.rotate=function(t){e.rotate(t),this.__originalRotate(t)},n.clip=function(t){e.clip(t),this.__originalClip(t)},n.moveTo=function(t,r){e.moveTo(t,r),this.__originalMoveTo(t,r)},n.lineTo=function(t,r){e.lineTo(t,r),this.__originalLineTo(t,r)},n.bezierCurveTo=function(t,r,i,s,o,a){e.bezierCurveTo(t,r,i,s,o,a),this.__originalBezierCurveTo(t,r,i,s,o,a)},n.rect=function(t,r,i,s){e.rect(t,r,i,s),this.__originalRect(t,r,i,s)},n.closePath=function(){e.closePath(),this.__originalClosePath()},n.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class zZ{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,t,r){let i;return this.cache[e]!==void 0?(i=this.cache[e],this.canvasFactory.reset(i,t,r)):(i=this.canvasFactory.create(t,r),this.cache[e]=i),i}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}}function nb(n,e,t,r,i,s,o,a,l,c){const[u,d,p,f,y,g]=vn(n);if(d===0&&p===0){const w=o*u+y,S=Math.round(w),C=a*f+g,N=Math.round(C),$=(o+l)*u+y,R=Math.abs(Math.round($)-S)||1,k=(a+c)*f+g,W=Math.abs(Math.round(k)-N)||1;return n.setTransform(Math.sign(u),0,0,Math.sign(f),S,N),n.drawImage(e,t,r,i,s,0,0,R,W),n.setTransform(u,d,p,f,y,g),[R,W]}if(u===0&&f===0){const w=a*p+y,S=Math.round(w),C=o*d+g,N=Math.round(C),$=(a+c)*p+y,R=Math.abs(Math.round($)-S)||1,k=(o+l)*d+g,W=Math.abs(Math.round(k)-N)||1;return n.setTransform(0,Math.sign(d),Math.sign(p),0,S,N),n.drawImage(e,t,r,i,s,0,0,W,R),n.setTransform(u,d,p,f,y,g),[W,R]}n.drawImage(e,t,r,i,s,o,a,l,c);const x=Math.hypot(u,d),v=Math.hypot(p,f);return[x*l,v*c]}class iR{constructor(e,t){Me(this,"alphaIsShape",!1);Me(this,"fontSize",0);Me(this,"fontSizeScale",1);Me(this,"textMatrix",null);Me(this,"textMatrixScale",1);Me(this,"fontMatrix",C_);Me(this,"leading",0);Me(this,"x",0);Me(this,"y",0);Me(this,"lineX",0);Me(this,"lineY",0);Me(this,"charSpacing",0);Me(this,"wordSpacing",0);Me(this,"textHScale",1);Me(this,"textRenderingMode",Kr.FILL);Me(this,"textRise",0);Me(this,"fillColor","#000000");Me(this,"strokeColor","#000000");Me(this,"patternFill",!1);Me(this,"patternStroke",!1);Me(this,"fillAlpha",1);Me(this,"strokeAlpha",1);Me(this,"lineWidth",1);Me(this,"activeSMask",null);Me(this,"transferMaps","none");this.clipBox=new Float32Array([0,0,e,t]),this.minMax=xp.slice()}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e.minMax=this.minMax.slice(),e}getPathBoundingBox(e=Fr.FILL,t=null){const r=this.minMax.slice();if(e===Fr.STROKE){t||qt("Stroke bounding box must include transform."),Ke.singularValueDecompose2dScale(t,fs);const i=fs[0]*this.lineWidth/2,s=fs[1]*this.lineWidth/2;r[0]-=i,r[1]-=s,r[2]+=i,r[3]+=s}return r}updateClipFromPath(){const e=Ke.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minMax[0]===1/0}startNewPathAndClipBox(e){this.clipBox.set(e,0),this.minMax.set(xp,0)}getClippedPathBoundingBox(e=Fr.FILL,t=null){return Ke.intersect(this.clipBox,this.getPathBoundingBox(e,t))}}function sR(n,e){if(e instanceof ImageData){n.putImageData(e,0,0);return}const t=e.height,r=e.width,i=t%Fi,s=(t-i)/Fi,o=i===0?s:s+1,a=n.createImageData(r,Fi);let l=0,c;const u=e.data,d=a.data;let p,f,y,g;if(e.kind===Nb.GRAYSCALE_1BPP){const x=u.byteLength,v=new Uint32Array(d.buffer,0,d.byteLength>>2),w=v.length,S=r+7>>3,C=4294967295,N=Or.isLittleEndian?4278190080:255;for(p=0;p<o;p++){for(y=p<s?Fi:i,c=0,f=0;f<y;f++){const $=x-l;let R=0;const k=$>S?r:$*8-7,W=k&-8;let X=0,M=0;for(;R<W;R+=8)M=u[l++],v[c++]=M&128?C:N,v[c++]=M&64?C:N,v[c++]=M&32?C:N,v[c++]=M&16?C:N,v[c++]=M&8?C:N,v[c++]=M&4?C:N,v[c++]=M&2?C:N,v[c++]=M&1?C:N;for(;R<k;R++)X===0&&(M=u[l++],X=128),v[c++]=M&X?C:N,X>>=1}for(;c<w;)v[c++]=0;n.putImageData(a,0,p*Fi)}}else if(e.kind===Nb.RGBA_32BPP){for(f=0,g=r*Fi*4,p=0;p<s;p++)d.set(u.subarray(l,l+g)),l+=g,n.putImageData(a,0,f),f+=Fi;p<o&&(g=r*i*4,d.set(u.subarray(l,l+g)),n.putImageData(a,0,f))}else if(e.kind===Nb.RGB_24BPP)for(y=Fi,g=r*y,p=0;p<o;p++){for(p>=s&&(y=i,g=r*y),c=0,f=g;f--;)d[c++]=u[l++],d[c++]=u[l++],d[c++]=u[l++],d[c++]=255;n.putImageData(a,0,p*Fi)}else throw new Error(`bad image kind: ${e.kind}`)}function oR(n,e){if(e.bitmap){n.drawImage(e.bitmap,0,0);return}const t=e.height,r=e.width,i=t%Fi,s=(t-i)/Fi,o=i===0?s:s+1,a=n.createImageData(r,Fi);let l=0;const c=e.data,u=a.data;for(let d=0;d<o;d++){const p=d<s?Fi:i;({srcPos:l}=jZ({src:c,srcPos:l,dest:u,width:r,height:p,nonBlackColor:0})),n.putImageData(a,0,d*Fi)}}function N0(n,e){const t=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const r of t)n[r]!==void 0&&(e[r]=n[r]);n.setLineDash!==void 0&&(e.setLineDash(n.getLineDash()),e.lineDashOffset=n.lineDashOffset)}function rb(n){n.strokeStyle=n.fillStyle="#000000",n.fillRule="nonzero",n.globalAlpha=1,n.lineWidth=1,n.lineCap="butt",n.lineJoin="miter",n.miterLimit=10,n.globalCompositeOperation="source-over",n.font="10px sans-serif",n.setLineDash!==void 0&&(n.setLineDash([]),n.lineDashOffset=0);const{filter:e}=n;e!=="none"&&e!==""&&(n.filter="none")}function aR(n,e){if(e)return!0;Ke.singularValueDecompose2dScale(n,fs);const t=Math.fround(Ia.pixelRatio*Ou.PDF_TO_CSS_UNITS);return fs[0]<=t&&fs[1]<=t}const VZ=["butt","round","square"],UZ=["miter","round","bevel"],HZ={},lR={};var Dv,J_,Ov,Q_,jv,Z_;const VN=class VN{constructor(e,t,r,i,s,{optionalContentConfig:o,markedContentStack:a=null},l,c){_(this,Dv);_(this,Ov);_(this,jv);this.ctx=e,this.current=new iR(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=r,this.canvasFactory=i,this.filterFactory=s,this.groupStack=[],this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=a||[],this.optionalContentConfig=o,this.cachedCanvases=new zZ(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=l,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=c,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(e,t=null){return typeof e=="string"?e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e):t}beginDrawing({transform:e,viewport:t,transparency:r=!1,background:i=null}){const s=this.ctx.canvas.width,o=this.ctx.canvas.height,a=this.ctx.fillStyle;if(this.ctx.fillStyle=i||"#ffffff",this.ctx.fillRect(0,0,s,o),this.ctx.fillStyle=a,r){const l=this.cachedCanvases.getCanvas("transparent",s,o);this.compositeCtx=this.ctx,this.transparentCanvas=l.canvas,this.ctx=l.context,this.ctx.save(),this.ctx.transform(...vn(this.compositeCtx))}this.ctx.save(),rb(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...t.transform),this.viewportScale=t.scale,this.baseTransform=vn(this.ctx)}executeOperatorList(e,t,r,i){const s=e.argsArray,o=e.fnArray;let a=t||0;const l=s.length;if(l===a)return a;const c=l-a>rR&&typeof r=="function",u=c?Date.now()+BZ:0;let d=0;const p=this.commonObjs,f=this.objs;let y;for(;;){if(i!==void 0&&a===i.nextBreakPoint)return i.breakIt(a,r),a;if(y=o[a],y!==Xw.dependency)this[y].apply(this,s[a]);else for(const g of s[a]){const x=g.startsWith("g_")?p:f;if(!x.has(g))return x.get(g,r),a}if(a++,a===l)return a;if(c&&++d>rR){if(Date.now()>u)return r(),a;d=0}}}endDrawing(){B(this,Dv,J_).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const t of e.values())typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&(t.width=t.height=0);e.clear()}this._cachedBitmapsMap.clear(),B(this,Ov,Q_).call(this)}_scaleImage(e,t){const r=e.width??e.displayWidth,i=e.height??e.displayHeight;let s=Math.max(Math.hypot(t[0],t[1]),1),o=Math.max(Math.hypot(t[2],t[3]),1),a=r,l=i,c="prescale1",u,d;for(;s>2&&a>1||o>2&&l>1;){let p=a,f=l;s>2&&a>1&&(p=a>=16384?Math.floor(a/2)-1||1:Math.ceil(a/2),s/=a/p),o>2&&l>1&&(f=l>=16384?Math.floor(l/2)-1||1:Math.ceil(l)/2,o/=l/f),u=this.cachedCanvases.getCanvas(c,p,f),d=u.context,d.clearRect(0,0,p,f),d.drawImage(e,0,0,a,l,0,0,p,f),e=u.canvas,a=p,l=f,c=c==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:a,paintHeight:l}}_createMaskCanvas(e){const t=this.ctx,{width:r,height:i}=e,s=this.current.fillColor,o=this.current.patternFill,a=vn(t);let l,c,u,d;if((e.bitmap||e.data)&&e.count>1){const W=e.bitmap||e.data.buffer;c=JSON.stringify(o?a:[a.slice(0,4),s]),l=this._cachedBitmapsMap.get(W),l||(l=new Map,this._cachedBitmapsMap.set(W,l));const X=l.get(c);if(X&&!o){const M=Math.round(Math.min(a[0],a[2])+a[4]),j=Math.round(Math.min(a[1],a[3])+a[5]);return{canvas:X,offsetX:M,offsetY:j}}u=X}u||(d=this.cachedCanvases.getCanvas("maskCanvas",r,i),oR(d.context,e));let p=Ke.transform(a,[1/r,0,0,-1/i,0,0]);p=Ke.transform(p,[1,0,0,1,0,-i]);const f=xp.slice();Ke.axialAlignedBoundingBox([0,0,r,i],p,f);const[y,g,x,v]=f,w=Math.round(x-y)||1,S=Math.round(v-g)||1,C=this.cachedCanvases.getCanvas("fillCanvas",w,S),N=C.context,$=y,R=g;N.translate(-$,-R),N.transform(...p),u||(u=this._scaleImage(d.canvas,Zo(N)),u=u.img,l&&o&&l.set(c,u)),N.imageSmoothingEnabled=aR(vn(N),e.interpolate),nb(N,u,0,0,u.width,u.height,0,0,r,i),N.globalCompositeOperation="source-in";const k=Ke.transform(Zo(N),[1,0,0,1,-$,-R]);return N.fillStyle=o?s.getPattern(t,this,k,Fr.FILL):s,N.fillRect(0,0,r,i),l&&!o&&(this.cachedCanvases.delete("fillCanvas"),l.set(c,C.canvas)),{canvas:C.canvas,offsetX:Math.round($),offsetY:Math.round(R)}}setLineWidth(e){e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(e){this.ctx.lineCap=VZ[e]}setLineJoin(e){this.ctx.lineJoin=UZ[e]}setMiterLimit(e){this.ctx.miterLimit=e}setDash(e,t){const r=this.ctx;r.setLineDash!==void 0&&(r.setLineDash(e),r.lineDashOffset=t)}setRenderingIntent(e){}setFlatness(e){}setGState(e){for(const[t,r]of e)switch(t){case"LW":this.setLineWidth(r);break;case"LC":this.setLineCap(r);break;case"LJ":this.setLineJoin(r);break;case"ML":this.setMiterLimit(r);break;case"D":this.setDash(r[0],r[1]);break;case"RI":this.setRenderingIntent(r);break;case"FL":this.setFlatness(r);break;case"Font":this.setFont(r[0],r[1]);break;case"CA":this.current.strokeAlpha=r;break;case"ca":this.ctx.globalAlpha=this.current.fillAlpha=r;break;case"BM":this.ctx.globalCompositeOperation=r;break;case"SMask":this.current.activeSMask=r?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(r);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const e=this.ctx.canvas.width,t=this.ctx.canvas.height,r="smaskGroupAt"+this.groupLevel,i=this.cachedCanvases.getCanvas(r,e,t);this.suspendedCtx=this.ctx;const s=this.ctx=i.context;s.setTransform(this.suspendedCtx.getTransform()),N0(this.suspendedCtx,s),$Z(s,this.suspendedCtx),this.setGState([["BM","source-over"]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),N0(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const t=this.current.activeSMask,r=this.suspendedCtx;this.composeSMask(r,t,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,t,r,i){const s=i[0],o=i[1],a=i[2]-s,l=i[3]-o;a===0||l===0||(this.genericComposeSMask(t.context,r,a,l,t.subtype,t.backdrop,t.transferMap,s,o,t.offsetX,t.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(r.canvas,0,0),e.restore())}genericComposeSMask(e,t,r,i,s,o,a,l,c,u,d){let p=e.canvas,f=l-u,y=c-d;if(o)if(f<0||y<0||f+r>p.width||y+i>p.height){const x=this.cachedCanvases.getCanvas("maskExtension",r,i),v=x.context;v.drawImage(p,-f,-y),v.globalCompositeOperation="destination-atop",v.fillStyle=o,v.fillRect(0,0,r,i),v.globalCompositeOperation="source-over",p=x.canvas,f=y=0}else{e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const x=new Path2D;x.rect(f,y,r,i),e.clip(x),e.globalCompositeOperation="destination-atop",e.fillStyle=o,e.fillRect(f,y,r,i),e.restore()}t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0),s==="Alpha"&&a?t.filter=this.filterFactory.addAlphaFilter(a):s==="Luminosity"&&(t.filter=this.filterFactory.addLuminosityFilter(a));const g=new Path2D;g.rect(l,c,r,i),t.clip(g),t.globalCompositeOperation="destination-in",t.drawImage(p,f,y,r,i,l,c,r,i),t.restore()}save(){this.inSMaskMode&&N0(this.ctx,this.suspendedCtx),this.ctx.save();const e=this.current;this.stateStack.push(e),this.current=e.clone()}restore(){if(this.stateStack.length===0){this.inSMaskMode&&this.endSMaskMode();return}this.current=this.stateStack.pop(),this.ctx.restore(),this.inSMaskMode&&N0(this.suspendedCtx,this.ctx),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}transform(e,t,r,i,s,o){this.ctx.transform(e,t,r,i,s,o),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,t,r){let[i]=t;if(!r){i||(i=t[0]=new Path2D),this[e](i);return}if(!(i instanceof Path2D)){const s=t[0]=new Path2D;for(let o=0,a=i.length;o<a;)switch(i[o++]){case Z5.moveTo:s.moveTo(i[o++],i[o++]);break;case Z5.lineTo:s.lineTo(i[o++],i[o++]);break;case Z5.curveTo:s.bezierCurveTo(i[o++],i[o++],i[o++],i[o++],i[o++],i[o++]);break;case Z5.closePath:s.closePath();break;default:ft(`Unrecognized drawing path operator: ${i[o-1]}`);break}i=s}Ke.axialAlignedBoundingBox(r,vn(this.ctx),this.current.minMax),this[e](i)}closePath(){this.ctx.closePath()}stroke(e,t=!0){const r=this.ctx,i=this.current.strokeColor;if(r.globalAlpha=this.current.strokeAlpha,this.contentVisible)if(typeof i=="object"&&(i!=null&&i.getPattern)){const s=i.isModifyingCurrentTransform()?r.getTransform():null;if(r.save(),r.strokeStyle=i.getPattern(r,this,Zo(r),Fr.STROKE),s){const o=new Path2D;o.addPath(e,r.getTransform().invertSelf().multiplySelf(s)),e=o}this.rescaleAndStroke(e,!1),r.restore()}else this.rescaleAndStroke(e,!0);t&&this.consumePath(e,this.current.getClippedPathBoundingBox(Fr.STROKE,vn(this.ctx))),r.globalAlpha=this.current.fillAlpha}closeStroke(e){this.stroke(e)}fill(e,t=!0){const r=this.ctx,i=this.current.fillColor,s=this.current.patternFill;let o=!1;if(s){const l=i.isModifyingCurrentTransform()?r.getTransform():null;if(r.save(),r.fillStyle=i.getPattern(r,this,Zo(r),Fr.FILL),l){const c=new Path2D;c.addPath(e,r.getTransform().invertSelf().multiplySelf(l)),e=c}o=!0}const a=this.current.getClippedPathBoundingBox();this.contentVisible&&a!==null&&(this.pendingEOFill?(r.fill(e,"evenodd"),this.pendingEOFill=!1):r.fill(e)),o&&r.restore(),t&&this.consumePath(e,a)}eoFill(e){this.pendingEOFill=!0,this.fill(e)}fillStroke(e){this.fill(e,!1),this.stroke(e,!1),this.consumePath(e)}eoFillStroke(e){this.pendingEOFill=!0,this.fillStroke(e)}closeFillStroke(e){this.fillStroke(e)}closeEOFillStroke(e){this.pendingEOFill=!0,this.fillStroke(e)}endPath(e){this.consumePath(e)}rawFillPath(e){this.ctx.fill(e)}clip(){this.pendingClip=HZ}eoClip(){this.pendingClip=lR}beginText(){this.current.textMatrix=null,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const e=this.pendingTextPaths,t=this.ctx;if(e===void 0)return;const r=new Path2D,i=t.getTransform().invertSelf();for(const{transform:s,x:o,y:a,fontSize:l,path:c}of e)r.addPath(c,new DOMMatrix(s).preMultiplySelf(i).translate(o,a).scale(l,-l));t.clip(r),delete this.pendingTextPaths}setCharSpacing(e){this.current.charSpacing=e}setWordSpacing(e){this.current.wordSpacing=e}setHScale(e){this.current.textHScale=e/100}setLeading(e){this.current.leading=-e}setFont(e,t){var u;const r=this.commonObjs.get(e),i=this.current;if(!r)throw new Error(`Can't find font for ${e}`);if(i.fontMatrix=r.fontMatrix||C_,(i.fontMatrix[0]===0||i.fontMatrix[3]===0)&&ft("Invalid font matrix for font "+e),t<0?(t=-t,i.fontDirection=-1):i.fontDirection=1,this.current.font=r,this.current.fontSize=t,r.isType3Font)return;const s=r.loadedName||"sans-serif",o=((u=r.systemFontInfo)==null?void 0:u.css)||`"${s}", ${r.fallbackName}`;let a="normal";r.black?a="900":r.bold&&(a="bold");const l=r.italic?"italic":"normal";let c=t;t<tR?c=tR:t>nR&&(c=nR),this.current.fontSizeScale=t/c,this.ctx.font=`${l} ${a} ${c}px ${o}`}setTextRenderingMode(e){this.current.textRenderingMode=e}setTextRise(e){this.current.textRise=e}moveText(e,t){this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=t}setLeadingMoveText(e,t){this.setLeading(-t),this.moveText(e,t)}setTextMatrix(e){const{current:t}=this;t.textMatrix=e,t.textMatrixScale=Math.hypot(e[0],e[1]),t.x=t.lineX=0,t.y=t.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(e,t,r,i,s){const o=this.ctx,a=this.current,l=a.font,c=a.textRenderingMode,u=a.fontSize/a.fontSizeScale,d=c&Kr.FILL_STROKE_MASK,p=!!(c&Kr.ADD_TO_PATH_FLAG),f=a.patternFill&&!l.missingFile,y=a.patternStroke&&!l.missingFile;let g;if((l.disableFontFace||p||f||y)&&(g=l.getPathGenerator(this.commonObjs,e)),l.disableFontFace||f||y){o.save(),o.translate(t,r),o.scale(u,-u);let x;if((d===Kr.FILL||d===Kr.FILL_STROKE)&&(i?(x=o.getTransform(),o.setTransform(...i),o.fill(B(this,jv,Z_).call(this,g,x,i))):o.fill(g)),d===Kr.STROKE||d===Kr.FILL_STROKE)if(s){x||(x=o.getTransform()),o.setTransform(...s);const{a:v,b:w,c:S,d:C}=x,N=Ke.inverseTransform(s),$=Ke.transform([v,w,S,C,0,0],N);Ke.singularValueDecompose2dScale($,fs),o.lineWidth*=Math.max(fs[0],fs[1])/u,o.stroke(B(this,jv,Z_).call(this,g,x,s))}else o.lineWidth/=u,o.stroke(g);o.restore()}else(d===Kr.FILL||d===Kr.FILL_STROKE)&&o.fillText(e,t,r),(d===Kr.STROKE||d===Kr.FILL_STROKE)&&o.strokeText(e,t,r);p&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:vn(o),x:t,y:r,fontSize:u,path:g})}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const t=e.getImageData(0,0,10,10).data;let r=!1;for(let i=3;i<t.length;i+=4)if(t[i]>0&&t[i]<255){r=!0;break}return Ct(this,"isFontSubpixelAAEnabled",r)}showText(e){const t=this.current,r=t.font;if(r.isType3Font)return this.showType3Text(e);const i=t.fontSize;if(i===0)return;const s=this.ctx,o=t.fontSizeScale,a=t.charSpacing,l=t.wordSpacing,c=t.fontDirection,u=t.textHScale*c,d=e.length,p=r.vertical,f=p?1:-1,y=r.defaultVMetrics,g=i*t.fontMatrix[0],x=t.textRenderingMode===Kr.FILL&&!r.disableFontFace&&!t.patternFill;s.save(),t.textMatrix&&s.transform(...t.textMatrix),s.translate(t.x,t.y+t.textRise),c>0?s.scale(u,-1):s.scale(u,1);let v,w;if(t.patternFill){s.save();const R=t.fillColor.getPattern(s,this,Zo(s),Fr.FILL);v=vn(s),s.restore(),s.fillStyle=R}if(t.patternStroke){s.save();const R=t.strokeColor.getPattern(s,this,Zo(s),Fr.STROKE);w=vn(s),s.restore(),s.strokeStyle=R}let S=t.lineWidth;const C=t.textMatrixScale;if(C===0||S===0){const R=t.textRenderingMode&Kr.FILL_STROKE_MASK;(R===Kr.STROKE||R===Kr.FILL_STROKE)&&(S=this.getSinglePixelWidth())}else S/=C;if(o!==1&&(s.scale(o,o),S/=o),s.lineWidth=S,r.isInvalidPDFjsFont){const R=[];let k=0;for(const W of e)R.push(W.unicode),k+=W.width;s.fillText(R.join(""),0,0),t.x+=k*g*u,s.restore(),this.compose();return}let N=0,$;for($=0;$<d;++$){const R=e[$];if(typeof R=="number"){N+=f*R*i/1e3;continue}let k=!1;const W=(R.isSpace?l:0)+a,X=R.fontChar,M=R.accent;let j,K,U=R.width;if(p){const Q=R.vmetric||y,ne=-(R.vmetric?Q[1]:U*.5)*g,Y=Q[2]*g;U=Q?-Q[0]:U,j=ne/o,K=(N+Y)/o}else j=N/o,K=0;if(r.remeasure&&U>0){const Q=s.measureText(X).width*1e3/i*o;if(U<Q&&this.isFontSubpixelAAEnabled){const ne=U/Q;k=!0,s.save(),s.scale(ne,1),j/=ne}else U!==Q&&(j+=(U-Q)/2e3*i/o)}if(this.contentVisible&&(R.isInFont||r.missingFile)){if(x&&!M)s.fillText(X,j,K);else if(this.paintChar(X,j,K,v,w),M){const Q=j+i*M.offset.x/o,ne=K-i*M.offset.y/o;this.paintChar(M.fontChar,Q,ne,v,w)}}const le=p?U*g-W*c:U*g+W*c;N+=le,k&&s.restore()}p?t.y-=N:t.x+=N*u,s.restore(),this.compose()}showType3Text(e){const t=this.ctx,r=this.current,i=r.font,s=r.fontSize,o=r.fontDirection,a=i.vertical?1:-1,l=r.charSpacing,c=r.wordSpacing,u=r.textHScale*o,d=r.fontMatrix||C_,p=e.length,f=r.textRenderingMode===Kr.INVISIBLE;let y,g,x,v;if(!(f||s===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,t.save(),r.textMatrix&&t.transform(...r.textMatrix),t.translate(r.x,r.y+r.textRise),t.scale(u,o),y=0;y<p;++y){if(g=e[y],typeof g=="number"){v=a*g*s/1e3,this.ctx.translate(v,0),r.x+=v*u;continue}const w=(g.isSpace?c:0)+l,S=i.charProcOperatorList[g.operatorListId];S?this.contentVisible&&(this.save(),t.scale(s,s),t.transform(...d),this.executeOperatorList(S),this.restore()):ft(`Type3 character "${g.operatorListId}" is not available.`);const C=[g.width,0];Ke.applyTransform(C,d),x=C[0]*s+w,t.translate(x,0),r.x+=x*u}t.restore()}}setCharWidth(e,t){}setCharWidthAndBounds(e,t,r,i,s,o){const a=new Path2D;a.rect(r,i,s-r,o-i),this.ctx.clip(a),this.endPath()}getColorN_Pattern(e){let t;if(e[0]==="TilingPattern"){const r=this.baseTransform||vn(this.ctx),i={createCanvasGraphics:s=>new VN(s,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};t=new K_(e,this.ctx,i,r)}else t=this._getPattern(e[1],e[2]);return t}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments),this.current.patternStroke=!0}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(e){this.ctx.strokeStyle=this.current.strokeColor=e,this.current.patternStroke=!1}setStrokeTransparent(){this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(e){this.ctx.fillStyle=this.current.fillColor=e,this.current.patternFill=!1}setFillTransparent(){this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(e,t=null){let r;return this.cachedPatterns.has(e)?r=this.cachedPatterns.get(e):(r=OZ(this.getObject(e)),this.cachedPatterns.set(e,r)),t&&(r.matrix=t),r}shadingFill(e){if(!this.contentVisible)return;const t=this.ctx;this.save();const r=this._getPattern(e);t.fillStyle=r.getPattern(t,this,Zo(t),Fr.SHADING);const i=Zo(t);if(i){const{width:s,height:o}=t.canvas,a=xp.slice();Ke.axialAlignedBoundingBox([0,0,s,o],i,a);const[l,c,u,d]=a;this.ctx.fillRect(l,c,u-l,d-c)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){qt("Should not call beginInlineImage")}beginImageData(){qt("Should not call beginImageData")}paintFormXObjectBegin(e,t){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),e&&this.transform(...e),this.baseTransform=vn(this.ctx),t)){Ke.axialAlignedBoundingBox(t,this.baseTransform,this.current.minMax);const[r,i,s,o]=t,a=new Path2D;a.rect(r,i,s-r,o-i),this.ctx.clip(a),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const t=this.ctx;e.isolated||MS("TODO: Support non-isolated groups."),e.knockout&&ft("Knockout groups not supported.");const r=vn(t);if(e.matrix&&t.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let i=xp.slice();Ke.axialAlignedBoundingBox(e.bbox,vn(t),i);const s=[0,0,t.canvas.width,t.canvas.height];i=Ke.intersect(i,s)||[0,0,0,0];const o=Math.floor(i[0]),a=Math.floor(i[1]),l=Math.max(Math.ceil(i[2])-o,1),c=Math.max(Math.ceil(i[3])-a,1);this.current.startNewPathAndClipBox([0,0,l,c]);let u="groupAt"+this.groupLevel;e.smask&&(u+="_smask_"+this.smaskCounter++%2);const d=this.cachedCanvases.getCanvas(u,l,c),p=d.context;p.translate(-o,-a),p.transform(...r);let f=new Path2D;const[y,g,x,v]=e.bbox;if(f.rect(y,g,x-y,v-g),e.matrix){const w=new Path2D;w.addPath(f,new DOMMatrix(e.matrix)),f=w}p.clip(f),e.smask?this.smaskStack.push({canvas:d.canvas,context:p,offsetX:o,offsetY:a,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}):(t.setTransform(1,0,0,1,0,0),t.translate(o,a),t.save()),N0(t,p),this.ctx=p,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(t),this.groupLevel++}endGroup(e){if(!this.contentVisible)return;this.groupLevel--;const t=this.ctx,r=this.groupStack.pop();if(this.ctx=r,this.ctx.imageSmoothingEnabled=!1,e.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const i=vn(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...i);const s=xp.slice();Ke.axialAlignedBoundingBox([0,0,t.canvas.width,t.canvas.height],i,s),this.ctx.drawImage(t.canvas,0,0),this.ctx.restore(),this.compose(s)}}beginAnnotation(e,t,r,i,s){if(B(this,Dv,J_).call(this),rb(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),t){const o=t[2]-t[0],a=t[3]-t[1];if(s&&this.annotationCanvasMap){r=r.slice(),r[4]-=t[0],r[5]-=t[1],t=t.slice(),t[0]=t[1]=0,t[2]=o,t[3]=a,Ke.singularValueDecompose2dScale(vn(this.ctx),fs);const{viewportScale:l}=this,c=Math.ceil(o*this.outputScaleX*l),u=Math.ceil(a*this.outputScaleY*l);this.annotationCanvas=this.canvasFactory.create(c,u);const{canvas:d,context:p}=this.annotationCanvas;this.annotationCanvasMap.set(e,d),this.annotationCanvas.savedCtx=this.ctx,this.ctx=p,this.ctx.save(),this.ctx.setTransform(fs[0],0,0,-fs[1],0,a*fs[1]),rb(this.ctx)}else{rb(this.ctx),this.endPath();const l=new Path2D;l.rect(t[0],t[1],o,a),this.ctx.clip(l)}}this.current=new iR(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...r),this.transform(...i)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),B(this,Ov,Q_).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e){if(!this.contentVisible)return;const t=e.count;e=this.getObject(e.data,e),e.count=t;const r=this.ctx,i=this._createMaskCanvas(e),s=i.canvas;r.save(),r.setTransform(1,0,0,1,0,0),r.drawImage(s,i.offsetX,i.offsetY),r.restore(),this.compose()}paintImageMaskXObjectRepeat(e,t,r=0,i=0,s,o){if(!this.contentVisible)return;e=this.getObject(e.data,e);const a=this.ctx;a.save();const l=vn(a);a.transform(t,r,i,s,0,0);const c=this._createMaskCanvas(e);a.setTransform(1,0,0,1,c.offsetX-l[4],c.offsetY-l[5]);for(let u=0,d=o.length;u<d;u+=2){const p=Ke.transform(l,[t,r,i,s,o[u],o[u+1]]);a.drawImage(c.canvas,p[4],p[5])}a.restore(),this.compose()}paintImageMaskXObjectGroup(e){if(!this.contentVisible)return;const t=this.ctx,r=this.current.fillColor,i=this.current.patternFill;for(const s of e){const{data:o,width:a,height:l,transform:c}=s,u=this.cachedCanvases.getCanvas("maskCanvas",a,l),d=u.context;d.save();const p=this.getObject(o,s);oR(d,p),d.globalCompositeOperation="source-in",d.fillStyle=i?r.getPattern(d,this,Zo(t),Fr.FILL):r,d.fillRect(0,0,a,l),d.restore(),t.save(),t.transform(...c),t.scale(1,-1),nb(t,u.canvas,0,0,a,l,0,-1,1,1),t.restore()}this.compose()}paintImageXObject(e){if(!this.contentVisible)return;const t=this.getObject(e);if(!t){ft("Dependent image isn't ready yet");return}this.paintInlineImageXObject(t)}paintImageXObjectRepeat(e,t,r,i){if(!this.contentVisible)return;const s=this.getObject(e);if(!s){ft("Dependent image isn't ready yet");return}const o=s.width,a=s.height,l=[];for(let c=0,u=i.length;c<u;c+=2)l.push({transform:[t,0,0,r,i[c],i[c+1]],x:0,y:0,w:o,h:a});this.paintInlineImageXObjectGroup(s,l)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:t,width:r,height:i}=e,s=this.cachedCanvases.getCanvas("inlineImage",r,i),o=s.context;return o.filter=this.current.transferMaps,o.drawImage(t,0,0),o.filter="none",s.canvas}paintInlineImageXObject(e){if(!this.contentVisible)return;const t=e.width,r=e.height,i=this.ctx;this.save();const{filter:s}=i;s!=="none"&&s!==""&&(i.filter="none"),i.scale(1/t,-1/r);let o;if(e.bitmap)o=this.applyTransferMapsToBitmap(e);else if(typeof HTMLElement=="function"&&e instanceof HTMLElement||!e.data)o=e;else{const c=this.cachedCanvases.getCanvas("inlineImage",t,r).context;sR(c,e),o=this.applyTransferMapsToCanvas(c)}const a=this._scaleImage(o,Zo(i));i.imageSmoothingEnabled=aR(vn(i),e.interpolate),nb(i,a.img,0,0,a.paintWidth,a.paintHeight,0,-r,t,r),this.compose(),this.restore()}paintInlineImageXObjectGroup(e,t){if(!this.contentVisible)return;const r=this.ctx;let i;if(e.bitmap)i=e.bitmap;else{const s=e.width,o=e.height,l=this.cachedCanvases.getCanvas("inlineImage",s,o).context;sR(l,e),i=this.applyTransferMapsToCanvas(l)}for(const s of t)r.save(),r.transform(...s.transform),r.scale(1,-1),nb(r,i,s.x,s.y,s.w,s.h,0,-1,1,1),r.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e){}markPointProps(e,t){}beginMarkedContent(e){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,t){e==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(t)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(e,t){const r=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(t);const i=this.ctx;this.pendingClip&&(r||(this.pendingClip===lR?i.clip(e,"evenodd"):i.clip(e)),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox)}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=vn(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const t=Math.abs(e[0]*e[3]-e[2]*e[1]),r=Math.hypot(e[0],e[2]),i=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(r,i)/t}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:t,b:r,c:i,d:s}=this.ctx.getTransform();let o,a;if(r===0&&i===0){const l=Math.abs(t),c=Math.abs(s);if(l===c)if(e===0)o=a=1/l;else{const u=l*e;o=a=u<1?1/u:1}else if(e===0)o=1/l,a=1/c;else{const u=l*e,d=c*e;o=u<1?1/u:1,a=d<1?1/d:1}}else{const l=Math.abs(t*s-r*i),c=Math.hypot(t,r),u=Math.hypot(i,s);if(e===0)o=u/l,a=c/l;else{const d=e*l;o=u>d?u/d:1,a=c>d?c/d:1}}this._cachedScaleForStroking[0]=o,this._cachedScaleForStroking[1]=a}return this._cachedScaleForStroking}rescaleAndStroke(e,t){const{ctx:r,current:{lineWidth:i}}=this,[s,o]=this.getScaleForStroking();if(s===o){r.lineWidth=(i||1)*s,r.stroke(e);return}const a=r.getLineDash();t&&r.save(),r.scale(s,o),$E.a=1/s,$E.d=1/o;const l=new Path2D;if(l.addPath(e,$E),a.length>0){const c=Math.max(s,o);r.setLineDash(a.map(u=>u/c)),r.lineDashOffset/=c}r.lineWidth=i||1,r.stroke(l),t&&r.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}};Dv=new WeakSet,J_=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},Ov=new WeakSet,Q_=function(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){const t=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=t}}},jv=new WeakSet,Z_=function(e,t,r){const i=new Path2D;return i.addPath(e,new DOMMatrix(r).invertSelf().multiplySelf(t)),i};let Op=VN;for(const n in Xw)Op.prototype[n]!==void 0&&(Op.prototype[Xw[n]]=Op.prototype[n]);var Bv,$v;class Ea{static get workerPort(){return h(this,Bv)}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");L(this,Bv,e)}static get workerSrc(){return h(this,$v)}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");L(this,$v,e)}}Bv=new WeakMap,$v=new WeakMap,_(Ea,Bv,null),_(Ea,$v,"");var dm,zv;class qZ{constructor({parsedData:e,rawData:t}){_(this,dm,void 0);_(this,zv,void 0);L(this,dm,e),L(this,zv,t)}getRaw(){return h(this,zv)}get(e){return h(this,dm).get(e)??null}[Symbol.iterator](){return h(this,dm).entries()}}dm=new WeakMap,zv=new WeakMap;const tp=Symbol("INTERNAL");var Vv,Uv,Hv,hm;class WZ{constructor(e,{name:t,intent:r,usage:i,rbGroups:s}){_(this,Vv,!1);_(this,Uv,!1);_(this,Hv,!1);_(this,hm,!0);L(this,Vv,!!(e&ds.DISPLAY)),L(this,Uv,!!(e&ds.PRINT)),this.name=t,this.intent=r,this.usage=i,this.rbGroups=s}get visible(){if(h(this,Hv))return h(this,hm);if(!h(this,hm))return!1;const{print:e,view:t}=this.usage;return h(this,Vv)?(t==null?void 0:t.viewState)!=="OFF":h(this,Uv)?(e==null?void 0:e.printState)!=="OFF":!0}_setVisible(e,t,r=!1){e!==tp&&qt("Internal method `_setVisible` called."),L(this,Hv,r),L(this,hm,t)}}Vv=new WeakMap,Uv=new WeakMap,Hv=new WeakMap,hm=new WeakMap;var Vc,Ht,fm,pm,qv,e4;class GZ{constructor(e,t=ds.DISPLAY){_(this,qv);_(this,Vc,null);_(this,Ht,new Map);_(this,fm,null);_(this,pm,null);if(this.renderingIntent=t,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,L(this,pm,e.order);for(const r of e.groups)h(this,Ht).set(r.id,new WZ(t,r));if(e.baseState==="OFF")for(const r of h(this,Ht).values())r._setVisible(tp,!1);for(const r of e.on)h(this,Ht).get(r)._setVisible(tp,!0);for(const r of e.off)h(this,Ht).get(r)._setVisible(tp,!1);L(this,fm,this.getHash())}}isVisible(e){if(h(this,Ht).size===0)return!0;if(!e)return MS("Optional content group not defined."),!0;if(e.type==="OCG")return h(this,Ht).has(e.id)?h(this,Ht).get(e.id).visible:(ft(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return B(this,qv,e4).call(this,e.expression);if(!e.policy||e.policy==="AnyOn"){for(const t of e.ids){if(!h(this,Ht).has(t))return ft(`Optional content group not found: ${t}`),!0;if(h(this,Ht).get(t).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const t of e.ids){if(!h(this,Ht).has(t))return ft(`Optional content group not found: ${t}`),!0;if(!h(this,Ht).get(t).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const t of e.ids){if(!h(this,Ht).has(t))return ft(`Optional content group not found: ${t}`),!0;if(!h(this,Ht).get(t).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const t of e.ids){if(!h(this,Ht).has(t))return ft(`Optional content group not found: ${t}`),!0;if(h(this,Ht).get(t).visible)return!1}return!0}return ft(`Unknown optional content policy ${e.policy}.`),!0}return ft(`Unknown group type ${e.type}.`),!0}setVisibility(e,t=!0,r=!0){var s;const i=h(this,Ht).get(e);if(!i){ft(`Optional content group not found: ${e}`);return}if(r&&t&&i.rbGroups.length)for(const o of i.rbGroups)for(const a of o)a!==e&&((s=h(this,Ht).get(a))==null||s._setVisible(tp,!1,!0));i._setVisible(tp,!!t,!0),L(this,Vc,null)}setOCGState({state:e,preserveRB:t}){let r;for(const i of e){switch(i){case"ON":case"OFF":case"Toggle":r=i;continue}const s=h(this,Ht).get(i);if(s)switch(r){case"ON":this.setVisibility(i,!0,t);break;case"OFF":this.setVisibility(i,!1,t);break;case"Toggle":this.setVisibility(i,!s.visible,t);break}}L(this,Vc,null)}get hasInitialVisibility(){return h(this,fm)===null||this.getHash()===h(this,fm)}getOrder(){return h(this,Ht).size?h(this,pm)?h(this,pm).slice():[...h(this,Ht).keys()]:null}getGroup(e){return h(this,Ht).get(e)||null}getHash(){if(h(this,Vc)!==null)return h(this,Vc);const e=new mO;for(const[t,r]of h(this,Ht))e.update(`${t}:${r.visible}`);return L(this,Vc,e.hexdigest())}[Symbol.iterator](){return h(this,Ht).entries()}}Vc=new WeakMap,Ht=new WeakMap,fm=new WeakMap,pm=new WeakMap,qv=new WeakSet,e4=function(e){const t=e.length;if(t<2)return!0;const r=e[0];for(let i=1;i<t;i++){const s=e[i];let o;if(Array.isArray(s))o=B(this,qv,e4).call(this,s);else if(h(this,Ht).has(s))o=h(this,Ht).get(s).visible;else return ft(`Optional content group not found: ${s}`),!0;switch(r){case"And":if(!o)return!1;break;case"Or":if(o)return!0;break;case"Not":return!o;default:return!0}}return r==="And"};class XZ{constructor(e,{disableRange:t=!1,disableStream:r=!1}){er(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:i,initialData:s,progressiveDone:o,contentDispositionFilename:a}=e;if(this._queuedChunks=[],this._progressiveDone=o,this._contentDispositionFilename=a,(s==null?void 0:s.length)>0){const l=s instanceof Uint8Array&&s.byteLength===s.buffer.byteLength?s.buffer:new Uint8Array(s).buffer;this._queuedChunks.push(l)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!r,this._isRangeSupported=!t,this._contentLength=i,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((l,c)=>{this._onReceiveData({begin:l,chunk:c})}),e.addProgressListener((l,c)=>{this._onProgress({loaded:l,total:c})}),e.addProgressiveReadListener(l=>{this._onReceiveData({chunk:l})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:t}){const r=t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength?t.buffer:new Uint8Array(t).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(r):this._queuedChunks.push(r);else{const i=this._rangeReaders.some(function(s){return s._begin!==e?!1:(s._enqueue(r),!0)});er(i,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}_onProgress(e){var t,r,i,s;e.total===void 0?(r=(t=this._rangeReaders[0])==null?void 0:t.onProgress)==null||r.call(t,{loaded:e.loaded}):(s=(i=this._fullRequestReader)==null?void 0:i.onProgress)==null||s.call(i,{loaded:e.loaded,total:e.total})}_onProgressiveDone(){var e;(e=this._fullRequestReader)==null||e.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const t=this._rangeReaders.indexOf(e);t>=0&&this._rangeReaders.splice(t,1)}getFullReader(){er(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new YZ(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const r=new KZ(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(r),r}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const r of this._rangeReaders.slice(0))r.cancel(e);this._pdfDataRangeTransport.abort()}}class YZ{constructor(e,t,r=!1,i=null){this._stream=e,this._done=r||!1,this._filename=kN(i)?i:null,this._queuedChunks=t||[],this._loaded=0;for(const s of this._queuedChunks)this._loaded+=s.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class KZ{constructor(e,t,r){this._stream=e,this._begin=t,this._end=r,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function JZ(n){let e=!0,t=r("filename\\*","i").exec(n);if(t){t=t[1];let u=a(t);return u=unescape(u),u=l(u),u=c(u),s(u)}if(t=o(n),t){const u=c(t);return s(u)}if(t=r("filename","i").exec(n),t){t=t[1];let u=a(t);return u=c(u),s(u)}function r(u,d){return new RegExp("(?:^|;)\\s*"+u+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',d)}function i(u,d){if(u){if(!/^[\x00-\xFF]+$/.test(d))return d;try{const p=new TextDecoder(u,{fatal:!0}),f=S2(d);d=p.decode(f),e=!1}catch{}}return d}function s(u){return e&&/[\x80-\xff]/.test(u)&&(u=i("utf-8",u),e&&(u=i("iso-8859-1",u))),u}function o(u){const d=[];let p;const f=r("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(p=f.exec(u))!==null;){let[,g,x,v]=p;if(g=parseInt(g,10),g in d){if(g===0)break;continue}d[g]=[x,v]}const y=[];for(let g=0;g<d.length&&g in d;++g){let[x,v]=d[g];v=a(v),x&&(v=unescape(v),g===0&&(v=l(v))),y.push(v)}return y.join("")}function a(u){if(u.startsWith('"')){const d=u.slice(1).split('\\"');for(let p=0;p<d.length;++p){const f=d[p].indexOf('"');f!==-1&&(d[p]=d[p].slice(0,f),d.length=p+1),d[p]=d[p].replaceAll(/\\(.)/g,"$1")}u=d.join('"')}return u}function l(u){const d=u.indexOf("'");if(d===-1)return u;const p=u.slice(0,d),y=u.slice(d+1).replace(/^[^']*'/,"");return i(p,y)}function c(u){return!u.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(u)?u:u.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(d,p,f,y){if(f==="q"||f==="Q")return y=y.replaceAll("_"," "),y=y.replaceAll(/=([0-9a-fA-F]{2})/g,function(g,x){return String.fromCharCode(parseInt(x,16))}),i(p,y);try{y=atob(y)}catch{}return i(p,y)})}return""}function PO(n,e){const t=new Headers;if(!n||!e||typeof e!="object")return t;for(const r in e){const i=e[r];i!==void 0&&t.append(r,i)}return t}function DS(n){var e;return((e=URL.parse(n))==null?void 0:e.origin)??null}function NO({responseHeaders:n,isHttp:e,rangeChunkSize:t,disableRange:r}){const i={allowRangeRequests:!1,suggestedLength:void 0},s=parseInt(n.get("Content-Length"),10);return!Number.isInteger(s)||(i.suggestedLength=s,s<=2*t)||r||!e||n.get("Accept-Ranges")!=="bytes"||(n.get("Content-Encoding")||"identity")!=="identity"||(i.allowRangeRequests=!0),i}function TO(n){const e=n.get("Content-Disposition");if(e){let t=JZ(e);if(t.includes("%"))try{t=decodeURIComponent(t)}catch{}if(kN(t))return t}return null}function P2(n,e){return new Yw(`Unexpected server response (${n}) while retrieving PDF "${e}".`,n,n===404||n===0&&e.startsWith("file:"))}function LO(n){return n===200||n===206}function kO(n,e,t){return{method:"GET",headers:n,signal:t.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function RO(n){return n instanceof Uint8Array?n.buffer:n instanceof ArrayBuffer?n:(ft(`getArrayBuffer - unexpected data format: ${n}`),new Uint8Array(n).buffer)}class QZ{constructor(e){Me(this,"_responseOrigin",null);this.source=e,this.isHttp=/^https?:/i.test(e.url),this.headers=PO(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return er(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new ZZ(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const r=new eee(this,e,t);return this._rangeRequestReaders.push(r),r}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const r of this._rangeRequestReaders.slice(0))r.cancel(e)}}class ZZ{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const t=e.source;this._withCredentials=t.withCredentials||!1,this._contentLength=t.length,this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange;const r=new Headers(e.headers),i=t.url;fetch(i,kO(r,this._withCredentials,this._abortController)).then(s=>{if(e._responseOrigin=DS(s.url),!LO(s.status))throw P2(s.status,i);this._reader=s.body.getReader(),this._headersCapability.resolve();const o=s.headers,{allowRangeRequests:a,suggestedLength:l}=NO({responseHeaders:o,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=a,this._contentLength=l||this._contentLength,this._filename=TO(o),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new Du("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;await this._headersCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded,total:this._contentLength}),{value:RO(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}class eee{constructor(e,t,r){this._stream=e,this._reader=null,this._loaded=0;const i=e.source;this._withCredentials=i.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!i.disableStream,this._abortController=new AbortController;const s=new Headers(e.headers);s.append("Range",`bytes=${t}-${r-1}`);const o=i.url;fetch(o,kO(s,this._withCredentials,this._abortController)).then(a=>{const l=DS(a.url);if(l!==e._responseOrigin)throw new Error(`Expected range response-origin "${l}" to match "${e._responseOrigin}".`);if(!LO(a.status))throw P2(a.status,o);this._readCapability.resolve(),this._reader=a.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;await this._readCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded}),{value:RO(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}const zE=200,VE=206;function tee(n){const e=n.response;return typeof e!="string"?e:S2(e).buffer}class nee{constructor({url:e,httpHeaders:t,withCredentials:r}){Me(this,"_responseOrigin",null);this.url=e,this.isHttp=/^https?:/i.test(e),this.headers=PO(this.isHttp,t),this.withCredentials=r||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(e){const t=new XMLHttpRequest,r=this.currXhrId++,i=this.pendingRequests[r]={xhr:t};t.open("GET",this.url),t.withCredentials=this.withCredentials;for(const[s,o]of this.headers)t.setRequestHeader(s,o);return this.isHttp&&"begin"in e&&"end"in e?(t.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),i.expectedStatus=VE):i.expectedStatus=zE,t.responseType="arraybuffer",er(e.onError,"Expected `onError` callback to be provided."),t.onerror=()=>{e.onError(t.status)},t.onreadystatechange=this.onStateChange.bind(this,r),t.onprogress=this.onProgress.bind(this,r),i.onHeadersReceived=e.onHeadersReceived,i.onDone=e.onDone,i.onError=e.onError,i.onProgress=e.onProgress,t.send(null),r}onProgress(e,t){var i;const r=this.pendingRequests[e];r&&((i=r.onProgress)==null||i.call(r,t))}onStateChange(e,t){const r=this.pendingRequests[e];if(!r)return;const i=r.xhr;if(i.readyState>=2&&r.onHeadersReceived&&(r.onHeadersReceived(),delete r.onHeadersReceived),i.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],i.status===0&&this.isHttp){r.onError(i.status);return}const s=i.status||zE;if(!(s===zE&&r.expectedStatus===VE)&&s!==r.expectedStatus){r.onError(i.status);return}const a=tee(i);if(s===VE){const l=i.getResponseHeader("Content-Range"),c=/bytes (\d+)-(\d+)\/(\d+)/.exec(l);c?r.onDone({begin:parseInt(c[1],10),chunk:a}):(ft('Missing or invalid "Content-Range" header.'),r.onError(0))}else a?r.onDone({begin:0,chunk:a}):r.onError(i.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}}class ree{constructor(e){this._source=e,this._manager=new nee(e),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const t=this._rangeRequestReaders.indexOf(e);t>=0&&this._rangeRequestReaders.splice(t,1)}getFullReader(){return er(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new iee(this._manager,this._source),this._fullRequestReader}getRangeReader(e,t){const r=new see(this._manager,e,t);return r.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(r),r}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const r of this._rangeRequestReaders.slice(0))r.cancel(e)}}class iee{constructor(e,t){this._manager=e,this._url=t.url,this._fullRequestId=e.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._contentLength=t.length,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,t=this._manager.getRequestXhr(e);this._manager._responseOrigin=DS(t.responseURL);const r=t.getAllResponseHeaders(),i=new Headers(r?r.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(a=>{const[l,...c]=a.split(": ");return[l,c.join(": ")]}):[]),{allowRangeRequests:s,suggestedLength:o}=NO({responseHeaders:i,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});s&&(this._isRangeSupported=!0),this._contentLength=o||this._contentLength,this._filename=TO(i),this._isRangeSupported&&this._manager.abortRequest(e),this._headersCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=P2(e,this._url),this._headersCapability.reject(this._storedError);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){var t;(t=this.onProgress)==null||t.call(this,{loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersCapability.reject(e);for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class see{constructor(e,t,r){this._manager=e,this._url=e.url,this._requestId=e.request({begin:t,end:r,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){var t;const e=DS((t=this._manager.getRequestXhr(this._requestId))==null?void 0:t.responseURL);e!==this._manager._responseOrigin&&(this._storedError=new Error(`Expected range response-origin "${e}" to match "${this._manager._responseOrigin}".`),this._onError(0))}_close(){var e;(e=this.onClosed)==null||e.call(this,this)}_onDone(e){const t=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunk=t,this._done=!0;for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError??(this._storedError=P2(e,this._url));for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){var t;this.isStreamingSupported||(t=this.onProgress)==null||t.call(this,{loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const oee=/^[a-z][a-z0-9\-+.]+:/i;function aee(n){if(oee.test(n))return new URL(n);const e=process.getBuiltinModule("url");return new URL(e.pathToFileURL(n))}class lee{constructor(e){this.source=e,this.url=aee(e.url),er(this.url.protocol==="file:","PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return er(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new cee(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const r=new uee(this,e,t);return this._rangeRequestReaders.push(r),r}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const r of this._rangeRequestReaders.slice(0))r.cancel(e)}}class cee{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const t=e.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const r=process.getBuiltinModule("fs");r.promises.lstat(this._url).then(i=>{this._contentLength=i.size,this._setReadableStream(r.createReadStream(this._url)),this._headersCapability.resolve()},i=>{i.code==="ENOENT"&&(i=P2(0,this._url.href)),this._storedError=i,this._headersCapability.reject(i)})}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new Du("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class uee{constructor(e,t,r){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const i=e.source;this._isStreamingSupported=!i.disableStream;const s=process.getBuiltinModule("fs");this._setReadableStream(s.createReadStream(this._url,{start:t,end:r-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),this._storedError&&this._readableStream.destroy(this._storedError)}}const T0=Symbol("INITIAL_DATA");var es,Wv,t4;class IO{constructor(){_(this,Wv);_(this,es,Object.create(null))}get(e,t=null){if(t){const i=B(this,Wv,t4).call(this,e);return i.promise.then(()=>t(i.data)),null}const r=h(this,es)[e];if(!r||r.data===T0)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return r.data}has(e){const t=h(this,es)[e];return!!t&&t.data!==T0}delete(e){const t=h(this,es)[e];return!t||t.data===T0?!1:(delete h(this,es)[e],!0)}resolve(e,t=null){const r=B(this,Wv,t4).call(this,e);r.data=t,r.resolve()}clear(){var e;for(const t in h(this,es)){const{data:r}=h(this,es)[t];(e=r==null?void 0:r.bitmap)==null||e.close()}L(this,es,Object.create(null))}*[Symbol.iterator](){for(const e in h(this,es)){const{data:t}=h(this,es)[e];t!==T0&&(yield[e,t])}}}es=new WeakMap,Wv=new WeakSet,t4=function(e){var t;return(t=h(this,es))[e]||(t[e]={...Promise.withResolvers(),data:T0})};const dee=1e5,cR=30;var pR,Uc,Ii,Gv,Xv,Jd,ml,Yv,Kv,Qd,mm,gm,Hc,vm,Jv,ym,Zd,Qv,Zv,bm,eh,ey,qc,wm,Ux,MO,Hx,FO,ty,n4,xm,Bb,ny,r4,qx,DO,Wx,OO;const Nn=class Nn{constructor({textContentSource:e,container:t,viewport:r}){_(this,Ux);_(this,Hx);_(this,ty);_(this,Uc,Promise.withResolvers());_(this,Ii,null);_(this,Gv,!1);_(this,Xv,!!((pR=globalThis.FontInspector)!=null&&pR.enabled));_(this,Jd,null);_(this,ml,null);_(this,Yv,0);_(this,Kv,0);_(this,Qd,null);_(this,mm,null);_(this,gm,0);_(this,Hc,0);_(this,vm,Object.create(null));_(this,Jv,[]);_(this,ym,null);_(this,Zd,[]);_(this,Qv,new WeakMap);_(this,Zv,null);var l;if(e instanceof ReadableStream)L(this,ym,e);else if(typeof e=="object")L(this,ym,new ReadableStream({start(c){c.enqueue(e),c.close()}}));else throw new Error('No "textContentSource" parameter specified.');L(this,Ii,L(this,mm,t)),L(this,Hc,r.scale*Ia.pixelRatio),L(this,gm,r.rotation),L(this,ml,{div:null,properties:null,ctx:null});const{pageWidth:i,pageHeight:s,pageX:o,pageY:a}=r.rawDims;L(this,Zv,[1,0,0,-1,-o,a+s]),L(this,Kv,i),L(this,Yv,s),B(l=Nn,qx,DO).call(l),Zh(t,r),h(this,Uc).promise.finally(()=>{h(Nn,wm).delete(this),L(this,ml,null),L(this,vm,null)}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:e,isFirefox:t}=Or.platform;return Ct(this,"fontFamilyMap",new Map([["sans-serif",`${e&&t?"Calibri, ":""}sans-serif`],["monospace",`${e&&t?"Lucida Console, ":""}monospace`]]))}render(){const e=()=>{h(this,Qd).read().then(({value:t,done:r})=>{if(r){h(this,Uc).resolve();return}h(this,Jd)??L(this,Jd,t.lang),Object.assign(h(this,vm),t.styles),B(this,Ux,MO).call(this,t.items),e()},h(this,Uc).reject)};return L(this,Qd,h(this,ym).getReader()),h(Nn,wm).add(this),e(),h(this,Uc).promise}update({viewport:e,onBefore:t=null}){var s;const r=e.scale*Ia.pixelRatio,i=e.rotation;if(i!==h(this,gm)&&(t==null||t(),L(this,gm,i),Zh(h(this,mm),{rotation:i})),r!==h(this,Hc)){t==null||t(),L(this,Hc,r);const o={div:null,properties:null,ctx:B(s=Nn,xm,Bb).call(s,h(this,Jd))};for(const a of h(this,Zd))o.properties=h(this,Qv).get(a),o.div=a,B(this,ty,n4).call(this,o)}}cancel(){var t;const e=new Du("TextLayer task cancelled.");(t=h(this,Qd))==null||t.cancel(e).catch(()=>{}),L(this,Qd,null),h(this,Uc).reject(e)}get textDivs(){return h(this,Zd)}get textContentItemsStr(){return h(this,Jv)}static cleanup(){if(!(h(this,wm).size>0)){h(this,bm).clear();for(const{canvas:e}of h(this,eh).values())e.remove();h(this,eh).clear()}}};Uc=new WeakMap,Ii=new WeakMap,Gv=new WeakMap,Xv=new WeakMap,Jd=new WeakMap,ml=new WeakMap,Yv=new WeakMap,Kv=new WeakMap,Qd=new WeakMap,mm=new WeakMap,gm=new WeakMap,Hc=new WeakMap,vm=new WeakMap,Jv=new WeakMap,ym=new WeakMap,Zd=new WeakMap,Qv=new WeakMap,Zv=new WeakMap,bm=new WeakMap,eh=new WeakMap,ey=new WeakMap,qc=new WeakMap,wm=new WeakMap,Ux=new WeakSet,MO=function(e){var i,s;if(h(this,Gv))return;(s=h(this,ml)).ctx??(s.ctx=B(i=Nn,xm,Bb).call(i,h(this,Jd)));const t=h(this,Zd),r=h(this,Jv);for(const o of e){if(t.length>dee){ft("Ignoring additional textDivs for performance reasons."),L(this,Gv,!0);return}if(o.str===void 0){if(o.type==="beginMarkedContentProps"||o.type==="beginMarkedContent"){const a=h(this,Ii);L(this,Ii,document.createElement("span")),h(this,Ii).classList.add("markedContent"),o.id!==null&&h(this,Ii).setAttribute("id",`${o.id}`),a.append(h(this,Ii))}else o.type==="endMarkedContent"&&L(this,Ii,h(this,Ii).parentNode);continue}r.push(o.str),B(this,Hx,FO).call(this,o)}},Hx=new WeakSet,FO=function(e){var g;const t=document.createElement("span"),r={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};h(this,Zd).push(t);const i=Ke.transform(h(this,Zv),e.transform);let s=Math.atan2(i[1],i[0]);const o=h(this,vm)[e.fontName];o.vertical&&(s+=Math.PI/2);let a=h(this,Xv)&&o.fontSubstitution||o.fontFamily;a=Nn.fontFamilyMap.get(a)||a;const l=Math.hypot(i[2],i[3]),c=l*B(g=Nn,Wx,OO).call(g,a,o,h(this,Jd));let u,d;s===0?(u=i[4],d=i[5]-c):(u=i[4]+c*Math.sin(s),d=i[5]-c*Math.cos(s));const p="calc(var(--total-scale-factor) *",f=t.style;h(this,Ii)===h(this,mm)?(f.left=`${(100*u/h(this,Kv)).toFixed(2)}%`,f.top=`${(100*d/h(this,Yv)).toFixed(2)}%`):(f.left=`${p}${u.toFixed(2)}px)`,f.top=`${p}${d.toFixed(2)}px)`),f.fontSize=`${p}${(h(Nn,qc)*l).toFixed(2)}px)`,f.fontFamily=a,r.fontSize=l,t.setAttribute("role","presentation"),t.textContent=e.str,t.dir=e.dir,h(this,Xv)&&(t.dataset.fontName=o.fontSubstitutionLoadedName||e.fontName),s!==0&&(r.angle=s*(180/Math.PI));let y=!1;if(e.str.length>1)y=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){const x=Math.abs(e.transform[0]),v=Math.abs(e.transform[3]);x!==v&&Math.max(x,v)/Math.min(x,v)>1.5&&(y=!0)}if(y&&(r.canvasWidth=o.vertical?e.height:e.width),h(this,Qv).set(t,r),h(this,ml).div=t,h(this,ml).properties=r,B(this,ty,n4).call(this,h(this,ml)),r.hasText&&h(this,Ii).append(t),r.hasEOL){const x=document.createElement("br");x.setAttribute("role","presentation"),h(this,Ii).append(x)}},ty=new WeakSet,n4=function(e){var a;const{div:t,properties:r,ctx:i}=e,{style:s}=t;let o="";if(h(Nn,qc)>1&&(o=`scale(${1/h(Nn,qc)})`),r.canvasWidth!==0&&r.hasText){const{fontFamily:l}=s,{canvasWidth:c,fontSize:u}=r;B(a=Nn,ny,r4).call(a,i,u*h(this,Hc),l);const{width:d}=i.measureText(t.textContent);d>0&&(o=`scaleX(${c*h(this,Hc)/d}) ${o}`)}r.angle!==0&&(o=`rotate(${r.angle}deg) ${o}`),o.length>0&&(s.transform=o)},xm=new WeakSet,Bb=function(e=null){let t=h(this,eh).get(e||(e=""));if(!t){const r=document.createElement("canvas");r.className="hiddenCanvasElement",r.lang=e,document.body.append(r),t=r.getContext("2d",{alpha:!1,willReadFrequently:!0}),h(this,eh).set(e,t),h(this,ey).set(t,{size:0,family:""})}return t},ny=new WeakSet,r4=function(e,t,r){const i=h(this,ey).get(e);t===i.size&&r===i.family||(e.font=`${t}px ${r}`,i.size=t,i.family=r)},qx=new WeakSet,DO=function(){if(h(this,qc)!==null)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.style.position="absolute",e.textContent="X",document.body.append(e),L(this,qc,e.getBoundingClientRect().height),e.remove()},Wx=new WeakSet,OO=function(e,t,r){const i=h(this,bm).get(e);if(i)return i;const s=B(this,xm,Bb).call(this,r);s.canvas.width=s.canvas.height=cR,B(this,ny,r4).call(this,s,cR,e);const o=s.measureText(""),a=o.fontBoundingBoxAscent,l=Math.abs(o.fontBoundingBoxDescent);s.canvas.width=s.canvas.height=0;let c=.8;return a?c=a/(a+l):(Or.platform.isFirefox&&ft("Enable the `dom.textMetrics.fontBoundingBox.enabled` preference in `about:config` to improve TextLayer rendering."),t.ascent?c=t.ascent:t.descent&&(c=1+t.descent)),h(this,bm).set(e,c),c},_(Nn,xm),_(Nn,ny),_(Nn,qx),_(Nn,Wx),_(Nn,bm,new Map),_(Nn,eh,new Map),_(Nn,ey,new WeakMap),_(Nn,qc,null),_(Nn,wm,new Set);let q1=Nn;class W1{static textContent(e){const t=[],r={items:t,styles:Object.create(null)};function i(s){var l;if(!s)return;let o=null;const a=s.name;if(a==="#text")o=s.value;else if(W1.shouldBuildText(a))(l=s==null?void 0:s.attributes)!=null&&l.textContent?o=s.attributes.textContent:s.value&&(o=s.value);else return;if(o!==null&&t.push({str:o}),!!s.children)for(const c of s.children)i(c)}return i(e),r}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}const hee=100;function jO(n={}){typeof n=="string"||n instanceof URL?n={url:n}:(n instanceof ArrayBuffer||ArrayBuffer.isView(n))&&(n={data:n});const e=new i4,{docId:t}=e,r=n.url?xZ(n.url):null,i=n.data?AZ(n.data):null,s=n.httpHeaders||null,o=n.withCredentials===!0,a=n.password??null,l=n.range instanceof BO?n.range:null,c=Number.isInteger(n.rangeChunkSize)&&n.rangeChunkSize>0?n.rangeChunkSize:2**16;let u=n.worker instanceof G1?n.worker:null;const d=n.verbosity,p=typeof n.docBaseUrl=="string"&&!FS(n.docBaseUrl)?n.docBaseUrl:null,f=eb(n.cMapUrl),y=n.cMapPacked!==!1,g=n.CMapReaderFactory||(vi?LZ:J6),x=eb(n.iccUrl),v=eb(n.standardFontDataUrl),w=n.StandardFontDataFactory||(vi?kZ:Q6),S=eb(n.wasmUrl),C=n.WasmFactory||(vi?RZ:Z6),N=n.stopAtErrors!==!0,$=Number.isInteger(n.maxImageSize)&&n.maxImageSize>-1?n.maxImageSize:-1,R=n.isEvalSupported!==!1,k=typeof n.isOffscreenCanvasSupported=="boolean"?n.isOffscreenCanvasSupported:!vi,W=typeof n.isImageDecoderSupported=="boolean"?n.isImageDecoderSupported:!vi&&(Or.platform.isFirefox||!globalThis.chrome),X=Number.isInteger(n.canvasMaxAreaInBytes)?n.canvasMaxAreaInBytes:-1,M=typeof n.disableFontFace=="boolean"?n.disableFontFace:vi,j=n.fontExtraProperties===!0,K=n.enableXfa===!0,U=n.ownerDocument||globalThis.document,le=n.disableRange===!0,Q=n.disableStream===!0,ne=n.disableAutoFetch===!0,Y=n.pdfBug===!0,se=n.CanvasFactory||(vi?TZ:_Z),de=n.FilterFactory||(vi?NZ:PZ),be=n.enableHWA===!0,D=n.useWasm!==!1,G=l?l.length:n.length??NaN,Z=typeof n.useSystemFonts=="boolean"?n.useSystemFonts:!vi&&!M,re=typeof n.useWorkerFetch=="boolean"?n.useWorkerFetch:!!(g===J6&&w===Q6&&C===Z6&&f&&v&&S&&O0(f,document.baseURI)&&O0(v,document.baseURI)&&O0(S,document.baseURI)),oe=null;ZQ(d);const ie={canvasFactory:new se({ownerDocument:U,enableHWA:be}),filterFactory:new de({docId:t,ownerDocument:U}),cMapReaderFactory:re?null:new g({baseUrl:f,isCompressed:y}),standardFontDataFactory:re?null:new w({baseUrl:v}),wasmFactory:re?null:new C({baseUrl:S})};u||(u=G1.create({verbosity:d,port:Ea.workerPort}),e._worker=u);const pe={docId:t,apiVersion:"5.3.93",data:i,password:a,disableAutoFetch:ne,rangeChunkSize:c,length:G,docBaseUrl:p,enableXfa:K,evaluatorOptions:{maxImageSize:$,disableFontFace:M,ignoreErrors:N,isEvalSupported:R,isOffscreenCanvasSupported:k,isImageDecoderSupported:W,canvasMaxAreaInBytes:X,fontExtraProperties:j,useSystemFonts:Z,useWasm:D,useWorkerFetch:re,cMapUrl:f,iccUrl:x,standardFontDataUrl:v,wasmUrl:S}},ge={ownerDocument:U,pdfBug:Y,styleElement:oe,loadingParams:{disableAutoFetch:ne,enableXfa:K}};return u.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(u.destroyed)throw new Error("Worker was destroyed");const Ee=u.messageHandler.sendWithPromise("GetDocRequest",pe,i?[i.buffer]:null);let Ae;if(l)Ae=new XZ(l,{disableRange:le,disableStream:Q});else if(!i){if(!r)throw new Error("getDocument - no `url` parameter provided.");const Ne=O0(r)?QZ:vi?lee:ree;Ae=new Ne({url:r,length:G,httpHeaders:s,withCredentials:o,rangeChunkSize:c,disableRange:le,disableStream:Q})}return Ee.then(Ne=>{if(e.destroyed)throw new Error("Loading aborted");if(u.destroyed)throw new Error("Worker was destroyed");const Re=new V0(t,Ne,u.port),qe=new mee(Re,e,Ae,ge,ie);e._transport=qe,Re.send("Ready",null)})}).catch(e._capability.reject),e}var Gx;const Xx=class Xx{constructor(){Me(this,"_capability",Promise.withResolvers());Me(this,"_transport",null);Me(this,"_worker",null);Me(this,"docId",`d${ci(Xx,Gx)._++}`);Me(this,"destroyed",!1);Me(this,"onPassword",null);Me(this,"onProgress",null)}get promise(){return this._capability.promise}async destroy(){var e,t,r,i;this.destroyed=!0;try{(e=this._worker)!=null&&e.port&&(this._worker._pendingDestroy=!0),await((t=this._transport)==null?void 0:t.destroy())}catch(s){throw(r=this._worker)!=null&&r.port&&delete this._worker._pendingDestroy,s}this._transport=null,(i=this._worker)==null||i.destroy(),this._worker=null}async getData(){return this._transport.getData()}};Gx=new WeakMap,_(Xx,Gx,0);let i4=Xx;var th,ry,iy,sy,oy;class BO{constructor(e,t,r=!1,i=null){_(this,th,Promise.withResolvers());_(this,ry,[]);_(this,iy,[]);_(this,sy,[]);_(this,oy,[]);this.length=e,this.initialData=t,this.progressiveDone=r,this.contentDispositionFilename=i}addRangeListener(e){h(this,oy).push(e)}addProgressListener(e){h(this,sy).push(e)}addProgressiveReadListener(e){h(this,iy).push(e)}addProgressiveDoneListener(e){h(this,ry).push(e)}onDataRange(e,t){for(const r of h(this,oy))r(e,t)}onDataProgress(e,t){h(this,th).promise.then(()=>{for(const r of h(this,sy))r(e,t)})}onDataProgressiveRead(e){h(this,th).promise.then(()=>{for(const t of h(this,iy))t(e)})}onDataProgressiveDone(){h(this,th).promise.then(()=>{for(const e of h(this,ry))e()})}transportReady(){h(this,th).resolve()}requestDataRange(e,t){qt("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}th=new WeakMap,ry=new WeakMap,iy=new WeakMap,sy=new WeakMap,oy=new WeakMap;class fee{constructor(e,t){this._pdfInfo=e,this._transport=t}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return Ct(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(t)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var gl,nh,G0;class pee{constructor(e,t,r,i=!1){_(this,nh);_(this,gl,!1);this._pageIndex=e,this._pageInfo=t,this._transport=r,this._stats=i?new X6:null,this._pdfBug=i,this.commonObjs=r.commonObjs,this.objs=new IO,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:t=this.rotate,offsetX:r=0,offsetY:i=0,dontFlip:s=!1}={}){return new C2({viewBox:this.view,userUnit:this.userUnit,scale:e,rotation:t,offsetX:r,offsetY:i,dontFlip:s})}getAnnotations({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,t)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return Ct(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var e;return((e=this._transport._htmlForXfa)==null?void 0:e.children[this._pageIndex])||null}render({canvasContext:e,viewport:t,intent:r="display",annotationMode:i=Sc.ENABLE,transform:s=null,background:o=null,optionalContentConfigPromise:a=null,annotationCanvasMap:l=null,pageColors:c=null,printAnnotationStorage:u=null,isEditing:d=!1}){var C,N;(C=this._stats)==null||C.time("Overall");const p=this._transport.getRenderingIntent(r,i,u,d),{renderingIntent:f,cacheKey:y}=p;L(this,gl,!1),a||(a=this._transport.getOptionalContentConfig(f));let g=this._intentStates.get(y);g||(g=Object.create(null),this._intentStates.set(y,g)),g.streamReaderCancelTimeout&&(clearTimeout(g.streamReaderCancelTimeout),g.streamReaderCancelTimeout=null);const x=!!(f&ds.PRINT);g.displayReadyCapability||(g.displayReadyCapability=Promise.withResolvers(),g.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(N=this._stats)==null||N.time("Page Request"),this._pumpOperatorList(p));const v=$=>{var R;g.renderTasks.delete(w),x&&L(this,gl,!0),B(this,nh,G0).call(this),$?(w.capability.reject($),this._abortOperatorList({intentState:g,reason:$ instanceof Error?$:new Error($)})):w.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(R=globalThis.Stats)!=null&&R.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},w=new s4({callback:v,params:{canvasContext:e,viewport:t,transform:s,background:o},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:l,operatorList:g.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!x,pdfBug:this._pdfBug,pageColors:c});(g.renderTasks||(g.renderTasks=new Set)).add(w);const S=w.task;return Promise.all([g.displayReadyCapability.promise,a]).then(([$,R])=>{var k;if(this.destroyed){v();return}if((k=this._stats)==null||k.time("Rendering"),!(R.renderingIntent&f))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");w.initializeGraphics({transparency:$,optionalContentConfig:R}),w.operatorListChanged()}).catch(v),S}getOperatorList({intent:e="display",annotationMode:t=Sc.ENABLE,printAnnotationStorage:r=null,isEditing:i=!1}={}){var c;function s(){a.operatorList.lastChunk&&(a.opListReadCapability.resolve(a.operatorList),a.renderTasks.delete(l))}const o=this._transport.getRenderingIntent(e,t,r,i,!0);let a=this._intentStates.get(o.cacheKey);a||(a=Object.create(null),this._intentStates.set(o.cacheKey,a));let l;return a.opListReadCapability||(l=Object.create(null),l.operatorListChanged=s,a.opListReadCapability=Promise.withResolvers(),(a.renderTasks||(a.renderTasks=new Set)).add(l),a.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(c=this._stats)==null||c.time("Page Request"),this._pumpOperatorList(o)),a.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:t=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:t===!0},{highWaterMark:100,size(i){return i.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(r=>W1.textContent(r));const t=this.streamTextContent(e);return new Promise(function(r,i){function s(){o.read().then(function({value:l,done:c}){if(c){r(a);return}a.lang??(a.lang=l.lang),Object.assign(a.styles,l.styles),a.items.push(...l.items),s()},i)}const o=t.getReader(),a={items:[],styles:Object.create(null),lang:null};s()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const t of this._intentStates.values())if(this._abortOperatorList({intentState:t,reason:new Error("Page was destroyed."),force:!0}),!t.opListReadCapability)for(const r of t.renderTasks)e.push(r.completed),r.cancel();return this.objs.clear(),L(this,gl,!1),Promise.all(e)}cleanup(e=!1){L(this,gl,!0);const t=B(this,nh,G0).call(this);return e&&t&&this._stats&&(this._stats=new X6),t}_startRenderPage(e,t){var i,s;const r=this._intentStates.get(t);r&&((i=this._stats)==null||i.timeEnd("Page Request"),(s=r.displayReadyCapability)==null||s.resolve(e))}_renderPageChunk(e,t){for(let r=0,i=e.length;r<i;r++)t.operatorList.fnArray.push(e.fnArray[r]),t.operatorList.argsArray.push(e.argsArray[r]);t.operatorList.lastChunk=e.lastChunk,t.operatorList.separateAnnots=e.separateAnnots;for(const r of t.renderTasks)r.operatorListChanged();e.lastChunk&&B(this,nh,G0).call(this)}_pumpOperatorList({renderingIntent:e,cacheKey:t,annotationStorageSerializable:r,modifiedIds:i}){const{map:s,transfer:o}=r,l=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:t,annotationStorage:s,modifiedIds:i},o).getReader(),c=this._intentStates.get(t);c.streamReader=l;const u=()=>{l.read().then(({value:d,done:p})=>{if(p){c.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(d,c),u())},d=>{if(c.streamReader=null,!this._transport.destroyed){if(c.operatorList){c.operatorList.lastChunk=!0;for(const p of c.renderTasks)p.operatorListChanged();B(this,nh,G0).call(this)}if(c.displayReadyCapability)c.displayReadyCapability.reject(d);else if(c.opListReadCapability)c.opListReadCapability.reject(d);else throw d}})};u()}_abortOperatorList({intentState:e,reason:t,force:r=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!r){if(e.renderTasks.size>0)return;if(t instanceof LN){let i=hee;t.extraDelay>0&&t.extraDelay<1e3&&(i+=t.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:t,force:!0})},i);return}}if(e.streamReader.cancel(new Du(t.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[i,s]of this._intentStates)if(s===e){this._intentStates.delete(i);break}this.cleanup()}}}get stats(){return this._stats}}gl=new WeakMap,nh=new WeakSet,G0=function(){if(!h(this,gl)||this.destroyed)return!1;for(const{renderTasks:e,operatorList:t}of this._intentStates.values())if(e.size>0||!t.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),L(this,gl,!1),!0};var Wc,yo,vl,rh,Yx,ih,sh,Am,$b,Kx,$O,Jx,zO,oh,X0,Sm,zb;const un=class un{constructor({name:e=null,port:t=null,verbosity:r=eZ()}={}){_(this,Am);_(this,Kx);_(this,Jx);_(this,oh);_(this,Wc,Promise.withResolvers());_(this,yo,null);_(this,vl,null);_(this,rh,null);if(this.name=e,this.destroyed=!1,this.verbosity=r,t){if(h(un,sh).has(t))throw new Error("Cannot use more than one PDFWorker per port.");h(un,sh).set(t,this),B(this,Kx,$O).call(this,t)}else B(this,Jx,zO).call(this)}get promise(){return h(this,Wc).promise}get port(){return h(this,vl)}get messageHandler(){return h(this,yo)}destroy(){var e,t;this.destroyed=!0,(e=h(this,rh))==null||e.terminate(),L(this,rh,null),h(un,sh).delete(h(this,vl)),L(this,vl,null),(t=h(this,yo))==null||t.destroy(),L(this,yo,null)}static create(e){const t=h(this,sh).get(e==null?void 0:e.port);if(t){if(t._pendingDestroy)throw new Error("PDFWorker.create - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return t}return new un(e)}static get workerSrc(){if(Ea.workerSrc)return Ea.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return Ct(this,"_setupFakeWorkerGlobal",(async()=>h(this,Sm,zb)?h(this,Sm,zb):(await qw(()=>import(this.workerSrc),[])).WorkerMessageHandler)())}};Wc=new WeakMap,yo=new WeakMap,vl=new WeakMap,rh=new WeakMap,Yx=new WeakMap,ih=new WeakMap,sh=new WeakMap,Am=new WeakSet,$b=function(){h(this,Wc).resolve(),h(this,yo).send("configure",{verbosity:this.verbosity})},Kx=new WeakSet,$O=function(e){L(this,vl,e),L(this,yo,new V0("main","worker",e)),h(this,yo).on("ready",()=>{}),B(this,Am,$b).call(this)},Jx=new WeakSet,zO=function(){if(h(un,ih)||h(un,Sm,zb)){B(this,oh,X0).call(this);return}let{workerSrc:e}=un;try{un._isSameOrigin(window.location,e)||(e=un._createCDNWrapper(new URL(e,window.location).href));const t=new Worker(e,{type:"module"}),r=new V0("main","worker",t),i=()=>{s.abort(),r.destroy(),t.terminate(),this.destroyed?h(this,Wc).reject(new Error("Worker was destroyed")):B(this,oh,X0).call(this)},s=new AbortController;t.addEventListener("error",()=>{h(this,rh)||i()},{signal:s.signal}),r.on("test",a=>{if(s.abort(),this.destroyed||!a){i();return}L(this,yo,r),L(this,vl,t),L(this,rh,t),B(this,Am,$b).call(this)}),r.on("ready",a=>{if(s.abort(),this.destroyed){i();return}try{o()}catch{B(this,oh,X0).call(this)}});const o=()=>{const a=new Uint8Array;r.send("test",a,[a.buffer])};o();return}catch{MS("The worker has been disabled.")}B(this,oh,X0).call(this)},oh=new WeakSet,X0=function(){h(un,ih)||(ft("Setting up fake worker."),L(un,ih,!0)),un._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){h(this,Wc).reject(new Error("Worker was destroyed"));return}const t=new CZ;L(this,vl,t);const r=`fake${ci(un,Yx)._++}`,i=new V0(r+"_worker",r,t);e.setup(i,t),L(this,yo,new V0(r,r+"_worker",t)),B(this,Am,$b).call(this)}).catch(e=>{h(this,Wc).reject(new Error(`Setting up fake worker failed: "${e.message}".`))})},Sm=new WeakSet,zb=function(){var e;try{return((e=globalThis.pdfjsWorker)==null?void 0:e.WorkerMessageHandler)||null}catch{return null}},_(un,Sm),_(un,Yx,0),_(un,ih,!1),_(un,sh,new WeakMap),vi&&(L(un,ih,!0),Ea.workerSrc||(Ea.workerSrc="./pdf.worker.mjs")),un._isSameOrigin=(e,t)=>{const r=URL.parse(e);if(!(r!=null&&r.origin)||r.origin==="null")return!1;const i=new URL(t,r);return r.origin===i.origin},un._createCDNWrapper=e=>{const t=`await import("${e}");`;return URL.createObjectURL(new Blob([t],{type:"text/javascript"}))},un.fromPort=e=>{if(hZ("`PDFWorker.fromPort` - please use `PDFWorker.create` instead."),!(e!=null&&e.port))throw new Error("PDFWorker.fromPort - invalid method signature.");return un.create(e)};let G1=un;var yl,fa,Em,Cm,bl,ah,Y0;class mee{constructor(e,t,r,i,s){_(this,ah);_(this,yl,new Map);_(this,fa,new Map);_(this,Em,new Map);_(this,Cm,new Map);_(this,bl,null);this.messageHandler=e,this.loadingTask=t,this.commonObjs=new IO,this.fontLoader=new bZ({ownerDocument:i.ownerDocument,styleElement:i.styleElement}),this.loadingParams=i.loadingParams,this._params=i,this.canvasFactory=s.canvasFactory,this.filterFactory=s.filterFactory,this.cMapReaderFactory=s.cMapReaderFactory,this.standardFontDataFactory=s.standardFontDataFactory,this.wasmFactory=s.wasmFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=r,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}get annotationStorage(){return Ct(this,"annotationStorage",new MN)}getRenderingIntent(e,t=Sc.ENABLE,r=null,i=!1,s=!1){let o=ds.DISPLAY,a=q_;switch(e){case"any":o=ds.ANY;break;case"display":break;case"print":o=ds.PRINT;break;default:ft(`getRenderingIntent - invalid intent: ${e}`)}const l=o&ds.PRINT&&r instanceof vO?r:this.annotationStorage;switch(t){case Sc.DISABLE:o+=ds.ANNOTATIONS_DISABLE;break;case Sc.ENABLE:break;case Sc.ENABLE_FORMS:o+=ds.ANNOTATIONS_FORMS;break;case Sc.ENABLE_STORAGE:o+=ds.ANNOTATIONS_STORAGE,a=l.serializable;break;default:ft(`getRenderingIntent - invalid annotationMode: ${t}`)}i&&(o+=ds.IS_EDITING),s&&(o+=ds.OPLIST);const{ids:c,hash:u}=l.modifiedIds,d=[o,a.hash,u];return{renderingIntent:o,cacheKey:d.join("_"),annotationStorageSerializable:a,modifiedIds:c}}destroy(){var r;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(r=h(this,bl))==null||r.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const i of h(this,fa).values())e.push(i._destroy());h(this,fa).clear(),h(this,Em).clear(),h(this,Cm).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const t=this.messageHandler.sendWithPromise("Terminate",null);return e.push(t),Promise.all(e).then(()=>{var i,s;this.commonObjs.clear(),this.fontLoader.clear(),h(this,yl).clear(),this.filterFactory.destroy(),q1.cleanup(),(i=this._networkStream)==null||i.cancelAllRequests(new Du("Worker was terminated.")),(s=this.messageHandler)==null||s.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:t}=this;e.on("GetReader",(r,i)=>{er(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=s=>{this._lastProgress={loaded:s.loaded,total:s.total}},i.onPull=()=>{this._fullReader.read().then(function({value:s,done:o}){if(o){i.close();return}er(s instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(s),1,[s])}).catch(s=>{i.error(s)})},i.onCancel=s=>{this._fullReader.cancel(s),i.ready.catch(o=>{if(!this.destroyed)throw o})}}),e.on("ReaderHeadersReady",async r=>{var a;await this._fullReader.headersReady;const{isStreamingSupported:i,isRangeSupported:s,contentLength:o}=this._fullReader;return(!i||!s)&&(this._lastProgress&&((a=t.onProgress)==null||a.call(t,this._lastProgress)),this._fullReader.onProgress=l=>{var c;(c=t.onProgress)==null||c.call(t,{loaded:l.loaded,total:l.total})}),{isStreamingSupported:i,isRangeSupported:s,contentLength:o}}),e.on("GetRangeReader",(r,i)=>{er(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const s=this._networkStream.getRangeReader(r.begin,r.end);if(!s){i.close();return}i.onPull=()=>{s.read().then(function({value:o,done:a}){if(a){i.close();return}er(o instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(o),1,[o])}).catch(o=>{i.error(o)})},i.onCancel=o=>{s.cancel(o),i.ready.catch(a=>{if(!this.destroyed)throw a})}}),e.on("GetDoc",({pdfInfo:r})=>{this._numPages=r.numPages,this._htmlForXfa=r.htmlForXfa,delete r.htmlForXfa,t._capability.resolve(new fee(r,this))}),e.on("DocException",r=>{t._capability.reject(Li(r))}),e.on("PasswordRequest",r=>{L(this,bl,Promise.withResolvers());try{if(!t.onPassword)throw Li(r);const i=s=>{s instanceof Error?h(this,bl).reject(s):h(this,bl).resolve({password:s})};t.onPassword(i,r.code)}catch(i){h(this,bl).reject(i)}return h(this,bl).promise}),e.on("DataLoaded",r=>{var i;(i=t.onProgress)==null||i.call(t,{loaded:r.length,total:r.length}),this.downloadInfoCapability.resolve(r)}),e.on("StartRenderPage",r=>{if(this.destroyed)return;h(this,fa).get(r.pageIndex)._startRenderPage(r.transparency,r.cacheKey)}),e.on("commonobj",([r,i,s])=>{var o;if(this.destroyed||this.commonObjs.has(r))return null;switch(i){case"Font":if("error"in s){const u=s.error;ft(`Error during font loading: ${u}`),this.commonObjs.resolve(r,u);break}const a=this._params.pdfBug&&((o=globalThis.FontInspector)!=null&&o.enabled)?(u,d)=>globalThis.FontInspector.fontAdded(u,d):null,l=new wZ(s,a);this.fontLoader.bind(l).catch(()=>e.sendWithPromise("FontFallback",{id:r})).finally(()=>{!l.fontExtraProperties&&l.data&&(l.data=null),this.commonObjs.resolve(r,l)});break;case"CopyLocalImage":const{imageRef:c}=s;er(c,"The imageRef must be defined.");for(const u of h(this,fa).values())for(const[,d]of u.objs)if((d==null?void 0:d.ref)===c)return d.dataLen?(this.commonObjs.resolve(r,structuredClone(d)),d.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(r,s);break;default:throw new Error(`Got unknown common object type ${i}`)}return null}),e.on("obj",([r,i,s,o])=>{var l;if(this.destroyed)return;const a=h(this,fa).get(i);if(!a.objs.has(r)){if(a._intentStates.size===0){(l=o==null?void 0:o.bitmap)==null||l.close();return}switch(s){case"Image":case"Pattern":a.objs.resolve(r,o);break;default:throw new Error(`Got unknown object type ${s}`)}}}),e.on("DocProgress",r=>{var i;this.destroyed||(i=t.onProgress)==null||i.call(t,{loaded:r.loaded,total:r.total})}),e.on("FetchBinaryData",async r=>{if(this.destroyed)throw new Error("Worker was destroyed.");const i=this[r.type];if(!i)throw new Error(`${r.type} not initialized, see the \`useWorkerFetch\` parameter.`);return i.fetch(r)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var r;this.annotationStorage.size<=0&&ft("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:t}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:((r=this._fullReader)==null?void 0:r.filename)??null},t).finally(()=>{this.annotationStorage.resetModified()})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const t=e-1,r=h(this,Em).get(t);if(r)return r;const i=this.messageHandler.sendWithPromise("GetPage",{pageIndex:t}).then(s=>{if(this.destroyed)throw new Error("Transport destroyed");s.refStr&&h(this,Cm).set(s.refStr,e);const o=new pee(t,s,this,this._params.pdfBug);return h(this,fa).set(t,o),o});return h(this,Em).set(t,i),i}getPageIndex(e){return W_(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}getFieldObjects(){return B(this,ah,Y0).call(this,"GetFieldObjects")}hasJSActions(){return B(this,ah,Y0).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return B(this,ah,Y0).call(this,"GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return B(this,ah,Y0).call(this,"GetOptionalContentConfig").then(t=>new GZ(t,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",t=h(this,yl).get(e);if(t)return t;const r=this.messageHandler.sendWithPromise(e,null).then(i=>{var s,o;return{info:i[0],metadata:i[1]?new qZ(i[1]):null,contentDispositionFilename:((s=this._fullReader)==null?void 0:s.filename)??null,contentLength:((o=this._fullReader)==null?void 0:o.contentLength)??null}});return h(this,yl).set(e,r),r}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const t of h(this,fa).values())if(!t.cleanup())throw new Error(`startCleanup: Page ${t.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),h(this,yl).clear(),this.filterFactory.destroy(!0),q1.cleanup()}}cachedPageNumber(e){if(!W_(e))return null;const t=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return h(this,Cm).get(t)??null}}yl=new WeakMap,fa=new WeakMap,Em=new WeakMap,Cm=new WeakMap,bl=new WeakMap,ah=new WeakSet,Y0=function(e,t=null){const r=h(this,yl).get(e);if(r)return r;const i=this.messageHandler.sendWithPromise(e,t);return h(this,yl).set(e,i),i};var Gc;class gee{constructor(e){_(this,Gc,null);Me(this,"onContinue",null);Me(this,"onError",null);L(this,Gc,e)}get promise(){return h(this,Gc).capability.promise}cancel(e=0){h(this,Gc).cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=h(this,Gc).operatorList;if(!e)return!1;const{annotationCanvasMap:t}=h(this,Gc);return e.form||e.canvas&&(t==null?void 0:t.size)>0}}Gc=new WeakMap;var Xc,lh;const pd=class pd{constructor({callback:e,params:t,objs:r,commonObjs:i,annotationCanvasMap:s,operatorList:o,pageIndex:a,canvasFactory:l,filterFactory:c,useRequestAnimationFrame:u=!1,pdfBug:d=!1,pageColors:p=null}){_(this,Xc,null);this.callback=e,this.params=t,this.objs=r,this.commonObjs=i,this.annotationCanvasMap=s,this.operatorListIdx=null,this.operatorList=o,this._pageIndex=a,this.canvasFactory=l,this.filterFactory=c,this._pdfBug=d,this.pageColors=p,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=u===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new gee(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=t.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:t}){var a,l;if(this.cancelled)return;if(this._canvas){if(h(pd,lh).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");h(pd,lh).add(this._canvas)}this._pdfBug&&((a=globalThis.StepperManager)!=null&&a.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:r,viewport:i,transform:s,background:o}=this.params;this.gfx=new Op(r,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:t},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:s,viewport:i,transparency:e,background:o}),this.operatorListIdx=0,this.graphicsReady=!0,(l=this.graphicsReadyCallback)==null||l.call(this)}cancel(e=null,t=0){var r,i,s;this.running=!1,this.cancelled=!0,(r=this.gfx)==null||r.endDrawing(),h(this,Xc)&&(window.cancelAnimationFrame(h(this,Xc)),L(this,Xc,null)),h(pd,lh).delete(this._canvas),e||(e=new LN(`Rendering cancelled, page ${this._pageIndex+1}`,t)),this.callback(e),(s=(i=this.task).onError)==null||s.call(i,e)}operatorListChanged(){var e;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(e=this.stepper)==null||e.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?L(this,Xc,window.requestAnimationFrame(()=>{L(this,Xc,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),h(pd,lh).delete(this._canvas),this.callback())))}};Xc=new WeakMap,lh=new WeakMap,_(pd,lh,new WeakSet);let s4=pd;const VO="5.3.93",vee="cbeef3233";function uR(n){return Math.floor(Math.max(0,Math.min(1,n))*255).toString(16).padStart(2,"0")}function L0(n){return Math.max(0,Math.min(255,255*n))}class dR{static CMYK_G([e,t,r,i]){return["G",1-Math.min(1,.3*e+.59*r+.11*t+i)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=L0(e),[e,e,e]}static G_HTML([e]){const t=uR(e);return`#${t}${t}${t}`}static RGB_G([e,t,r]){return["G",.3*e+.59*t+.11*r]}static RGB_rgb(e){return e.map(L0)}static RGB_HTML(e){return`#${e.map(uR).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,t,r,i]){return["RGB",1-Math.min(1,e+i),1-Math.min(1,r+i),1-Math.min(1,t+i)]}static CMYK_rgb([e,t,r,i]){return[L0(1-Math.min(1,e+i)),L0(1-Math.min(1,r+i)),L0(1-Math.min(1,t+i))]}static CMYK_HTML(e){const t=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(t)}static RGB_CMYK([e,t,r]){const i=1-e,s=1-t,o=1-r,a=Math.min(i,s,o);return["CMYK",i,s,o,a]}}class yee{create(e,t,r=!1){if(e<=0||t<=0)throw new Error("Invalid SVG dimensions");const i=this._createSVG("svg:svg");return i.setAttribute("version","1.1"),r||(i.setAttribute("width",`${e}px`),i.setAttribute("height",`${t}px`)),i.setAttribute("preserveAspectRatio","none"),i.setAttribute("viewBox",`0 0 ${e} ${t}`),i}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){qt("Abstract method `_createSVG` called.")}}class Qw extends yee{_createSVG(e){return document.createElementNS(Ya,e)}}class UO{static setupStorage(e,t,r,i,s){const o=i.getValue(t,{value:null});switch(r.name){case"textarea":if(o.value!==null&&(e.textContent=o.value),s==="print")break;e.addEventListener("input",a=>{i.setValue(t,{value:a.target.value})});break;case"input":if(r.attributes.type==="radio"||r.attributes.type==="checkbox"){if(o.value===r.attributes.xfaOn?e.setAttribute("checked",!0):o.value===r.attributes.xfaOff&&e.removeAttribute("checked"),s==="print")break;e.addEventListener("change",a=>{i.setValue(t,{value:a.target.checked?a.target.getAttribute("xfaOn"):a.target.getAttribute("xfaOff")})})}else{if(o.value!==null&&e.setAttribute("value",o.value),s==="print")break;e.addEventListener("input",a=>{i.setValue(t,{value:a.target.value})})}break;case"select":if(o.value!==null){e.setAttribute("value",o.value);for(const a of r.children)a.attributes.value===o.value?a.attributes.selected=!0:a.attributes.hasOwnProperty("selected")&&delete a.attributes.selected}e.addEventListener("input",a=>{const l=a.target.options,c=l.selectedIndex===-1?"":l[l.selectedIndex].value;i.setValue(t,{value:c})});break}}static setAttributes({html:e,element:t,storage:r=null,intent:i,linkService:s}){const{attributes:o}=t,a=e instanceof HTMLAnchorElement;o.type==="radio"&&(o.name=`${o.name}-${i}`);for(const[l,c]of Object.entries(o))if(c!=null)switch(l){case"class":c.length&&e.setAttribute(l,c.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",c);break;case"style":Object.assign(e.style,c);break;case"textContent":e.textContent=c;break;default:(!a||l!=="href"&&l!=="newWindow")&&e.setAttribute(l,c)}a&&s.addLinkAttributes(e,o.href,o.newWindow),r&&o.dataId&&this.setupStorage(e,o.dataId,t,r)}static render(e){var d,p;const t=e.annotationStorage,r=e.linkService,i=e.xfaHtml,s=e.intent||"display",o=document.createElement(i.name);i.attributes&&this.setAttributes({html:o,element:i,intent:s,linkService:r});const a=s!=="richText",l=e.div;if(l.append(o),e.viewport){const f=`matrix(${e.viewport.transform.join(",")})`;l.style.transform=f}a&&l.setAttribute("class","xfaLayer xfaFont");const c=[];if(i.children.length===0){if(i.value){const f=document.createTextNode(i.value);o.append(f),a&&W1.shouldBuildText(i.name)&&c.push(f)}return{textDivs:c}}const u=[[i,-1,o]];for(;u.length>0;){const[f,y,g]=u.at(-1);if(y+1===f.children.length){u.pop();continue}const x=f.children[++u.at(-1)[1]];if(x===null)continue;const{name:v}=x;if(v==="#text"){const S=document.createTextNode(x.value);c.push(S),g.append(S);continue}const w=(d=x==null?void 0:x.attributes)!=null&&d.xmlns?document.createElementNS(x.attributes.xmlns,v):document.createElement(v);if(g.append(w),x.attributes&&this.setAttributes({html:w,element:x,storage:t,intent:s,linkService:r}),((p=x.children)==null?void 0:p.length)>0)u.push([x,-1,w]);else if(x.value){const S=document.createTextNode(x.value);a&&W1.shouldBuildText(v)&&c.push(S),w.append(S)}}for(const f of l.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))f.setAttribute("readOnly",!0);return{textDivs:c}}static update(e){const t=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=t,e.div.hidden=!1}}const bee=9,tf=new WeakSet;class hR{static create(e){switch(e.data.annotationType){case Kn.LINK:return new HO(e);case Kn.TEXT:return new wee(e);case Kn.WIDGET:switch(e.data.fieldType){case"Tx":return new xee(e);case"Btn":return e.data.radioButton?new GO(e):e.data.checkBox?new See(e):new Eee(e);case"Ch":return new Cee(e);case"Sig":return new Aee(e)}return new hf(e);case Kn.POPUP:return new a4(e);case Kn.FREETEXT:return new QO(e);case Kn.LINE:return new Pee(e);case Kn.SQUARE:return new Nee(e);case Kn.CIRCLE:return new Tee(e);case Kn.POLYLINE:return new ZO(e);case Kn.CARET:return new kee(e);case Kn.INK:return new ON(e);case Kn.POLYGON:return new Lee(e);case Kn.HIGHLIGHT:return new ej(e);case Kn.UNDERLINE:return new Ree(e);case Kn.SQUIGGLY:return new Iee(e);case Kn.STRIKEOUT:return new Mee(e);case Kn.STAMP:return new tj(e);case Kn.FILEATTACHMENT:return new Fee(e);default:return new Hn(e)}}}var ch,_m,Pm,ay,o4;const UN=class UN{constructor(e,{isRenderable:t=!1,ignoreBorder:r=!1,createQuadrilaterals:i=!1}={}){_(this,ay);_(this,ch,null);_(this,_m,!1);_(this,Pm,null);this.isRenderable=t,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,t&&(this.container=this._createContainer(r)),i&&this._createQuadrilaterals()}static _hasPopupData({contentsObj:e,richText:t}){return!!(e!=null&&e.str||t!=null&&t.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return UN._hasPopupData(this.data)}updateEdited(e){var r;if(!this.container)return;h(this,ch)||L(this,ch,{rect:this.data.rect.slice(0)});const{rect:t}=e;t&&B(this,ay,o4).call(this,t),(r=h(this,Pm))==null||r.popup.updateEdited(e)}resetEdited(){var e;h(this,ch)&&(B(this,ay,o4).call(this,h(this,ch).rect),(e=h(this,Pm))==null||e.popup.resetEdited(),L(this,ch,null))}_createContainer(e){const{data:t,parent:{page:r,viewport:i}}=this,s=document.createElement("section");s.setAttribute("data-annotation-id",t.id),this instanceof hf||(s.tabIndex=0);const{style:o}=s;if(o.zIndex=this.parent.zIndex++,t.alternativeText&&(s.title=t.alternativeText),t.noRotate&&s.classList.add("norotate"),!t.rect||this instanceof a4){const{rotation:g}=t;return!t.hasOwnCanvas&&g!==0&&this.setRotation(g,s),s}const{width:a,height:l}=this;if(!e&&t.borderStyle.width>0){o.borderWidth=`${t.borderStyle.width}px`;const g=t.borderStyle.horizontalCornerRadius,x=t.borderStyle.verticalCornerRadius;if(g>0||x>0){const w=`calc(${g}px * var(--total-scale-factor)) / calc(${x}px * var(--total-scale-factor))`;o.borderRadius=w}else if(this instanceof GO){const w=`calc(${a}px * var(--total-scale-factor)) / calc(${l}px * var(--total-scale-factor))`;o.borderRadius=w}switch(t.borderStyle.style){case Jf.SOLID:o.borderStyle="solid";break;case Jf.DASHED:o.borderStyle="dashed";break;case Jf.BEVELED:ft("Unimplemented border style: beveled");break;case Jf.INSET:ft("Unimplemented border style: inset");break;case Jf.UNDERLINE:o.borderBottomStyle="solid";break}const v=t.borderColor||null;v?(L(this,_m,!0),o.borderColor=Ke.makeHexColor(v[0]|0,v[1]|0,v[2]|0)):o.borderWidth=0}const c=Ke.normalizeRect([t.rect[0],r.view[3]-t.rect[1]+r.view[1],t.rect[2],r.view[3]-t.rect[3]+r.view[1]]),{pageWidth:u,pageHeight:d,pageX:p,pageY:f}=i.rawDims;o.left=`${100*(c[0]-p)/u}%`,o.top=`${100*(c[1]-f)/d}%`;const{rotation:y}=t;return t.hasOwnCanvas||y===0?(o.width=`${100*a/u}%`,o.height=`${100*l/d}%`):this.setRotation(y,s),s}setRotation(e,t=this.container){if(!this.data.rect)return;const{pageWidth:r,pageHeight:i}=this.parent.viewport.rawDims;let{width:s,height:o}=this;e%180!==0&&([s,o]=[o,s]),t.style.width=`${100*s/r}%`,t.style.height=`${100*o/i}%`,t.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(t,r,i)=>{const s=i.detail[t],o=s[0],a=s.slice(1);i.target.style[r]=dR[`${o}_HTML`](a),this.annotationStorage.setValue(this.data.id,{[r]:dR[`${o}_rgb`](a)})};return Ct(this,"_commonActions",{display:t=>{const{display:r}=t.detail,i=r%2===1;this.container.style.visibility=i?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:i,noPrint:r===1||r===2})},print:t=>{this.annotationStorage.setValue(this.data.id,{noPrint:!t.detail.print})},hidden:t=>{const{hidden:r}=t.detail;this.container.style.visibility=r?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:r,noView:r})},focus:t=>{setTimeout(()=>t.target.focus({preventScroll:!1}),0)},userName:t=>{t.target.title=t.detail.userName},readonly:t=>{t.target.disabled=t.detail.readonly},required:t=>{this._setRequired(t.target,t.detail.required)},bgColor:t=>{e("bgColor","backgroundColor",t)},fillColor:t=>{e("fillColor","backgroundColor",t)},fgColor:t=>{e("fgColor","color",t)},textColor:t=>{e("textColor","color",t)},borderColor:t=>{e("borderColor","borderColor",t)},strokeColor:t=>{e("strokeColor","borderColor",t)},rotation:t=>{const r=t.detail.rotation;this.setRotation(r),this.annotationStorage.setValue(this.data.id,{rotation:r})}})}_dispatchEventFromSandbox(e,t){const r=this._commonActions;for(const i of Object.keys(t.detail)){const s=e[i]||r[i];s==null||s(t)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const t=this.annotationStorage.getRawValue(this.data.id);if(!t)return;const r=this._commonActions;for(const[i,s]of Object.entries(t)){const o=r[i];if(o){const a={detail:{[i]:s},target:e};o(a),delete t[i]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[t,r,i,s]=this.data.rect.map(g=>Math.fround(g));if(e.length===8){const[g,x,v,w]=e.subarray(2,6);if(i===g&&s===x&&t===v&&r===w)return}const{style:o}=this.container;let a;if(h(this,_m)){const{borderColor:g,borderWidth:x}=o;o.borderWidth=0,a=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${g}" stroke-width="${x}">`],this.container.classList.add("hasBorder")}const l=i-t,c=s-r,{svgFactory:u}=this,d=u.createElement("svg");d.classList.add("quadrilateralsContainer"),d.setAttribute("width",0),d.setAttribute("height",0),d.role="none";const p=u.createElement("defs");d.append(p);const f=u.createElement("clipPath"),y=`clippath_${this.data.id}`;f.setAttribute("id",y),f.setAttribute("clipPathUnits","objectBoundingBox"),p.append(f);for(let g=2,x=e.length;g<x;g+=8){const v=e[g],w=e[g+1],S=e[g+2],C=e[g+3],N=u.createElement("rect"),$=(S-t)/l,R=(s-w)/c,k=(v-S)/l,W=(w-C)/c;N.setAttribute("x",$),N.setAttribute("y",R),N.setAttribute("width",k),N.setAttribute("height",W),f.append(N),a==null||a.push(`<rect vector-effect="non-scaling-stroke" x="${$}" y="${R}" width="${k}" height="${W}"/>`)}h(this,_m)&&(a.push("</g></svg>')"),o.backgroundImage=a.join("")),this.container.append(d),this.container.style.clipPath=`url(#${y})`}_createPopup(){const{data:e}=this,t=L(this,Pm,new a4({data:{color:e.color,titleObj:e.titleObj,modificationDate:e.modificationDate,contentsObj:e.contentsObj,richText:e.richText,parentRect:e.rect,borderStyle:0,id:`popup_${e.id}`,rotation:e.rotation,noRotate:!0},parent:this.parent,elements:[this]}));this.parent.div.append(t.render())}render(){qt("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,t=null){const r=[];if(this._fieldObjects){const i=this._fieldObjects[e];if(i)for(const{page:s,id:o,exportValues:a}of i){if(s===-1||o===t)continue;const l=typeof a=="string"?a:null,c=document.querySelector(`[data-element-id="${o}"]`);if(c&&!tf.has(c)){ft(`_getElementsByName - element not allowed: ${o}`);continue}r.push({id:o,exportValue:l,domElement:c})}return r}for(const i of document.getElementsByName(e)){const{exportValue:s}=i,o=i.getAttribute("data-element-id");o!==t&&tf.has(i)&&r.push({id:o,exportValue:s,domElement:i})}return r}show(){var e;this.container&&(this.container.hidden=!1),(e=this.popup)==null||e.maybeShow()}hide(){var e;this.container&&(this.container.hidden=!0),(e=this.popup)==null||e.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const t of e)t.classList.add("highlightArea");else e.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:t}}=this;this.container.addEventListener("dblclick",()=>{var r;(r=this.linkService.eventBus)==null||r.dispatch("switchannotationeditormode",{source:this,mode:e,editId:t,mustEnterInEditMode:!0})})}get width(){return this.data.rect[2]-this.data.rect[0]}get height(){return this.data.rect[3]-this.data.rect[1]}};ch=new WeakMap,_m=new WeakMap,Pm=new WeakMap,ay=new WeakSet,o4=function(e){const{container:{style:t},data:{rect:r,rotation:i},parent:{viewport:{rawDims:{pageWidth:s,pageHeight:o,pageX:a,pageY:l}}}}=this;r==null||r.splice(0,4,...e),t.left=`${100*(e[0]-a)/s}%`,t.top=`${100*(o-e[3]+l)/o}%`,i===0?(t.width=`${100*(e[2]-e[0])/s}%`,t.height=`${100*(e[3]-e[1])/o}%`):this.setRotation(i)};let Hn=UN;var wl,cd,Qx,qO,Zx,WO;class HO extends Hn{constructor(t,r=null){super(t,{isRenderable:!0,ignoreBorder:!!(r!=null&&r.ignoreBorder),createQuadrilaterals:!0});_(this,wl);_(this,Qx);_(this,Zx);this.isTooltipOnly=t.data.isTooltipOnly}render(){const{data:t,linkService:r}=this,i=document.createElement("a");i.setAttribute("data-element-id",t.id);let s=!1;return t.url?(r.addLinkAttributes(i,t.url,t.newWindow),s=!0):t.action?(this._bindNamedAction(i,t.action),s=!0):t.attachment?(B(this,Qx,qO).call(this,i,t.attachment,t.attachmentDest),s=!0):t.setOCGState?(B(this,Zx,WO).call(this,i,t.setOCGState),s=!0):t.dest?(this._bindLink(i,t.dest),s=!0):(t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(i,t),s=!0),t.resetForm?(this._bindResetFormAction(i,t.resetForm),s=!0):this.isTooltipOnly&&!s&&(this._bindLink(i,""),s=!0)),this.container.classList.add("linkAnnotation"),s&&this.container.append(i),this.container}_bindLink(t,r){t.href=this.linkService.getDestinationHash(r),t.onclick=()=>(r&&this.linkService.goToDestination(r),!1),(r||r==="")&&B(this,wl,cd).call(this)}_bindNamedAction(t,r){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeNamedAction(r),!1),B(this,wl,cd).call(this)}_bindJSAction(t,r){t.href=this.linkService.getAnchorUrl("");const i=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const s of Object.keys(r.actions)){const o=i.get(s);o&&(t[o]=()=>{var a;return(a=this.linkService.eventBus)==null||a.dispatch("dispatcheventinsandbox",{source:this,detail:{id:r.id,name:s}}),!1})}t.onclick||(t.onclick=()=>!1),B(this,wl,cd).call(this)}_bindResetFormAction(t,r){const i=t.onclick;if(i||(t.href=this.linkService.getAnchorUrl("")),B(this,wl,cd).call(this),!this._fieldObjects){ft('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),i||(t.onclick=()=>!1);return}t.onclick=()=>{var d;i==null||i();const{fields:s,refs:o,include:a}=r,l=[];if(s.length!==0||o.length!==0){const p=new Set(o);for(const f of s){const y=this._fieldObjects[f]||[];for(const{id:g}of y)p.add(g)}for(const f of Object.values(this._fieldObjects))for(const y of f)p.has(y.id)===a&&l.push(y)}else for(const p of Object.values(this._fieldObjects))l.push(...p);const c=this.annotationStorage,u=[];for(const p of l){const{id:f}=p;switch(u.push(f),p.type){case"text":{const g=p.defaultValue||"";c.setValue(f,{value:g});break}case"checkbox":case"radiobutton":{const g=p.defaultValue===p.exportValues;c.setValue(f,{value:g});break}case"combobox":case"listbox":{const g=p.defaultValue||"";c.setValue(f,{value:g});break}default:continue}const y=document.querySelector(`[data-element-id="${f}"]`);if(y){if(!tf.has(y)){ft(`_bindResetFormAction - element not allowed: ${f}`);continue}}else continue;y.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((d=this.linkService.eventBus)==null||d.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:u,name:"ResetForm"}})),!1}}}wl=new WeakSet,cd=function(){this.container.setAttribute("data-internal-link","")},Qx=new WeakSet,qO=function(t,r,i=null){t.href=this.linkService.getAnchorUrl(""),r.description&&(t.title=r.description),t.onclick=()=>{var s;return(s=this.downloadManager)==null||s.openOrDownloadData(r.content,r.filename,i),!1},B(this,wl,cd).call(this)},Zx=new WeakSet,WO=function(t,r){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeSetOCGState(r),!1),B(this,wl,cd).call(this)};class wee extends Hn{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(e),this.container}}class hf extends Hn{render(){return this.container}showElementAndHideCanvas(e){var t;this.data.hasOwnCanvas&&(((t=e.previousSibling)==null?void 0:t.nodeName)==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return Or.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,t,r,i,s){r.includes("mouse")?e.addEventListener(r,o=>{var a;(a=this.linkService.eventBus)==null||a.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:s(o),shift:o.shiftKey,modifier:this._getKeyModifier(o)}})}):e.addEventListener(r,o=>{var a;if(r==="blur"){if(!t.focused||!o.relatedTarget)return;t.focused=!1}else if(r==="focus"){if(t.focused)return;t.focused=!0}s&&((a=this.linkService.eventBus)==null||a.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:s(o)}}))})}_setEventListeners(e,t,r,i){var s,o,a;for(const[l,c]of r)(c==="Action"||(s=this.data.actions)!=null&&s[c])&&((c==="Focus"||c==="Blur")&&(t||(t={focused:!1})),this._setEventListener(e,t,l,c,i),c==="Focus"&&!((o=this.data.actions)!=null&&o.Blur)?this._setEventListener(e,t,"blur","Blur",null):c==="Blur"&&!((a=this.data.actions)!=null&&a.Focus)&&this._setEventListener(e,t,"focus","Focus",null))}_setBackgroundColor(e){const t=this.data.backgroundColor||null;e.style.backgroundColor=t===null?"transparent":Ke.makeHexColor(t[0],t[1],t[2])}_setTextStyle(e){const t=["left","center","right"],{fontColor:r}=this.data.defaultAppearanceData,i=this.data.defaultAppearanceData.fontSize||bee,s=e.style;let o;const a=2,l=c=>Math.round(10*c)/10;if(this.data.multiLine){const c=Math.abs(this.data.rect[3]-this.data.rect[1]-a),u=Math.round(c/(FE*i))||1,d=c/u;o=Math.min(i,l(d/FE))}else{const c=Math.abs(this.data.rect[3]-this.data.rect[1]-a);o=Math.min(i,l(c/FE))}s.fontSize=`calc(${o}px * var(--total-scale-factor))`,s.color=Ke.makeHexColor(r[0],r[1],r[2]),this.data.textAlignment!==null&&(s.textAlign=t[this.data.textAlignment])}_setRequired(e,t){t?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",t)}}class xee extends hf{constructor(e){const t=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:t})}setPropertyOnSiblings(e,t,r,i){const s=this.annotationStorage;for(const o of this._getElementsByName(e.name,e.id))o.domElement&&(o.domElement[t]=r),s.setValue(o.id,{[i]:r})}render(){var i,s;const e=this.annotationStorage,t=this.data.id;this.container.classList.add("textWidgetAnnotation");let r=null;if(this.renderForms){const o=e.getValue(t,{value:this.data.fieldValue});let a=o.value||"";const l=e.getValue(t,{charLimit:this.data.maxLen}).charLimit;l&&a.length>l&&(a=a.slice(0,l));let c=o.formattedValue||((i=this.data.textContent)==null?void 0:i.join(`
`))||null;c&&this.data.comb&&(c=c.replaceAll(/\s+/g,""));const u={userValue:a,formattedValue:c,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(r=document.createElement("textarea"),r.textContent=c??a,this.data.doNotScroll&&(r.style.overflowY="hidden")):(r=document.createElement("input"),r.type=this.data.password?"password":"text",r.setAttribute("value",c??a),this.data.doNotScroll&&(r.style.overflowX="hidden")),this.data.hasOwnCanvas&&(r.hidden=!0),tf.add(r),r.setAttribute("data-element-id",t),r.disabled=this.data.readOnly,r.name=this.data.fieldName,r.tabIndex=0;const d=this.data.dateFormat||this.data.timeFormat;d&&(r.title=d),this._setRequired(r,this.data.required),l&&(r.maxLength=l),r.addEventListener("input",f=>{e.setValue(t,{value:f.target.value}),this.setPropertyOnSiblings(r,"value",f.target.value,"value"),u.formattedValue=null}),r.addEventListener("resetform",f=>{const y=this.data.defaultFieldValue??"";r.value=u.userValue=y,u.formattedValue=null});let p=f=>{const{formattedValue:y}=u;y!=null&&(f.target.value=y),f.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){r.addEventListener("focus",y=>{var x;if(u.focused)return;const{target:g}=y;u.userValue&&(g.value=u.userValue),u.lastCommittedValue=g.value,u.commitKey=1,(x=this.data.actions)!=null&&x.Focus||(u.focused=!0)}),r.addEventListener("updatefromsandbox",y=>{this.showElementAndHideCanvas(y.target);const g={value(x){u.userValue=x.detail.value??"",e.setValue(t,{value:u.userValue.toString()}),x.target.value=u.userValue},formattedValue(x){const{formattedValue:v}=x.detail;u.formattedValue=v,v!=null&&x.target!==document.activeElement&&(x.target.value=v),e.setValue(t,{formattedValue:v})},selRange(x){x.target.setSelectionRange(...x.detail.selRange)},charLimit:x=>{var C;const{charLimit:v}=x.detail,{target:w}=x;if(v===0){w.removeAttribute("maxLength");return}w.setAttribute("maxLength",v);let S=u.userValue;!S||S.length<=v||(S=S.slice(0,v),w.value=u.userValue=S,e.setValue(t,{value:S}),(C=this.linkService.eventBus)==null||C.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:S,willCommit:!0,commitKey:1,selStart:w.selectionStart,selEnd:w.selectionEnd}}))}};this._dispatchEventFromSandbox(g,y)}),r.addEventListener("keydown",y=>{var v;u.commitKey=1;let g=-1;if(y.key==="Escape"?g=0:y.key==="Enter"&&!this.data.multiLine?g=2:y.key==="Tab"&&(u.commitKey=3),g===-1)return;const{value:x}=y.target;u.lastCommittedValue!==x&&(u.lastCommittedValue=x,u.userValue=x,(v=this.linkService.eventBus)==null||v.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:x,willCommit:!0,commitKey:g,selStart:y.target.selectionStart,selEnd:y.target.selectionEnd}}))});const f=p;p=null,r.addEventListener("blur",y=>{var x,v;if(!u.focused||!y.relatedTarget)return;(x=this.data.actions)!=null&&x.Blur||(u.focused=!1);const{value:g}=y.target;u.userValue=g,u.lastCommittedValue!==g&&((v=this.linkService.eventBus)==null||v.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:g,willCommit:!0,commitKey:u.commitKey,selStart:y.target.selectionStart,selEnd:y.target.selectionEnd}})),f(y)}),(s=this.data.actions)!=null&&s.Keystroke&&r.addEventListener("beforeinput",y=>{var $;u.lastCommittedValue=null;const{data:g,target:x}=y,{value:v,selectionStart:w,selectionEnd:S}=x;let C=w,N=S;switch(y.inputType){case"deleteWordBackward":{const R=v.substring(0,w).match(/\w*[^\w]*$/);R&&(C-=R[0].length);break}case"deleteWordForward":{const R=v.substring(w).match(/^[^\w]*\w*/);R&&(N+=R[0].length);break}case"deleteContentBackward":w===S&&(C-=1);break;case"deleteContentForward":w===S&&(N+=1);break}y.preventDefault(),($=this.linkService.eventBus)==null||$.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:v,change:g||"",willCommit:!1,selStart:C,selEnd:N}})}),this._setEventListeners(r,u,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],y=>y.target.value)}if(p&&r.addEventListener("blur",p),this.data.comb){const y=(this.data.rect[2]-this.data.rect[0])/l;r.classList.add("comb"),r.style.letterSpacing=`calc(${y}px * var(--total-scale-factor) - 1ch)`}}else r=document.createElement("div"),r.textContent=this.data.fieldValue,r.style.verticalAlign="middle",r.style.display="table-cell",this.data.hasOwnCanvas&&(r.hidden=!0);return this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class Aee extends hf{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class See extends hf{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,t=this.data,r=t.id;let i=e.getValue(r,{value:t.exportValue===t.fieldValue}).value;typeof i=="string"&&(i=i!=="Off",e.setValue(r,{value:i})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const s=document.createElement("input");return tf.add(s),s.setAttribute("data-element-id",r),s.disabled=t.readOnly,this._setRequired(s,this.data.required),s.type="checkbox",s.name=t.fieldName,i&&s.setAttribute("checked",!0),s.setAttribute("exportValue",t.exportValue),s.tabIndex=0,s.addEventListener("change",o=>{const{name:a,checked:l}=o.target;for(const c of this._getElementsByName(a,r)){const u=l&&c.exportValue===t.exportValue;c.domElement&&(c.domElement.checked=u),e.setValue(c.id,{value:u})}e.setValue(r,{value:l})}),s.addEventListener("resetform",o=>{const a=t.defaultFieldValue||"Off";o.target.checked=a===t.exportValue}),this.enableScripting&&this.hasJSActions&&(s.addEventListener("updatefromsandbox",o=>{const a={value(l){l.target.checked=l.detail.value!=="Off",e.setValue(r,{value:l.target.checked})}};this._dispatchEventFromSandbox(a,o)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],o=>o.target.checked)),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class GO extends hf{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,t=this.data,r=t.id;let i=e.getValue(r,{value:t.fieldValue===t.buttonValue}).value;if(typeof i=="string"&&(i=i!==t.buttonValue,e.setValue(r,{value:i})),i)for(const o of this._getElementsByName(t.fieldName,r))e.setValue(o.id,{value:!1});const s=document.createElement("input");if(tf.add(s),s.setAttribute("data-element-id",r),s.disabled=t.readOnly,this._setRequired(s,this.data.required),s.type="radio",s.name=t.fieldName,i&&s.setAttribute("checked",!0),s.tabIndex=0,s.addEventListener("change",o=>{const{name:a,checked:l}=o.target;for(const c of this._getElementsByName(a,r))e.setValue(c.id,{value:!1});e.setValue(r,{value:l})}),s.addEventListener("resetform",o=>{const a=t.defaultFieldValue;o.target.checked=a!=null&&a===t.buttonValue}),this.enableScripting&&this.hasJSActions){const o=t.buttonValue;s.addEventListener("updatefromsandbox",a=>{const l={value:c=>{const u=o===c.detail.value;for(const d of this._getElementsByName(c.target.name)){const p=u&&d.id===r;d.domElement&&(d.domElement.checked=p),e.setValue(d.id,{value:p})}}};this._dispatchEventFromSandbox(l,a)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],a=>a.target.checked)}return this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class Eee extends HO{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const t=e.lastChild;return this.enableScripting&&this.hasJSActions&&t&&(this._setDefaultPropertiesFromJS(t),t.addEventListener("updatefromsandbox",r=>{this._dispatchEventFromSandbox({},r)})),e}}class Cee extends hf{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,t=this.data.id,r=e.getValue(t,{value:this.data.fieldValue}),i=document.createElement("select");tf.add(i),i.setAttribute("data-element-id",t),i.disabled=this.data.readOnly,this._setRequired(i,this.data.required),i.name=this.data.fieldName,i.tabIndex=0;let s=this.data.combo&&this.data.options.length>0;this.data.combo||(i.size=this.data.options.length,this.data.multiSelect&&(i.multiple=!0)),i.addEventListener("resetform",u=>{const d=this.data.defaultFieldValue;for(const p of i.options)p.selected=p.value===d});for(const u of this.data.options){const d=document.createElement("option");d.textContent=u.displayValue,d.value=u.exportValue,r.value.includes(u.exportValue)&&(d.setAttribute("selected",!0),s=!1),i.append(d)}let o=null;if(s){const u=document.createElement("option");u.value=" ",u.setAttribute("hidden",!0),u.setAttribute("selected",!0),i.prepend(u),o=()=>{u.remove(),i.removeEventListener("input",o),o=null},i.addEventListener("input",o)}const a=u=>{const d=u?"value":"textContent",{options:p,multiple:f}=i;return f?Array.prototype.filter.call(p,y=>y.selected).map(y=>y[d]):p.selectedIndex===-1?null:p[p.selectedIndex][d]};let l=a(!1);const c=u=>{const d=u.target.options;return Array.prototype.map.call(d,p=>({displayValue:p.textContent,exportValue:p.value}))};return this.enableScripting&&this.hasJSActions?(i.addEventListener("updatefromsandbox",u=>{const d={value(p){o==null||o();const f=p.detail.value,y=new Set(Array.isArray(f)?f:[f]);for(const g of i.options)g.selected=y.has(g.value);e.setValue(t,{value:a(!0)}),l=a(!1)},multipleSelection(p){i.multiple=!0},remove(p){const f=i.options,y=p.detail.remove;f[y].selected=!1,i.remove(y),f.length>0&&Array.prototype.findIndex.call(f,x=>x.selected)===-1&&(f[0].selected=!0),e.setValue(t,{value:a(!0),items:c(p)}),l=a(!1)},clear(p){for(;i.length!==0;)i.remove(0);e.setValue(t,{value:null,items:[]}),l=a(!1)},insert(p){const{index:f,displayValue:y,exportValue:g}=p.detail.insert,x=i.children[f],v=document.createElement("option");v.textContent=y,v.value=g,x?x.before(v):i.append(v),e.setValue(t,{value:a(!0),items:c(p)}),l=a(!1)},items(p){const{items:f}=p.detail;for(;i.length!==0;)i.remove(0);for(const y of f){const{displayValue:g,exportValue:x}=y,v=document.createElement("option");v.textContent=g,v.value=x,i.append(v)}i.options.length>0&&(i.options[0].selected=!0),e.setValue(t,{value:a(!0),items:c(p)}),l=a(!1)},indices(p){const f=new Set(p.detail.indices);for(const y of p.target.options)y.selected=f.has(y.index);e.setValue(t,{value:a(!0)}),l=a(!1)},editable(p){p.target.disabled=!p.detail.editable}};this._dispatchEventFromSandbox(d,u)}),i.addEventListener("input",u=>{var f;const d=a(!0),p=a(!1);e.setValue(t,{value:d}),u.preventDefault(),(f=this.linkService.eventBus)==null||f.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:l,change:p,changeEx:d,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(i,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],u=>u.target.value)):i.addEventListener("input",function(u){e.setValue(t,{value:a(!0)})}),this.data.combo&&this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class a4 extends Hn{constructor(e){const{data:t,elements:r}=e;super(e,{isRenderable:Hn._hasPopupData(t)}),this.elements=r,this.popup=null}render(){const{container:e}=this;e.classList.add("popupAnnotation"),e.role="comment";const t=this.popup=new _ee({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),r=[];for(const i of this.elements)i.popup=t,i.container.ariaHasPopup="dialog",r.push(i.data.id),i.addHighlightArea();return this.container.setAttribute("aria-controls",r.map(i=>`${TN}${i}`).join(",")),this.container}}var Nm,eA,tA,Tm,Lm,Tn,xl,uh,ly,cy,km,Al,bo,Sl,uy,El,dy,dh,hh,Rm,Vb,hy,l4,nA,XO,rA,YO,iA,KO,sA,JO,Im,Ub,Mm,Hb,fy,c4;class _ee{constructor({container:e,color:t,elements:r,titleObj:i,modificationDate:s,contentsObj:o,richText:a,parent:l,rect:c,parentRect:u,open:d}){_(this,Rm);_(this,hy);_(this,nA);_(this,rA);_(this,iA);_(this,sA);_(this,Im);_(this,Mm);_(this,fy);_(this,Nm,B(this,iA,KO).bind(this));_(this,eA,B(this,fy,c4).bind(this));_(this,tA,B(this,Mm,Hb).bind(this));_(this,Tm,B(this,Im,Ub).bind(this));_(this,Lm,null);_(this,Tn,null);_(this,xl,null);_(this,uh,null);_(this,ly,null);_(this,cy,null);_(this,km,null);_(this,Al,!1);_(this,bo,null);_(this,Sl,null);_(this,uy,null);_(this,El,null);_(this,dy,null);_(this,dh,null);_(this,hh,!1);var p;L(this,Tn,e),L(this,dy,i),L(this,xl,o),L(this,El,a),L(this,cy,l),L(this,Lm,t),L(this,uy,c),L(this,km,u),L(this,ly,r),L(this,uh,RN.toDateObject(s)),this.trigger=r.flatMap(f=>f.getElementsToTriggerPopup());for(const f of this.trigger)f.addEventListener("click",h(this,Tm)),f.addEventListener("mouseenter",h(this,tA)),f.addEventListener("mouseleave",h(this,eA)),f.classList.add("popupTriggerArea");for(const f of r)(p=f.container)==null||p.addEventListener("keydown",h(this,Nm));h(this,Tn).hidden=!0,d&&B(this,Im,Ub).call(this)}render(){if(h(this,bo))return;const e=L(this,bo,document.createElement("div"));if(e.className="popup",h(this,Lm)){const s=e.style.outlineColor=Ke.makeHexColor(...h(this,Lm));e.style.backgroundColor=`color-mix(in srgb, ${s} 30%, white)`}const t=document.createElement("span");t.className="header";const r=document.createElement("h1");if(t.append(r),{dir:r.dir,str:r.textContent}=h(this,dy),e.append(t),h(this,uh)){const s=document.createElement("time");s.classList.add("popupDate"),s.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),s.setAttribute("data-l10n-args",JSON.stringify({dateObj:h(this,uh).valueOf()})),s.dateTime=h(this,uh).toISOString(),t.append(s)}const i=h(this,Rm,Vb);if(i)UO.render({xfaHtml:i,intent:"richText",div:e}),e.lastChild.classList.add("richText","popupContent");else{const s=this._formatContents(h(this,xl));e.append(s)}h(this,Tn).append(e)}_formatContents({str:e,dir:t}){const r=document.createElement("p");r.classList.add("popupContent"),r.dir=t;const i=e.split(/(?:\r\n?|\n)/);for(let s=0,o=i.length;s<o;++s){const a=i[s];r.append(document.createTextNode(a)),s<o-1&&r.append(document.createElement("br"))}return r}updateEdited({rect:e,popupContent:t}){var r;h(this,dh)||L(this,dh,{contentsObj:h(this,xl),richText:h(this,El)}),e&&L(this,Sl,null),t&&(L(this,El,B(this,rA,YO).call(this,t)),L(this,xl,null)),(r=h(this,bo))==null||r.remove(),L(this,bo,null)}resetEdited(){var e;h(this,dh)&&({contentsObj:ci(this,xl)._,richText:ci(this,El)._}=h(this,dh),L(this,dh,null),(e=h(this,bo))==null||e.remove(),L(this,bo,null),L(this,Sl,null))}forceHide(){L(this,hh,this.isVisible),h(this,hh)&&(h(this,Tn).hidden=!0)}maybeShow(){h(this,hh)&&(h(this,bo)||B(this,Mm,Hb).call(this),L(this,hh,!1),h(this,Tn).hidden=!1)}get isVisible(){return h(this,Tn).hidden===!1}}Nm=new WeakMap,eA=new WeakMap,tA=new WeakMap,Tm=new WeakMap,Lm=new WeakMap,Tn=new WeakMap,xl=new WeakMap,uh=new WeakMap,ly=new WeakMap,cy=new WeakMap,km=new WeakMap,Al=new WeakMap,bo=new WeakMap,Sl=new WeakMap,uy=new WeakMap,El=new WeakMap,dy=new WeakMap,dh=new WeakMap,hh=new WeakMap,Rm=new WeakSet,Vb=function(){const e=h(this,El),t=h(this,xl);return e!=null&&e.str&&(!(t!=null&&t.str)||t.str===e.str)&&h(this,El).html||null},hy=new WeakSet,l4=function(){var e,t,r;return((r=(t=(e=h(this,Rm,Vb))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:r.fontSize)||0},nA=new WeakSet,XO=function(){var e,t,r;return((r=(t=(e=h(this,Rm,Vb))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:r.color)||null},rA=new WeakSet,YO=function(e){const t=[],r={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:t}]}},i={style:{color:h(this,nA,XO),fontSize:h(this,hy,l4)?`calc(${h(this,hy,l4)}px * var(--total-scale-factor))`:""}};for(const s of e.split(`
`))t.push({name:"span",value:s,attributes:i});return r},iA=new WeakSet,KO=function(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&h(this,Al))&&B(this,Im,Ub).call(this)},sA=new WeakSet,JO=function(){if(h(this,Sl)!==null)return;const{page:{view:e},viewport:{rawDims:{pageWidth:t,pageHeight:r,pageX:i,pageY:s}}}=h(this,cy);let o=!!h(this,km),a=o?h(this,km):h(this,uy);for(const y of h(this,ly))if(!a||Ke.intersect(y.data.rect,a)!==null){a=y.data.rect,o=!0;break}const l=Ke.normalizeRect([a[0],e[3]-a[1]+e[1],a[2],e[3]-a[3]+e[1]]),c=5,u=o?a[2]-a[0]+c:0,d=l[0]+u,p=l[1];L(this,Sl,[100*(d-i)/t,100*(p-s)/r]);const{style:f}=h(this,Tn);f.left=`${h(this,Sl)[0]}%`,f.top=`${h(this,Sl)[1]}%`},Im=new WeakSet,Ub=function(){L(this,Al,!h(this,Al)),h(this,Al)?(B(this,Mm,Hb).call(this),h(this,Tn).addEventListener("click",h(this,Tm)),h(this,Tn).addEventListener("keydown",h(this,Nm))):(B(this,fy,c4).call(this),h(this,Tn).removeEventListener("click",h(this,Tm)),h(this,Tn).removeEventListener("keydown",h(this,Nm)))},Mm=new WeakSet,Hb=function(){h(this,bo)||this.render(),this.isVisible?h(this,Al)&&h(this,Tn).classList.add("focused"):(B(this,sA,JO).call(this),h(this,Tn).hidden=!1,h(this,Tn).style.zIndex=parseInt(h(this,Tn).style.zIndex)+1e3)},fy=new WeakSet,c4=function(){h(this,Tn).classList.remove("focused"),!(h(this,Al)||!this.isVisible)&&(h(this,Tn).hidden=!0,h(this,Tn).style.zIndex=parseInt(h(this,Tn).style.zIndex)-1e3)};class QO extends Hn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=ht.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const t of this.textContent){const r=document.createElement("span");r.textContent=t,e.append(r)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var py;class Pee extends Hn{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});_(this,py,null)}render(){this.container.classList.add("lineAnnotation");const{data:t,width:r,height:i}=this,s=this.svgFactory.create(r,i,!0),o=L(this,py,this.svgFactory.createElement("svg:line"));return o.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),o.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),o.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),o.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),o.setAttribute("stroke-width",t.borderStyle.width||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),s.append(o),this.container.append(s),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return h(this,py)}addHighlightArea(){this.container.classList.add("highlightArea")}}py=new WeakMap;var my;class Nee extends Hn{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});_(this,my,null)}render(){this.container.classList.add("squareAnnotation");const{data:t,width:r,height:i}=this,s=this.svgFactory.create(r,i,!0),o=t.borderStyle.width,a=L(this,my,this.svgFactory.createElement("svg:rect"));return a.setAttribute("x",o/2),a.setAttribute("y",o/2),a.setAttribute("width",r-o),a.setAttribute("height",i-o),a.setAttribute("stroke-width",o||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),s.append(a),this.container.append(s),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return h(this,my)}addHighlightArea(){this.container.classList.add("highlightArea")}}my=new WeakMap;var gy;class Tee extends Hn{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});_(this,gy,null)}render(){this.container.classList.add("circleAnnotation");const{data:t,width:r,height:i}=this,s=this.svgFactory.create(r,i,!0),o=t.borderStyle.width,a=L(this,gy,this.svgFactory.createElement("svg:ellipse"));return a.setAttribute("cx",r/2),a.setAttribute("cy",i/2),a.setAttribute("rx",r/2-o/2),a.setAttribute("ry",i/2-o/2),a.setAttribute("stroke-width",o||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),s.append(a),this.container.append(s),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return h(this,gy)}addHighlightArea(){this.container.classList.add("highlightArea")}}gy=new WeakMap;var vy;class ZO extends Hn{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});_(this,vy,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,vertices:r,borderStyle:i,popupRef:s},width:o,height:a}=this;if(!r)return this.container;const l=this.svgFactory.create(o,a,!0);let c=[];for(let d=0,p=r.length;d<p;d+=2){const f=r[d]-t[0],y=t[3]-r[d+1];c.push(`${f},${y}`)}c=c.join(" ");const u=L(this,vy,this.svgFactory.createElement(this.svgElementName));return u.setAttribute("points",c),u.setAttribute("stroke-width",i.width||1),u.setAttribute("stroke","transparent"),u.setAttribute("fill","transparent"),l.append(u),this.container.append(l),!s&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return h(this,vy)}addHighlightArea(){this.container.classList.add("highlightArea")}}vy=new WeakMap;class Lee extends ZO{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class kee extends Hn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var yy,fh,by,u4;class ON extends Hn{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});_(this,by);_(this,yy,null);_(this,fh,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?ht.HIGHLIGHT:ht.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,rotation:r,inkLists:i,borderStyle:s,popupRef:o}}=this,{transform:a,width:l,height:c}=B(this,by,u4).call(this,r,t),u=this.svgFactory.create(l,c,!0),d=L(this,yy,this.svgFactory.createElement("svg:g"));u.append(d),d.setAttribute("stroke-width",s.width||1),d.setAttribute("stroke-linecap","round"),d.setAttribute("stroke-linejoin","round"),d.setAttribute("stroke-miterlimit",10),d.setAttribute("stroke","transparent"),d.setAttribute("fill","transparent"),d.setAttribute("transform",a);for(let p=0,f=i.length;p<f;p++){const y=this.svgFactory.createElement(this.svgElementName);h(this,fh).push(y),y.setAttribute("points",i[p].join(",")),d.append(y)}return!o&&this.hasPopupData&&this._createPopup(),this.container.append(u),this._editOnDoubleClick(),this.container}updateEdited(t){super.updateEdited(t);const{thickness:r,points:i,rect:s}=t,o=h(this,yy);if(r>=0&&o.setAttribute("stroke-width",r||1),i)for(let a=0,l=h(this,fh).length;a<l;a++)h(this,fh)[a].setAttribute("points",i[a].join(","));if(s){const{transform:a,width:l,height:c}=B(this,by,u4).call(this,this.data.rotation,s);o.parentElement.setAttribute("viewBox",`0 0 ${l} ${c}`),o.setAttribute("transform",a)}}getElementsToTriggerPopup(){return h(this,fh)}addHighlightArea(){this.container.classList.add("highlightArea")}}yy=new WeakMap,fh=new WeakMap,by=new WeakSet,u4=function(t,r){switch(t){case 90:return{transform:`rotate(90) translate(${-r[0]},${r[1]}) scale(1,-1)`,width:r[3]-r[1],height:r[2]-r[0]};case 180:return{transform:`rotate(180) translate(${-r[2]},${r[1]}) scale(1,-1)`,width:r[2]-r[0],height:r[3]-r[1]};case 270:return{transform:`rotate(270) translate(${-r[2]},${r[3]}) scale(1,-1)`,width:r[3]-r[1],height:r[2]-r[0]};default:return{transform:`translate(${-r[0]},${r[3]}) scale(1,-1)`,width:r[2]-r[0],height:r[3]-r[1]}}};class ej extends Hn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=ht.HIGHLIGHT}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),e){const r=document.createElement("mark");r.classList.add("overlaidText"),r.textContent=e,this.container.append(r)}return this.container}}class Ree extends Hn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),e){const r=document.createElement("u");r.classList.add("overlaidText"),r.textContent=e,this.container.append(r)}return this.container}}class Iee extends Hn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),e){const r=document.createElement("u");r.classList.add("overlaidText"),r.textContent=e,this.container.append(r)}return this.container}}class Mee extends Hn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),e){const r=document.createElement("s");r.classList.add("overlaidText"),r.textContent=e,this.container.append(r)}return this.container}}class tj extends Hn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=ht.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var wy,xy,d4;class Fee extends Hn{constructor(t){var i;super(t,{isRenderable:!0});_(this,xy);_(this,wy,null);const{file:r}=this.data;this.filename=r.filename,this.content=r.content,(i=this.linkService.eventBus)==null||i.dispatch("fileattachmentannotation",{source:this,...r})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:t,data:r}=this;let i;r.hasAppearance||r.fillAlpha===0?i=document.createElement("div"):(i=document.createElement("img"),i.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(r.name)?"paperclip":"pushpin"}.svg`,r.fillAlpha&&r.fillAlpha<1&&(i.style=`filter: opacity(${Math.round(r.fillAlpha*100)}%);`)),i.addEventListener("dblclick",B(this,xy,d4).bind(this)),L(this,wy,i);const{isMac:s}=Or.platform;return t.addEventListener("keydown",o=>{o.key==="Enter"&&(s?o.metaKey:o.ctrlKey)&&B(this,xy,d4).call(this)}),!r.popupRef&&this.hasPopupData?this._createPopup():i.classList.add("popupTriggerArea"),t.append(i),t}getElementsToTriggerPopup(){return h(this,wy)}addHighlightArea(){this.container.classList.add("highlightArea")}}wy=new WeakMap,xy=new WeakSet,d4=function(){var t;(t=this.downloadManager)==null||t.openOrDownloadData(this.content,this.filename)};var Ay,ph,Yc,Sy,Ey,f4,Cy,p4;const HN=class HN{constructor({div:e,accessibilityManager:t,annotationCanvasMap:r,annotationEditorUIManager:i,page:s,viewport:o,structTreeLayer:a}){_(this,Ey);_(this,Cy);_(this,Ay,null);_(this,ph,null);_(this,Yc,new Map);_(this,Sy,null);this.div=e,L(this,Ay,t),L(this,ph,r),L(this,Sy,a||null),this.page=s,this.viewport=o,this.zIndex=0,this._annotationEditorUIManager=i}hasEditableAnnotations(){return h(this,Yc).size>0}async render(e){var o;const{annotations:t}=e,r=this.div;Zh(r,this.viewport);const i=new Map,s={data:null,layer:r,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new Qw,annotationStorage:e.annotationStorage||new MN,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const a of t){if(a.noHTML)continue;const l=a.annotationType===Kn.POPUP;if(l){const d=i.get(a.id);if(!d)continue;s.elements=d}else if(a.rect[2]===a.rect[0]||a.rect[3]===a.rect[1])continue;s.data=a;const c=hR.create(s);if(!c.isRenderable)continue;if(!l&&a.popupRef){const d=i.get(a.popupRef);d?d.push(c):i.set(a.popupRef,[c])}const u=c.render();a.hidden&&(u.style.visibility="hidden"),await B(this,Ey,f4).call(this,u,a.id,s.elements),c._isEditable&&(h(this,Yc).set(c.data.id,c),(o=this._annotationEditorUIManager)==null||o.renderAnnotationElement(c))}B(this,Cy,p4).call(this)}async addLinkAnnotations(e,t){const r={data:null,layer:this.div,linkService:t,svgFactory:new Qw,parent:this};for(const i of e){i.borderStyle||(i.borderStyle=HN._defaultBorderStyle),r.data=i;const s=hR.create(r);if(!s.isRenderable)continue;const o=s.render();await B(this,Ey,f4).call(this,o,i.id,null)}}update({viewport:e}){const t=this.div;this.viewport=e,Zh(t,{rotation:e.rotation}),B(this,Cy,p4).call(this),t.hidden=!1}getEditableAnnotations(){return Array.from(h(this,Yc).values())}getEditableAnnotation(e){return h(this,Yc).get(e)}static get _defaultBorderStyle(){return Ct(this,"_defaultBorderStyle",Object.freeze({width:1,rawWidth:1,style:Jf.SOLID,dashArray:[3],horizontalCornerRadius:0,verticalCornerRadius:0}))}};Ay=new WeakMap,ph=new WeakMap,Yc=new WeakMap,Sy=new WeakMap,Ey=new WeakSet,f4=async function(e,t,r){var a,l;const i=e.firstChild||e,s=i.id=`${TN}${t}`,o=await((a=h(this,Sy))==null?void 0:a.getAriaAttributes(s));if(o)for(const[c,u]of o)i.setAttribute(c,u);r?r.at(-1).container.after(e):(this.div.append(e),(l=h(this,Ay))==null||l.moveElementInDOM(this.div,e,i,!1))},Cy=new WeakSet,p4=function(){var t;if(!h(this,ph))return;const e=this.div;for(const[r,i]of h(this,ph)){const s=e.querySelector(`[data-annotation-id="${r}"]`);if(!s)continue;i.className="annotationContent";const{firstChild:o}=s;o?o.nodeName==="CANVAS"?o.replaceWith(i):o.classList.contains("annotationContent")?o.after(i):o.before(i):s.append(i);const a=h(this,Yc).get(r);a&&(a._hasNoCanvas?((t=this._annotationEditorUIManager)==null||t.setMissingCanvas(r,s.id,i),a._hasNoCanvas=!1):a.canvas=i)}h(this,ph).clear()};let h4=HN;const ib=/\r\n?|\n/g;var wo,ts,_y,mh,ns,oA,nj,aA,rj,lA,ij,Fm,qb,Dm,Wb,Om,Gb,cA,sj,Py,g4,uA,oj;const Yt=class Yt extends tn{constructor(t){super({...t,name:"freeTextEditor"});_(this,oA);_(this,aA);_(this,lA);_(this,Fm);_(this,Om);_(this,cA);_(this,uA);_(this,wo,void 0);_(this,ts,"");_(this,_y,`${this.id}-editor`);_(this,mh,null);_(this,ns,void 0);L(this,wo,t.color||Yt._defaultColor||tn._defaultLineColor),L(this,ns,t.fontSize||Yt._defaultFontSize),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-freetext-added-alert")}static get _keyboardManager(){const t=Yt.prototype,r=o=>o.isEmpty(),i=ef.TRANSLATE_SMALL,s=ef.TRANSLATE_BIG;return Ct(this,"_keyboardManager",new _2([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],t.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],t.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],t._translateEmpty,{args:[-i,0],checker:r}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t._translateEmpty,{args:[-s,0],checker:r}],[["ArrowRight","mac+ArrowRight"],t._translateEmpty,{args:[i,0],checker:r}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t._translateEmpty,{args:[s,0],checker:r}],[["ArrowUp","mac+ArrowUp"],t._translateEmpty,{args:[0,-i],checker:r}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t._translateEmpty,{args:[0,-s],checker:r}],[["ArrowDown","mac+ArrowDown"],t._translateEmpty,{args:[0,i],checker:r}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t._translateEmpty,{args:[0,s],checker:r}]]))}static initialize(t,r){tn.initialize(t,r);const i=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(i.getPropertyValue("--freetext-padding"))}static updateDefaultParams(t,r){switch(t){case _t.FREETEXT_SIZE:Yt._defaultFontSize=r;break;case _t.FREETEXT_COLOR:Yt._defaultColor=r;break}}updateParams(t,r){switch(t){case _t.FREETEXT_SIZE:B(this,oA,nj).call(this,r);break;case _t.FREETEXT_COLOR:B(this,aA,rj).call(this,r);break}}static get defaultPropertiesToUpdate(){return[[_t.FREETEXT_SIZE,Yt._defaultFontSize],[_t.FREETEXT_COLOR,Yt._defaultColor||tn._defaultLineColor]]}get propertiesToUpdate(){return[[_t.FREETEXT_SIZE,h(this,ns)],[_t.FREETEXT_COLOR,h(this,wo)]]}_translateEmpty(t,r){this._uiManager.translateSelectedEditors(t,r,!0)}getInitialTranslation(){const t=this.parentScale;return[-Yt._internalPadding*t,-(Yt._internalPadding+h(this,ns))*t]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(!super.enableEditMode())return!1;this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),L(this,mh,new AbortController);const t=this._uiManager.combinedSignal(h(this,mh));return this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:t}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:t}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:t}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:t}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:t}),!0}disableEditMode(){var t;return super.disableEditMode()?(this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",h(this,_y)),this._isDraggable=!0,(t=h(this,mh))==null||t.abort(),L(this,mh,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"),!0):!1}focusin(t){this._focusEventsAllowed&&(super.focusin(t),t.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(t){var r;this.width||(this.enableEditMode(),t&&this.editorDiv.focus(),(r=this._initialOptions)!=null&&r.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const t=h(this,ts),r=L(this,ts,B(this,lA,ij).call(this).trimEnd());if(t===r)return;const i=s=>{if(L(this,ts,s),!s){this.remove();return}B(this,Om,Gb).call(this),this._uiManager.rebuild(this),B(this,Fm,qb).call(this)};this.addCommands({cmd:()=>{i(r)},undo:()=>{i(t)},mustExec:!1}),B(this,Fm,qb).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}keydown(t){t.target===this.div&&t.key==="Enter"&&(this.enterInEditMode(),t.preventDefault())}editorDivKeydown(t){Yt._keyboardManager.exec(this,t)}editorDivFocus(t){this.isEditing=!0}editorDivBlur(t){this.isEditing=!1}editorDivInput(t){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}get canChangeContent(){return!0}render(){if(this.div)return this.div;let t,r;(this._isCopy||this.annotationElementId)&&(t=this.x,r=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",h(this,_y)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:i}=this.editorDiv;if(i.fontSize=`calc(${h(this,ns)}px * var(--total-scale-factor))`,i.color=h(this,wo),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),this._isCopy||this.annotationElementId){const[s,o]=this.parentDimensions;if(this.annotationElementId){const{position:a}=this._initialData;let[l,c]=this.getInitialTranslation();[l,c]=this.pageTranslationToScreen(l,c);const[u,d]=this.pageDimensions,[p,f]=this.pageTranslation;let y,g;switch(this.rotation){case 0:y=t+(a[0]-p)/u,g=r+this.height-(a[1]-f)/d;break;case 90:y=t+(a[0]-p)/u,g=r-(a[1]-f)/d,[l,c]=[c,-l];break;case 180:y=t-this.width+(a[0]-p)/u,g=r-(a[1]-f)/d,[l,c]=[-l,-c];break;case 270:y=t+(a[0]-p-this.height*d)/u,g=r+(a[1]-f-this.width*u)/d,[l,c]=[-c,l];break}this.setAt(y*s,g*o,l,c)}else this._moveAfterPaste(t,r);B(this,Om,Gb).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(t){var y,g,x;const r=t.clipboardData||window.clipboardData,{types:i}=r;if(i.length===1&&i[0]==="text/plain")return;t.preventDefault();const s=B(y=Yt,Py,g4).call(y,r.getData("text")||"").replaceAll(ib,`
`);if(!s)return;const o=window.getSelection();if(!o.rangeCount)return;this.editorDiv.normalize(),o.deleteFromDocument();const a=o.getRangeAt(0);if(!s.includes(`
`)){a.insertNode(document.createTextNode(s)),this.editorDiv.normalize(),o.collapseToStart();return}const{startContainer:l,startOffset:c}=a,u=[],d=[];if(l.nodeType===Node.TEXT_NODE){const v=l.parentElement;if(d.push(l.nodeValue.slice(c).replaceAll(ib,"")),v!==this.editorDiv){let w=u;for(const S of this.editorDiv.childNodes){if(S===v){w=d;continue}w.push(B(g=Yt,Dm,Wb).call(g,S))}}u.push(l.nodeValue.slice(0,c).replaceAll(ib,""))}else if(l===this.editorDiv){let v=u,w=0;for(const S of this.editorDiv.childNodes)w++===c&&(v=d),v.push(B(x=Yt,Dm,Wb).call(x,S))}L(this,ts,`${u.join(`
`)}${s}${d.join(`
`)}`),B(this,Om,Gb).call(this);const p=new Range;let f=Math.sumPrecise(u.map(v=>v.length));for(const{firstChild:v}of this.editorDiv.childNodes)if(v.nodeType===Node.TEXT_NODE){const w=v.nodeValue.length;if(f<=w){p.setStart(v,f),p.setEnd(v,f);break}f-=w}o.removeAllRanges(),o.addRange(p)}get contentDiv(){return this.editorDiv}static async deserialize(t,r,i){var a;let s=null;if(t instanceof QO){const{data:{defaultAppearanceData:{fontSize:l,fontColor:c},rect:u,rotation:d,id:p,popupRef:f},textContent:y,textPosition:g,parent:{page:{pageNumber:x}}}=t;if(!y||y.length===0)return null;s=t={annotationType:ht.FREETEXT,color:Array.from(c),fontSize:l,value:y.join(`
`),position:g,pageIndex:x-1,rect:u.slice(0),rotation:d,annotationElementId:p,id:p,deleted:!1,popupRef:f}}const o=await super.deserialize(t,r,i);return L(o,ns,t.fontSize),L(o,wo,Ke.makeHexColor(...t.color)),L(o,ts,B(a=Yt,Py,g4).call(a,t.value)),o._initialData=s,o}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const r=Yt._internalPadding*this.parentScale,i=this.getRect(r,r),s=tn._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:h(this,wo)),o={annotationType:ht.FREETEXT,color:s,fontSize:h(this,ns),value:B(this,cA,sj).call(this),pageIndex:this.pageIndex,rect:i,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return t?(o.isCopy=!0,o):this.annotationElementId&&!B(this,uA,oj).call(this,o)?null:(o.id=this.annotationElementId,o)}renderAnnotationElement(t){const r=super.renderAnnotationElement(t);if(this.deleted)return r;const{style:i}=r;i.fontSize=`calc(${h(this,ns)}px * var(--total-scale-factor))`,i.color=h(this,wo),r.replaceChildren();for(const o of h(this,ts).split(`
`)){const a=document.createElement("div");a.append(o?document.createTextNode(o):document.createElement("br")),r.append(a)}const s=Yt._internalPadding*this.parentScale;return t.updateEdited({rect:this.getRect(s,s),popupContent:h(this,ts)}),r}resetAnnotationElement(t){super.resetAnnotationElement(t),t.resetEdited()}};wo=new WeakMap,ts=new WeakMap,_y=new WeakMap,mh=new WeakMap,ns=new WeakMap,oA=new WeakSet,nj=function(t){const r=s=>{this.editorDiv.style.fontSize=`calc(${s}px * var(--total-scale-factor))`,this.translate(0,-(s-h(this,ns))*this.parentScale),L(this,ns,s),B(this,Fm,qb).call(this)},i=h(this,ns);this.addCommands({cmd:r.bind(this,t),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:_t.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},aA=new WeakSet,rj=function(t){const r=s=>{L(this,wo,this.editorDiv.style.color=s)},i=h(this,wo);this.addCommands({cmd:r.bind(this,t),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:_t.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},lA=new WeakSet,ij=function(){var i;const t=[];this.editorDiv.normalize();let r=null;for(const s of this.editorDiv.childNodes)(r==null?void 0:r.nodeType)===Node.TEXT_NODE&&s.nodeName==="BR"||(t.push(B(i=Yt,Dm,Wb).call(i,s)),r=s);return t.join(`
`)},Fm=new WeakSet,qb=function(){const[t,r]=this.parentDimensions;let i;if(this.isAttachedToDOM)i=this.div.getBoundingClientRect();else{const{currentLayer:s,div:o}=this,a=o.style.display,l=o.classList.contains("hidden");o.classList.remove("hidden"),o.style.display="hidden",s.div.append(this.div),i=o.getBoundingClientRect(),o.remove(),o.style.display=a,o.classList.toggle("hidden",l)}this.rotation%180===this.parentRotation%180?(this.width=i.width/t,this.height=i.height/r):(this.width=i.height/t,this.height=i.width/r),this.fixAndSetPosition()},Dm=new WeakSet,Wb=function(t){return(t.nodeType===Node.TEXT_NODE?t.nodeValue:t.innerText).replaceAll(ib,"")},Om=new WeakSet,Gb=function(){if(this.editorDiv.replaceChildren(),!!h(this,ts))for(const t of h(this,ts).split(`
`)){const r=document.createElement("div");r.append(t?document.createTextNode(t):document.createElement("br")),this.editorDiv.append(r)}},cA=new WeakSet,sj=function(){return h(this,ts).replaceAll(""," ")},Py=new WeakSet,g4=function(t){return t.replaceAll(" ","")},uA=new WeakSet,oj=function(t){const{value:r,fontSize:i,color:s,pageIndex:o}=this._initialData;return this._hasBeenMoved||t.value!==r||t.fontSize!==i||t.color.some((a,l)=>a!==s[l])||t.pageIndex!==o},_(Yt,Dm),_(Yt,Py),Me(Yt,"_freeTextDefaultContent",""),Me(Yt,"_internalPadding",0),Me(Yt,"_defaultColor",null),Me(Yt,"_defaultFontSize",10),Me(Yt,"_type","freetext"),Me(Yt,"_editorType",ht.FREETEXT);let m4=Yt;class Ue{toSVGPath(){qt("Abstract method `toSVGPath` must be implemented.")}get box(){qt("Abstract getter `box` must be implemented.")}serialize(e,t){qt("Abstract method `serialize` must be implemented.")}static _rescale(e,t,r,i,s,o){o||(o=new Float32Array(e.length));for(let a=0,l=e.length;a<l;a+=2)o[a]=t+e[a]*i,o[a+1]=r+e[a+1]*s;return o}static _rescaleAndSwap(e,t,r,i,s,o){o||(o=new Float32Array(e.length));for(let a=0,l=e.length;a<l;a+=2)o[a]=t+e[a+1]*i,o[a+1]=r+e[a]*s;return o}static _translate(e,t,r,i){i||(i=new Float32Array(e.length));for(let s=0,o=e.length;s<o;s+=2)i[s]=t+e[s],i[s+1]=r+e[s+1];return i}static svgRound(e){return Math.round(e*1e4)}static _normalizePoint(e,t,r,i,s){switch(s){case 90:return[1-t/r,e/i];case 180:return[1-e/r,1-t/i];case 270:return[t/r,1-e/i];default:return[e/r,t/i]}}static _normalizePagePoint(e,t,r){switch(r){case 90:return[1-t,e];case 180:return[1-e,1-t];case 270:return[t,1-e];default:return[e,t]}}static createBezierPoints(e,t,r,i,s,o){return[(e+5*r)/6,(t+5*i)/6,(5*r+s)/6,(5*i+o)/6,(r+s)/2,(i+o)/2]}}Me(Ue,"PRECISION",1e-4);var rs,xo,jm,Bm,pa,wt,gh,vh,Ny,Ty,$m,zm,Kc,Ly,dA,hA,yh,K0,fA,aj,pA,lj,mA,cj,gA,uj,vA,dj,yA,hj;const tl=class tl{constructor({x:e,y:t},r,i,s,o,a=0){_(this,yh);_(this,fA);_(this,pA);_(this,mA);_(this,gA);_(this,vA);_(this,yA);_(this,rs,void 0);_(this,xo,[]);_(this,jm,void 0);_(this,Bm,void 0);_(this,pa,[]);_(this,wt,new Float32Array(18));_(this,gh,void 0);_(this,vh,void 0);_(this,Ny,void 0);_(this,Ty,void 0);_(this,$m,void 0);_(this,zm,void 0);_(this,Kc,[]);L(this,rs,r),L(this,zm,s*i),L(this,Bm,o),h(this,wt).set([NaN,NaN,NaN,NaN,e,t],6),L(this,jm,a),L(this,Ty,h(tl,Ly)*i),L(this,Ny,h(tl,hA)*i),L(this,$m,i),h(this,Kc).push(e,t)}isEmpty(){return isNaN(h(this,wt)[8])}add({x:e,y:t}){var W;L(this,gh,e),L(this,vh,t);const[r,i,s,o]=h(this,rs);let[a,l,c,u]=h(this,wt).subarray(8,12);const d=e-c,p=t-u,f=Math.hypot(d,p);if(f<h(this,Ny))return!1;const y=f-h(this,Ty),g=y/f,x=g*d,v=g*p;let w=a,S=l;a=c,l=u,c+=x,u+=v,(W=h(this,Kc))==null||W.push(e,t);const C=-v/y,N=x/y,$=C*h(this,zm),R=N*h(this,zm);return h(this,wt).set(h(this,wt).subarray(2,8),0),h(this,wt).set([c+$,u+R],4),h(this,wt).set(h(this,wt).subarray(14,18),12),h(this,wt).set([c-$,u-R],16),isNaN(h(this,wt)[6])?(h(this,pa).length===0&&(h(this,wt).set([a+$,l+R],2),h(this,pa).push(NaN,NaN,NaN,NaN,(a+$-r)/s,(l+R-i)/o),h(this,wt).set([a-$,l-R],14),h(this,xo).push(NaN,NaN,NaN,NaN,(a-$-r)/s,(l-R-i)/o)),h(this,wt).set([w,S,a,l,c,u],6),!this.isEmpty()):(h(this,wt).set([w,S,a,l,c,u],6),Math.abs(Math.atan2(S-l,w-a)-Math.atan2(v,x))<Math.PI/2?([a,l,c,u]=h(this,wt).subarray(2,6),h(this,pa).push(NaN,NaN,NaN,NaN,((a+c)/2-r)/s,((l+u)/2-i)/o),[a,l,w,S]=h(this,wt).subarray(14,18),h(this,xo).push(NaN,NaN,NaN,NaN,((w+a)/2-r)/s,((S+l)/2-i)/o),!0):([w,S,a,l,c,u]=h(this,wt).subarray(0,6),h(this,pa).push(((w+5*a)/6-r)/s,((S+5*l)/6-i)/o,((5*a+c)/6-r)/s,((5*l+u)/6-i)/o,((a+c)/2-r)/s,((l+u)/2-i)/o),[c,u,a,l,w,S]=h(this,wt).subarray(12,18),h(this,xo).push(((w+5*a)/6-r)/s,((S+5*l)/6-i)/o,((5*a+c)/6-r)/s,((5*l+u)/6-i)/o,((a+c)/2-r)/s,((l+u)/2-i)/o),!0))}toSVGPath(){if(this.isEmpty())return"";const e=h(this,pa),t=h(this,xo);if(isNaN(h(this,wt)[6])&&!this.isEmpty())return B(this,fA,aj).call(this);const r=[];r.push(`M${e[4]} ${e[5]}`);for(let i=6;i<e.length;i+=6)isNaN(e[i])?r.push(`L${e[i+4]} ${e[i+5]}`):r.push(`C${e[i]} ${e[i+1]} ${e[i+2]} ${e[i+3]} ${e[i+4]} ${e[i+5]}`);B(this,mA,cj).call(this,r);for(let i=t.length-6;i>=6;i-=6)isNaN(t[i])?r.push(`L${t[i+4]} ${t[i+5]}`):r.push(`C${t[i]} ${t[i+1]} ${t[i+2]} ${t[i+3]} ${t[i+4]} ${t[i+5]}`);return B(this,pA,lj).call(this,r),r.join(" ")}newFreeDrawOutline(e,t,r,i,s,o){return new fj(e,t,r,i,s,o)}getOutlines(){var d;const e=h(this,pa),t=h(this,xo),r=h(this,wt),[i,s,o,a]=h(this,rs),l=new Float32Array((((d=h(this,Kc))==null?void 0:d.length)??0)+2);for(let p=0,f=l.length-2;p<f;p+=2)l[p]=(h(this,Kc)[p]-i)/o,l[p+1]=(h(this,Kc)[p+1]-s)/a;if(l[l.length-2]=(h(this,gh)-i)/o,l[l.length-1]=(h(this,vh)-s)/a,isNaN(r[6])&&!this.isEmpty())return B(this,gA,uj).call(this,l);const c=new Float32Array(h(this,pa).length+24+h(this,xo).length);let u=e.length;for(let p=0;p<u;p+=2){if(isNaN(e[p])){c[p]=c[p+1]=NaN;continue}c[p]=e[p],c[p+1]=e[p+1]}u=B(this,yA,hj).call(this,c,u);for(let p=t.length-6;p>=6;p-=6)for(let f=0;f<6;f+=2){if(isNaN(t[p+f])){c[u]=c[u+1]=NaN,u+=2;continue}c[u]=t[p+f],c[u+1]=t[p+f+1],u+=2}return B(this,vA,dj).call(this,c,u),this.newFreeDrawOutline(c,l,h(this,rs),h(this,$m),h(this,jm),h(this,Bm))}};rs=new WeakMap,xo=new WeakMap,jm=new WeakMap,Bm=new WeakMap,pa=new WeakMap,wt=new WeakMap,gh=new WeakMap,vh=new WeakMap,Ny=new WeakMap,Ty=new WeakMap,$m=new WeakMap,zm=new WeakMap,Kc=new WeakMap,Ly=new WeakMap,dA=new WeakMap,hA=new WeakMap,yh=new WeakSet,K0=function(){const e=h(this,wt).subarray(4,6),t=h(this,wt).subarray(16,18),[r,i,s,o]=h(this,rs);return[(h(this,gh)+(e[0]-t[0])/2-r)/s,(h(this,vh)+(e[1]-t[1])/2-i)/o,(h(this,gh)+(t[0]-e[0])/2-r)/s,(h(this,vh)+(t[1]-e[1])/2-i)/o]},fA=new WeakSet,aj=function(){const[e,t,r,i]=h(this,rs),[s,o,a,l]=B(this,yh,K0).call(this);return`M${(h(this,wt)[2]-e)/r} ${(h(this,wt)[3]-t)/i} L${(h(this,wt)[4]-e)/r} ${(h(this,wt)[5]-t)/i} L${s} ${o} L${a} ${l} L${(h(this,wt)[16]-e)/r} ${(h(this,wt)[17]-t)/i} L${(h(this,wt)[14]-e)/r} ${(h(this,wt)[15]-t)/i} Z`},pA=new WeakSet,lj=function(e){const t=h(this,xo);e.push(`L${t[4]} ${t[5]} Z`)},mA=new WeakSet,cj=function(e){const[t,r,i,s]=h(this,rs),o=h(this,wt).subarray(4,6),a=h(this,wt).subarray(16,18),[l,c,u,d]=B(this,yh,K0).call(this);e.push(`L${(o[0]-t)/i} ${(o[1]-r)/s} L${l} ${c} L${u} ${d} L${(a[0]-t)/i} ${(a[1]-r)/s}`)},gA=new WeakSet,uj=function(e){const t=h(this,wt),[r,i,s,o]=h(this,rs),[a,l,c,u]=B(this,yh,K0).call(this),d=new Float32Array(36);return d.set([NaN,NaN,NaN,NaN,(t[2]-r)/s,(t[3]-i)/o,NaN,NaN,NaN,NaN,(t[4]-r)/s,(t[5]-i)/o,NaN,NaN,NaN,NaN,a,l,NaN,NaN,NaN,NaN,c,u,NaN,NaN,NaN,NaN,(t[16]-r)/s,(t[17]-i)/o,NaN,NaN,NaN,NaN,(t[14]-r)/s,(t[15]-i)/o],0),this.newFreeDrawOutline(d,e,h(this,rs),h(this,$m),h(this,jm),h(this,Bm))},vA=new WeakSet,dj=function(e,t){const r=h(this,xo);return e.set([NaN,NaN,NaN,NaN,r[4],r[5]],t),t+=6},yA=new WeakSet,hj=function(e,t){const r=h(this,wt).subarray(4,6),i=h(this,wt).subarray(16,18),[s,o,a,l]=h(this,rs),[c,u,d,p]=B(this,yh,K0).call(this);return e.set([NaN,NaN,NaN,NaN,(r[0]-s)/a,(r[1]-o)/l,NaN,NaN,NaN,NaN,c,u,NaN,NaN,NaN,NaN,d,p,NaN,NaN,NaN,NaN,(i[0]-s)/a,(i[1]-o)/l],t),t+=24},_(tl,Ly,8),_(tl,dA,2),_(tl,hA,h(tl,Ly)+h(tl,dA));let Zw=tl;var Vm,bh,Cl,ky,is,Ry,jn,bA,pj;class fj extends Ue{constructor(t,r,i,s,o,a){super();_(this,bA);_(this,Vm,void 0);_(this,bh,new Float32Array(4));_(this,Cl,void 0);_(this,ky,void 0);_(this,is,void 0);_(this,Ry,void 0);_(this,jn,void 0);L(this,jn,t),L(this,is,r),L(this,Vm,i),L(this,Ry,s),L(this,Cl,o),L(this,ky,a),this.lastPoint=[NaN,NaN],B(this,bA,pj).call(this,a);const[l,c,u,d]=h(this,bh);for(let p=0,f=t.length;p<f;p+=2)t[p]=(t[p]-l)/u,t[p+1]=(t[p+1]-c)/d;for(let p=0,f=r.length;p<f;p+=2)r[p]=(r[p]-l)/u,r[p+1]=(r[p+1]-c)/d}toSVGPath(){const t=[`M${h(this,jn)[4]} ${h(this,jn)[5]}`];for(let r=6,i=h(this,jn).length;r<i;r+=6){if(isNaN(h(this,jn)[r])){t.push(`L${h(this,jn)[r+4]} ${h(this,jn)[r+5]}`);continue}t.push(`C${h(this,jn)[r]} ${h(this,jn)[r+1]} ${h(this,jn)[r+2]} ${h(this,jn)[r+3]} ${h(this,jn)[r+4]} ${h(this,jn)[r+5]}`)}return t.push("Z"),t.join(" ")}serialize([t,r,i,s],o){const a=i-t,l=s-r;let c,u;switch(o){case 0:c=Ue._rescale(h(this,jn),t,s,a,-l),u=Ue._rescale(h(this,is),t,s,a,-l);break;case 90:c=Ue._rescaleAndSwap(h(this,jn),t,r,a,l),u=Ue._rescaleAndSwap(h(this,is),t,r,a,l);break;case 180:c=Ue._rescale(h(this,jn),i,r,-a,l),u=Ue._rescale(h(this,is),i,r,-a,l);break;case 270:c=Ue._rescaleAndSwap(h(this,jn),i,s,-a,-l),u=Ue._rescaleAndSwap(h(this,is),i,s,-a,-l);break}return{outline:Array.from(c),points:[Array.from(u)]}}get box(){return h(this,bh)}newOutliner(t,r,i,s,o,a=0){return new Zw(t,r,i,s,o,a)}getNewOutline(t,r){const[i,s,o,a]=h(this,bh),[l,c,u,d]=h(this,Vm),p=o*u,f=a*d,y=i*u+l,g=s*d+c,x=this.newOutliner({x:h(this,is)[0]*p+y,y:h(this,is)[1]*f+g},h(this,Vm),h(this,Ry),t,h(this,ky),r??h(this,Cl));for(let v=2;v<h(this,is).length;v+=2)x.add({x:h(this,is)[v]*p+y,y:h(this,is)[v+1]*f+g});return x.getOutlines()}}Vm=new WeakMap,bh=new WeakMap,Cl=new WeakMap,ky=new WeakMap,is=new WeakMap,Ry=new WeakMap,jn=new WeakMap,bA=new WeakSet,pj=function(t){const r=h(this,jn);let i=r[4],s=r[5];const o=[i,s,i,s];let a=i,l=s;const c=t?Math.max:Math.min;for(let d=6,p=r.length;d<p;d+=6){const f=r[d+4],y=r[d+5];if(isNaN(r[d]))Ke.pointBoundingBox(f,y,o),l<y?(a=f,l=y):l===y&&(a=c(a,f));else{const g=[1/0,1/0,-1/0,-1/0];Ke.bezierBoundingBox(i,s,...r.slice(d,d+6),g),Ke.rectBoundingBox(...g,o),l<g[3]?(a=g[2],l=g[3]):l===g[3]&&(a=c(a,g[2]))}i=f,s=y}const u=h(this,bh);u[0]=o[0]-h(this,Cl),u[1]=o[1]-h(this,Cl),u[2]=o[2]-o[0]+2*h(this,Cl),u[3]=o[3]-o[1]+2*h(this,Cl),this.lastPoint=[a,l]};var Iy,My,Jc,Ao,wA,mj,Um,Xb,xA,gj,AA,vj,Fy,y4;class v4{constructor(e,t=0,r=0,i=!0){_(this,wA);_(this,Um);_(this,xA);_(this,AA);_(this,Fy);_(this,Iy,void 0);_(this,My,void 0);_(this,Jc,[]);_(this,Ao,[]);const s=[1/0,1/0,-1/0,-1/0],a=10**-4;for(const{x:y,y:g,width:x,height:v}of e){const w=Math.floor((y-t)/a)*a,S=Math.ceil((y+x+t)/a)*a,C=Math.floor((g-t)/a)*a,N=Math.ceil((g+v+t)/a)*a,$=[w,C,N,!0],R=[S,C,N,!1];h(this,Jc).push($,R),Ke.rectBoundingBox(w,C,S,N,s)}const l=s[2]-s[0]+2*r,c=s[3]-s[1]+2*r,u=s[0]-r,d=s[1]-r,p=h(this,Jc).at(i?-1:-2),f=[p[0],p[2]];for(const y of h(this,Jc)){const[g,x,v]=y;y[0]=(g-u)/l,y[1]=(x-d)/c,y[2]=(v-d)/c}L(this,Iy,new Float32Array([u,d,l,c])),L(this,My,f)}getOutlines(){h(this,Jc).sort((t,r)=>t[0]-r[0]||t[1]-r[1]||t[2]-r[2]);const e=[];for(const t of h(this,Jc))t[3]?(e.push(...B(this,Fy,y4).call(this,t)),B(this,xA,gj).call(this,t)):(B(this,AA,vj).call(this,t),e.push(...B(this,Fy,y4).call(this,t)));return B(this,wA,mj).call(this,e)}}Iy=new WeakMap,My=new WeakMap,Jc=new WeakMap,Ao=new WeakMap,wA=new WeakSet,mj=function(e){const t=[],r=new Set;for(const o of e){const[a,l,c]=o;t.push([a,l,o],[a,c,o])}t.sort((o,a)=>o[1]-a[1]||o[0]-a[0]);for(let o=0,a=t.length;o<a;o+=2){const l=t[o][2],c=t[o+1][2];l.push(c),c.push(l),r.add(l),r.add(c)}const i=[];let s;for(;r.size>0;){const o=r.values().next().value;let[a,l,c,u,d]=o;r.delete(o);let p=a,f=l;for(s=[a,c],i.push(s);;){let y;if(r.has(u))y=u;else if(r.has(d))y=d;else break;r.delete(y),[a,l,c,u,d]=y,p!==a&&(s.push(p,f,a,f===l?l:c),p=a),f=f===l?c:l}s.push(p,f)}return new Dee(i,h(this,Iy),h(this,My))},Um=new WeakSet,Xb=function(e){const t=h(this,Ao);let r=0,i=t.length-1;for(;r<=i;){const s=r+i>>1,o=t[s][0];if(o===e)return s;o<e?r=s+1:i=s-1}return i+1},xA=new WeakSet,gj=function([,e,t]){const r=B(this,Um,Xb).call(this,e);h(this,Ao).splice(r,0,[e,t])},AA=new WeakSet,vj=function([,e,t]){const r=B(this,Um,Xb).call(this,e);for(let i=r;i<h(this,Ao).length;i++){const[s,o]=h(this,Ao)[i];if(s!==e)break;if(s===e&&o===t){h(this,Ao).splice(i,1);return}}for(let i=r-1;i>=0;i--){const[s,o]=h(this,Ao)[i];if(s!==e)break;if(s===e&&o===t){h(this,Ao).splice(i,1);return}}},Fy=new WeakSet,y4=function(e){const[t,r,i]=e,s=[[t,r,i]],o=B(this,Um,Xb).call(this,i);for(let a=0;a<o;a++){const[l,c]=h(this,Ao)[a];for(let u=0,d=s.length;u<d;u++){const[,p,f]=s[u];if(!(c<=p||f<=l)){if(p>=l){if(f>c)s[u][1]=c;else{if(d===1)return[];s.splice(u,1),u--,d--}continue}s[u][2]=l,f>c&&s.push([t,c,f])}}}return s};var Dy,Hm;class Dee extends Ue{constructor(t,r,i){super();_(this,Dy,void 0);_(this,Hm,void 0);L(this,Hm,t),L(this,Dy,r),this.lastPoint=i}toSVGPath(){const t=[];for(const r of h(this,Hm)){let[i,s]=r;t.push(`M${i} ${s}`);for(let o=2;o<r.length;o+=2){const a=r[o],l=r[o+1];a===i?(t.push(`V${l}`),s=l):l===s&&(t.push(`H${a}`),i=a)}t.push("Z")}return t.join(" ")}serialize([t,r,i,s],o){const a=[],l=i-t,c=s-r;for(const u of h(this,Hm)){const d=new Array(u.length);for(let p=0;p<u.length;p+=2)d[p]=t+u[p]*l,d[p+1]=s-u[p+1]*c;a.push(d)}return a}get box(){return h(this,Dy)}get classNamesForOutlining(){return["highlightOutline"]}}Dy=new WeakMap,Hm=new WeakMap;class b4 extends Zw{newFreeDrawOutline(e,t,r,i,s,o){return new Oee(e,t,r,i,s,o)}}class Oee extends fj{newOutliner(e,t,r,i,s,o=0){return new b4(e,t,r,i,s,o)}}var ss,wh,qm,sr,Oy,Wm,_l,jy,Qc,So,Gm,By,$y,w4,zy,x4,Vy,A4,Pl,ud,SA,yj,ma,vc;const ki=class ki{constructor({editor:e=null,uiManager:t=null}){_(this,$y);_(this,zy);_(this,Vy);_(this,Pl);_(this,SA);_(this,ma);_(this,ss,null);_(this,wh,null);_(this,qm,void 0);_(this,sr,null);_(this,Oy,!1);_(this,Wm,!1);_(this,_l,null);_(this,jy,void 0);_(this,Qc,null);_(this,So,null);_(this,Gm,void 0);var r,i;e?(L(this,Wm,!1),L(this,Gm,_t.HIGHLIGHT_COLOR),L(this,_l,e)):(L(this,Wm,!0),L(this,Gm,_t.HIGHLIGHT_DEFAULT_COLOR)),L(this,So,(e==null?void 0:e._uiManager)||t),L(this,jy,h(this,So)._eventBus),L(this,qm,((r=e==null?void 0:e.color)==null?void 0:r.toUpperCase())||((i=h(this,So))==null?void 0:i.highlightColors.values().next().value)||"#FFFF98"),h(ki,By)||L(ki,By,Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}static get _keyboardManager(){return Ct(this,"_keyboardManager",new _2([[["Escape","mac+Escape"],ki.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],ki.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],ki.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],ki.prototype._moveToPrevious],[["Home","mac+Home"],ki.prototype._moveToBeginning],[["End","mac+End"],ki.prototype._moveToEnd]]))}renderButton(){const e=L(this,ss,document.createElement("button"));e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.ariaHasPopup="true",h(this,_l)&&(e.ariaControls=`${h(this,_l).id}_colorpicker_dropdown`);const t=h(this,So)._signal;e.addEventListener("click",B(this,Pl,ud).bind(this),{signal:t}),e.addEventListener("keydown",B(this,Vy,A4).bind(this),{signal:t});const r=L(this,wh,document.createElement("span"));return r.className="swatch",r.ariaHidden="true",r.style.backgroundColor=h(this,qm),e.append(r),e}renderMainDropdown(){const e=L(this,sr,B(this,$y,w4).call(this));return e.ariaOrientation="horizontal",e.ariaLabelledBy="highlightColorPickerLabel",e}_colorSelectFromKeyboard(e){if(e.target===h(this,ss)){B(this,Pl,ud).call(this,e);return}const t=e.target.getAttribute("data-color");t&&B(this,zy,x4).call(this,t,e)}_moveToNext(e){var t,r;if(!h(this,ma,vc)){B(this,Pl,ud).call(this,e);return}if(e.target===h(this,ss)){(t=h(this,sr).firstChild)==null||t.focus();return}(r=e.target.nextSibling)==null||r.focus()}_moveToPrevious(e){var t,r;if(e.target===((t=h(this,sr))==null?void 0:t.firstChild)||e.target===h(this,ss)){h(this,ma,vc)&&this._hideDropdownFromKeyboard();return}h(this,ma,vc)||B(this,Pl,ud).call(this,e),(r=e.target.previousSibling)==null||r.focus()}_moveToBeginning(e){var t;if(!h(this,ma,vc)){B(this,Pl,ud).call(this,e);return}(t=h(this,sr).firstChild)==null||t.focus()}_moveToEnd(e){var t;if(!h(this,ma,vc)){B(this,Pl,ud).call(this,e);return}(t=h(this,sr).lastChild)==null||t.focus()}hideDropdown(){var e,t;(e=h(this,sr))==null||e.classList.add("hidden"),h(this,ss).ariaExpanded="false",(t=h(this,Qc))==null||t.abort(),L(this,Qc,null)}_hideDropdownFromKeyboard(){var e;if(!h(this,Wm)){if(!h(this,ma,vc)){(e=h(this,_l))==null||e.unselect();return}this.hideDropdown(),h(this,ss).focus({preventScroll:!0,focusVisible:h(this,Oy)})}}updateColor(e){if(h(this,wh)&&(h(this,wh).style.backgroundColor=e),!h(this,sr))return;const t=h(this,So).highlightColors.values();for(const r of h(this,sr).children)r.ariaSelected=t.next().value===e.toUpperCase()}destroy(){var e,t;(e=h(this,ss))==null||e.remove(),L(this,ss,null),L(this,wh,null),(t=h(this,sr))==null||t.remove(),L(this,sr,null)}};ss=new WeakMap,wh=new WeakMap,qm=new WeakMap,sr=new WeakMap,Oy=new WeakMap,Wm=new WeakMap,_l=new WeakMap,jy=new WeakMap,Qc=new WeakMap,So=new WeakMap,Gm=new WeakMap,By=new WeakMap,$y=new WeakSet,w4=function(){const e=document.createElement("div"),t=h(this,So)._signal;e.addEventListener("contextmenu",jo,{signal:t}),e.className="dropdown",e.role="listbox",e.ariaMultiSelectable="false",e.ariaOrientation="vertical",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown"),h(this,_l)&&(e.id=`${h(this,_l).id}_colorpicker_dropdown`);for(const[r,i]of h(this,So).highlightColors){const s=document.createElement("button");s.tabIndex="0",s.role="option",s.setAttribute("data-color",i),s.title=r,s.setAttribute("data-l10n-id",h(ki,By)[r]);const o=document.createElement("span");s.append(o),o.className="swatch",o.style.backgroundColor=i,s.ariaSelected=i===h(this,qm),s.addEventListener("click",B(this,zy,x4).bind(this,i),{signal:t}),e.append(s)}return e.addEventListener("keydown",B(this,Vy,A4).bind(this),{signal:t}),e},zy=new WeakSet,x4=function(e,t){t.stopPropagation(),h(this,jy).dispatch("switchannotationeditorparams",{source:this,type:h(this,Gm),value:e})},Vy=new WeakSet,A4=function(e){ki._keyboardManager.exec(this,e)},Pl=new WeakSet,ud=function(e){if(h(this,ma,vc)){this.hideDropdown();return}if(L(this,Oy,e.detail===0),h(this,Qc)||(L(this,Qc,new AbortController),window.addEventListener("pointerdown",B(this,SA,yj).bind(this),{signal:h(this,So).combinedSignal(h(this,Qc))})),h(this,ss).ariaExpanded="true",h(this,sr)){h(this,sr).classList.remove("hidden");return}const t=L(this,sr,B(this,$y,w4).call(this));h(this,ss).append(t)},SA=new WeakSet,yj=function(e){var t;(t=h(this,sr))!=null&&t.contains(e.target)||this.hideDropdown()},ma=new WeakSet,vc=function(){return h(this,sr)&&!h(this,sr).classList.contains("hidden")},_(ki,By,null);let ex=ki;var Xm,Uy,Nl,xh,Hy,Mi,qy,Wy,Ah,js,os,kr,Ym,Tl,ei,Km,Bs,Gy,Xy,S4,Jm,Yb,EA,bj,CA,wj,_A,xj,Yy,E4,Ll,dd,Zc,np,PA,Aj,Qm,Kb,Sh,J0,NA,Sj,TA,Ej,LA,Cj,kA,_j,RA,Pj;const Lt=class Lt extends tn{constructor(t){super({...t,name:"highlightEditor"});_(this,Xy);_(this,Jm);_(this,EA);_(this,CA);_(this,_A);_(this,Yy);_(this,Ll);_(this,PA);_(this,Qm);_(this,Sh);_(this,NA);_(this,TA);_(this,RA);_(this,Xm,null);_(this,Uy,0);_(this,Nl,void 0);_(this,xh,null);_(this,Hy,null);_(this,Mi,null);_(this,qy,null);_(this,Wy,0);_(this,Ah,null);_(this,js,null);_(this,os,null);_(this,kr,!1);_(this,Ym,null);_(this,Tl,void 0);_(this,ei,null);_(this,Km,"");_(this,Bs,void 0);_(this,Gy,"");this.color=t.color||Lt._defaultColor,L(this,Bs,t.thickness||Lt._defaultThickness),L(this,Tl,t.opacity||Lt._defaultOpacity),L(this,Nl,t.boxes||null),L(this,Gy,t.methodOfCreation||""),L(this,Km,t.text||""),this._isDraggable=!1,this.defaultL10nId="pdfjs-editor-highlight-editor",t.highlightId>-1?(L(this,kr,!0),B(this,Jm,Yb).call(this,t),B(this,Ll,dd).call(this)):h(this,Nl)&&(L(this,Xm,t.anchorNode),L(this,Uy,t.anchorOffset),L(this,qy,t.focusNode),L(this,Wy,t.focusOffset),B(this,Xy,S4).call(this),B(this,Ll,dd).call(this),this.rotate(this.rotation)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-highlight-added-alert")}static get _keyboardManager(){const t=Lt.prototype;return Ct(this,"_keyboardManager",new _2([[["ArrowLeft","mac+ArrowLeft"],t._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],t._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],t._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],t._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:h(this,kr)?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:h(this,Bs),methodOfCreation:h(this,Gy)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(t){return{numberOfColors:t.get("color").size}}static initialize(t,r){var i;tn.initialize(t,r),Lt._defaultColor||(Lt._defaultColor=((i=r.highlightColors)==null?void 0:i.values().next().value)||"#fff066")}static updateDefaultParams(t,r){switch(t){case _t.HIGHLIGHT_DEFAULT_COLOR:Lt._defaultColor=r;break;case _t.HIGHLIGHT_THICKNESS:Lt._defaultThickness=r;break}}translateInPage(t,r){}get toolbarPosition(){return h(this,Ym)}updateParams(t,r){switch(t){case _t.HIGHLIGHT_COLOR:B(this,EA,bj).call(this,r);break;case _t.HIGHLIGHT_THICKNESS:B(this,CA,wj).call(this,r);break}}static get defaultPropertiesToUpdate(){return[[_t.HIGHLIGHT_DEFAULT_COLOR,Lt._defaultColor],[_t.HIGHLIGHT_THICKNESS,Lt._defaultThickness]]}get propertiesToUpdate(){return[[_t.HIGHLIGHT_COLOR,this.color||Lt._defaultColor],[_t.HIGHLIGHT_THICKNESS,h(this,Bs)||Lt._defaultThickness],[_t.HIGHLIGHT_FREE,h(this,kr)]]}get toolbarButtons(){return this._uiManager.highlightColors?[["colorPicker",L(this,Hy,new ex({editor:this}))]]:super.toolbarButtons}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(B(this,Sh,J0).call(this))}getBaseTranslation(){return[0,0]}getRect(t,r){return super.getRect(t,r,B(this,Sh,J0).call(this))}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),t&&this.div.focus()}remove(){B(this,Yy,E4).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(B(this,Ll,dd).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){var i;let r=!1;this.parent&&!t?B(this,Yy,E4).call(this):t&&(B(this,Ll,dd).call(this,t),r=!this.parent&&((i=this.div)==null?void 0:i.classList.contains("selectedEditor"))),super.setParent(t),this.show(this._isVisible),r&&this.select()}rotate(t){var s,o,a;const{drawLayer:r}=this.parent;let i;h(this,kr)?(t=(t-this.rotation+360)%360,i=B(s=Lt,Zc,np).call(s,h(this,js).box,t)):i=B(o=Lt,Zc,np).call(o,[this.x,this.y,this.width,this.height],t),r.updateProperties(h(this,os),{bbox:i,root:{"data-main-rotation":t}}),r.updateProperties(h(this,ei),{bbox:B(a=Lt,Zc,np).call(a,h(this,Mi).box,t),root:{"data-main-rotation":t}})}render(){if(this.div)return this.div;const t=super.render();h(this,Km)&&(t.setAttribute("aria-label",h(this,Km)),t.setAttribute("role","mark")),h(this,kr)?t.classList.add("free"):this.div.addEventListener("keydown",B(this,PA,Aj).bind(this),{signal:this._uiManager._signal});const r=L(this,Ah,document.createElement("div"));t.append(r),r.setAttribute("aria-hidden","true"),r.className="internal",r.style.clipPath=h(this,xh);const[i,s]=this.parentDimensions;return this.setDims(this.width*i,this.height*s),q7(this,h(this,Ah),["pointerover","pointerleave"]),this.enableEditing(),t}pointerover(){var t;this.isSelected||(t=this.parent)==null||t.drawLayer.updateProperties(h(this,ei),{rootClass:{hovered:!0}})}pointerleave(){var t;this.isSelected||(t=this.parent)==null||t.drawLayer.updateProperties(h(this,ei),{rootClass:{hovered:!1}})}_moveCaret(t){switch(this.parent.unselect(this),t){case 0:case 2:B(this,Qm,Kb).call(this,!0);break;case 1:case 3:B(this,Qm,Kb).call(this,!1);break}}select(){var t;super.select(),h(this,ei)&&((t=this.parent)==null||t.drawLayer.updateProperties(h(this,ei),{rootClass:{hovered:!1,selected:!0}}))}unselect(){var t;super.unselect(),h(this,ei)&&((t=this.parent)==null||t.drawLayer.updateProperties(h(this,ei),{rootClass:{selected:!1}}),h(this,kr)||B(this,Qm,Kb).call(this,!1))}get _mustFixPosition(){return!h(this,kr)}show(t=this._isVisible){super.show(t),this.parent&&(this.parent.drawLayer.updateProperties(h(this,os),{rootClass:{hidden:!t}}),this.parent.drawLayer.updateProperties(h(this,ei),{rootClass:{hidden:!t}}))}static startHighlighting(t,r,{target:i,x:s,y:o}){const{x:a,y:l,width:c,height:u}=i.getBoundingClientRect(),d=new AbortController,p=t.combinedSignal(d),f=y=>{d.abort(),B(this,kA,_j).call(this,t,y)};window.addEventListener("blur",f,{signal:p}),window.addEventListener("pointerup",f,{signal:p}),window.addEventListener("pointerdown",Qn,{capture:!0,passive:!1,signal:p}),window.addEventListener("contextmenu",jo,{signal:p}),i.addEventListener("pointermove",B(this,LA,Cj).bind(this,t),{signal:p}),this._freeHighlight=new b4({x:s,y:o},[a,l,c,u],t.scale,this._defaultThickness/2,r,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=t.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0)}static async deserialize(t,r,i){var g,x,v,w;let s=null;if(t instanceof ej){const{data:{quadPoints:S,rect:C,rotation:N,id:$,color:R,opacity:k,popupRef:W},parent:{page:{pageNumber:X}}}=t;s=t={annotationType:ht.HIGHLIGHT,color:Array.from(R),opacity:k,quadPoints:S,boxes:null,pageIndex:X-1,rect:C.slice(0),rotation:N,annotationElementId:$,id:$,deleted:!1,popupRef:W}}else if(t instanceof ON){const{data:{inkLists:S,rect:C,rotation:N,id:$,color:R,borderStyle:{rawWidth:k},popupRef:W},parent:{page:{pageNumber:X}}}=t;s=t={annotationType:ht.HIGHLIGHT,color:Array.from(R),thickness:k,inkLists:S,boxes:null,pageIndex:X-1,rect:C.slice(0),rotation:N,annotationElementId:$,id:$,deleted:!1,popupRef:W}}const{color:o,quadPoints:a,inkLists:l,opacity:c}=t,u=await super.deserialize(t,r,i);u.color=Ke.makeHexColor(...o),L(u,Tl,c||1),l&&L(u,Bs,t.thickness),u._initialData=s;const[d,p]=u.pageDimensions,[f,y]=u.pageTranslation;if(a){const S=L(u,Nl,[]);for(let C=0;C<a.length;C+=8)S.push({x:(a[C]-f)/d,y:1-(a[C+1]-y)/p,width:(a[C+2]-a[C])/d,height:(a[C+1]-a[C+5])/p});B(g=u,Xy,S4).call(g),B(x=u,Ll,dd).call(x),u.rotate(u.rotation)}else if(l){L(u,kr,!0);const S=l[0],C={x:S[0]-f,y:p-(S[1]-y)},N=new b4(C,[0,0,d,p],1,h(u,Bs)/2,!0,.001);for(let k=0,W=S.length;k<W;k+=2)C.x=S[k]-f,C.y=p-(S[k+1]-y),N.add(C);const{id:$,clipPathId:R}=r.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:u.color,"fill-opacity":u._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:N.toSVGPath()}},!0,!0);B(v=u,Jm,Yb).call(v,{highlightOutlines:N.getOutlines(),highlightId:$,clipPathId:R}),B(w=u,Ll,dd).call(w),u.rotate(u.parentRotation)}return u}serialize(t=!1){if(this.isEmpty()||t)return null;if(this.deleted)return this.serializeDeleted();const r=this.getRect(0,0),i=tn._colorManager.convert(this.color),s={annotationType:ht.HIGHLIGHT,color:i,opacity:h(this,Tl),thickness:h(this,Bs),quadPoints:B(this,NA,Sj).call(this),outlines:B(this,TA,Ej).call(this,r),pageIndex:this.pageIndex,rect:r,rotation:B(this,Sh,J0).call(this),structTreeParentId:this._structTreeParentId};return this.annotationElementId&&!B(this,RA,Pj).call(this,s)?null:(s.id=this.annotationElementId,s)}renderAnnotationElement(t){return t.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}};Xm=new WeakMap,Uy=new WeakMap,Nl=new WeakMap,xh=new WeakMap,Hy=new WeakMap,Mi=new WeakMap,qy=new WeakMap,Wy=new WeakMap,Ah=new WeakMap,js=new WeakMap,os=new WeakMap,kr=new WeakMap,Ym=new WeakMap,Tl=new WeakMap,ei=new WeakMap,Km=new WeakMap,Bs=new WeakMap,Gy=new WeakMap,Xy=new WeakSet,S4=function(){const t=new v4(h(this,Nl),.001);L(this,js,t.getOutlines()),[this.x,this.y,this.width,this.height]=h(this,js).box;const r=new v4(h(this,Nl),.0025,.001,this._uiManager.direction==="ltr");L(this,Mi,r.getOutlines());const{lastPoint:i}=h(this,Mi);L(this,Ym,[(i[0]-this.x)/this.width,(i[1]-this.y)/this.height])},Jm=new WeakSet,Yb=function({highlightOutlines:t,highlightId:r,clipPathId:i}){var d,p;L(this,js,t);const s=1.5;if(L(this,Mi,t.getNewOutline(h(this,Bs)/2+s,.0025)),r>=0)L(this,os,r),L(this,xh,i),this.parent.drawLayer.finalizeDraw(r,{bbox:t.box,path:{d:t.toSVGPath()}}),L(this,ei,this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:h(this,Mi).box,path:{d:h(this,Mi).toSVGPath()}},!0));else if(this.parent){const f=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(h(this,os),{bbox:B(d=Lt,Zc,np).call(d,h(this,js).box,(f-this.rotation+360)%360),path:{d:t.toSVGPath()}}),this.parent.drawLayer.updateProperties(h(this,ei),{bbox:B(p=Lt,Zc,np).call(p,h(this,Mi).box,f),path:{d:h(this,Mi).toSVGPath()}})}const[o,a,l,c]=t.box;switch(this.rotation){case 0:this.x=o,this.y=a,this.width=l,this.height=c;break;case 90:{const[f,y]=this.parentDimensions;this.x=a,this.y=1-o,this.width=l*y/f,this.height=c*f/y;break}case 180:this.x=1-o,this.y=1-a,this.width=l,this.height=c;break;case 270:{const[f,y]=this.parentDimensions;this.x=1-a,this.y=o,this.width=l*y/f,this.height=c*f/y;break}}const{lastPoint:u}=h(this,Mi);L(this,Ym,[(u[0]-o)/l,(u[1]-a)/c])},EA=new WeakSet,bj=function(t){const r=(o,a)=>{var l,c;this.color=o,L(this,Tl,a),(l=this.parent)==null||l.drawLayer.updateProperties(h(this,os),{root:{fill:o,"fill-opacity":a}}),(c=h(this,Hy))==null||c.updateColor(o)},i=this.color,s=h(this,Tl);this.addCommands({cmd:r.bind(this,t,Lt._defaultOpacity),undo:r.bind(this,i,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:_t.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(t)},!0)},CA=new WeakSet,wj=function(t){const r=h(this,Bs),i=s=>{L(this,Bs,s),B(this,_A,xj).call(this,s)};this.addCommands({cmd:i.bind(this,t),undo:i.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:_t.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:t},!0)},_A=new WeakSet,xj=function(t){if(!h(this,kr))return;B(this,Jm,Yb).call(this,{highlightOutlines:h(this,js).getNewOutline(t/2)}),this.fixAndSetPosition();const[r,i]=this.parentDimensions;this.setDims(this.width*r,this.height*i)},Yy=new WeakSet,E4=function(){h(this,os)===null||!this.parent||(this.parent.drawLayer.remove(h(this,os)),L(this,os,null),this.parent.drawLayer.remove(h(this,ei)),L(this,ei,null))},Ll=new WeakSet,dd=function(t=this.parent){h(this,os)===null&&({id:ci(this,os)._,clipPathId:ci(this,xh)._}=t.drawLayer.draw({bbox:h(this,js).box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":h(this,Tl)},rootClass:{highlight:!0,free:h(this,kr)},path:{d:h(this,js).toSVGPath()}},!1,!0),L(this,ei,t.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:h(this,kr)},bbox:h(this,Mi).box,path:{d:h(this,Mi).toSVGPath()}},h(this,kr))),h(this,Ah)&&(h(this,Ah).style.clipPath=h(this,xh)))},Zc=new WeakSet,np=function([t,r,i,s],o){switch(o){case 90:return[1-r-s,t,s,i];case 180:return[1-t-i,1-r-s,i,s];case 270:return[r,1-t-i,s,i]}return[t,r,i,s]},PA=new WeakSet,Aj=function(t){Lt._keyboardManager.exec(this,t)},Qm=new WeakSet,Kb=function(t){if(!h(this,Xm))return;const r=window.getSelection();t?r.setPosition(h(this,Xm),h(this,Uy)):r.setPosition(h(this,qy),h(this,Wy))},Sh=new WeakSet,J0=function(){return h(this,kr)?this.rotation:0},NA=new WeakSet,Sj=function(){if(h(this,kr))return null;const[t,r]=this.pageDimensions,[i,s]=this.pageTranslation,o=h(this,Nl),a=new Float32Array(o.length*8);let l=0;for(const{x:c,y:u,width:d,height:p}of o){const f=c*t+i,y=(1-u)*r+s;a[l]=a[l+4]=f,a[l+1]=a[l+3]=y,a[l+2]=a[l+6]=f+d*t,a[l+5]=a[l+7]=y-p*r,l+=8}return a},TA=new WeakSet,Ej=function(t){return h(this,js).serialize(t,B(this,Sh,J0).call(this))},LA=new WeakSet,Cj=function(t,r){this._freeHighlight.add(r)&&t.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})},kA=new WeakSet,_j=function(t,r){this._freeHighlight.isEmpty()?t.drawLayer.remove(this._freeHighlightId):t.createAndAddNewEditor(r,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},RA=new WeakSet,Pj=function(t){const{color:r}=this._initialData;return t.color.some((i,s)=>i!==r[s])},_(Lt,Zc),_(Lt,LA),_(Lt,kA),Me(Lt,"_defaultColor",null),Me(Lt,"_defaultOpacity",1),Me(Lt,"_defaultThickness",12),Me(Lt,"_type","highlight"),Me(Lt,"_editorType",ht.HIGHLIGHT),Me(Lt,"_freeHighlightId",-1),Me(Lt,"_freeHighlight",null),Me(Lt,"_freeHighlightClipId","");let tx=Lt;var Eh;class Nj{constructor(){_(this,Eh,Object.create(null))}updateProperty(e,t){this[e]=t,this.updateSVGProperty(e,t)}updateProperties(e){if(e)for(const[t,r]of Object.entries(e))t.startsWith("_")||this.updateProperty(t,r)}updateSVGProperty(e,t){h(this,Eh)[e]=t}toSVGProperties(){const e=h(this,Eh);return L(this,Eh,Object.create(null)),{root:e}}reset(){L(this,Eh,Object.create(null))}updateAll(e=this){this.updateProperties(e)}clone(){qt("Not implemented")}}Eh=new WeakMap;var as,Zm,mr,Ch,_h,eu,tu,nu,Ph,Ky,C4,Jy,_4,Qy,P4,Nh,Q0,IA,Tj,eg,Jb,Th,Z0,ru,rp;const We=class We extends tn{constructor(t){super(t);_(this,Ky);_(this,Jy);_(this,Qy);_(this,Nh);_(this,IA);_(this,eg);_(this,Th);_(this,ru);_(this,as,null);_(this,Zm,void 0);Me(this,"_drawId",null);L(this,Zm,t.mustBeCommitted||!1),this._addOutlines(t)}_addOutlines(t){t.drawOutlines&&(B(this,Ky,C4).call(this,t),B(this,Nh,Q0).call(this))}static _mergeSVGProperties(t,r){const i=new Set(Object.keys(t));for(const[s,o]of Object.entries(r))i.has(s)?Object.assign(t[s],o):t[s]=o;return t}static getDefaultDrawingOptions(t){qt("Not implemented")}static get typesMap(){qt("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(t,r){const i=this.typesMap.get(t);i&&this._defaultDrawingOptions.updateProperty(i,r),this._currentParent&&(h(We,mr).updateProperty(i,r),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(t,r){const i=this.constructor.typesMap.get(t);i&&this._updateProperty(t,i,r)}static get defaultPropertiesToUpdate(){const t=[],r=this._defaultDrawingOptions;for(const[i,s]of this.typesMap)t.push([i,r[s]]);return t}get propertiesToUpdate(){const t=[],{_drawingOptions:r}=this;for(const[i,s]of this.constructor.typesMap)t.push([i,r[s]]);return t}_updateProperty(t,r,i){const s=this._drawingOptions,o=s[r],a=l=>{var u;s.updateProperty(r,l);const c=h(this,as).updateProperty(r,l);c&&B(this,Th,Z0).call(this,c),(u=this.parent)==null||u.drawLayer.updateProperties(this._drawId,s.toSVGProperties())};this.addCommands({cmd:a.bind(this,i),undo:a.bind(this,o),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:t,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,We._mergeSVGProperties(h(this,as).getPathResizingSVGProperties(B(this,eg,Jb).call(this)),{bbox:B(this,ru,rp).call(this)}))}_onResized(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,We._mergeSVGProperties(h(this,as).getPathResizedSVGProperties(B(this,eg,Jb).call(this)),{bbox:B(this,ru,rp).call(this)}))}_onTranslating(t,r){var i;(i=this.parent)==null||i.drawLayer.updateProperties(this._drawId,{bbox:B(this,ru,rp).call(this)})}_onTranslated(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,We._mergeSVGProperties(h(this,as).getPathTranslatedSVGProperties(B(this,eg,Jb).call(this),this.parentDimensions),{bbox:B(this,ru,rp).call(this)}))}_onStartDragging(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,h(this,Zm)&&(L(this,Zm,!1),this.commit(),this.parent.setSelected(this),t&&this.isOnScreen&&this.div.focus())}remove(){B(this,Qy,P4).call(this),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(B(this,Nh,Q0).call(this),B(this,Th,Z0).call(this,h(this,as).box),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){var i;let r=!1;this.parent&&!t?(this._uiManager.removeShouldRescale(this),B(this,Qy,P4).call(this)):t&&(this._uiManager.addShouldRescale(this),B(this,Nh,Q0).call(this,t),r=!this.parent&&((i=this.div)==null?void 0:i.classList.contains("selectedEditor"))),super.setParent(t),r&&this.select()}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,We._mergeSVGProperties({bbox:B(this,ru,rp).call(this)},h(this,as).updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&B(this,Th,Z0).call(this,h(this,as).updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;let t,r;this._isCopy&&(t=this.x,r=this.y);const i=super.render();i.classList.add("draw");const s=document.createElement("div");i.append(s),s.setAttribute("aria-hidden","true"),s.className="internal";const[o,a]=this.parentDimensions;return this.setDims(this.width*o,this.height*a),this._uiManager.addShouldRescale(this),this.disableEditing(),this._isCopy&&this._moveAfterPaste(t,r),i}static createDrawerInstance(t,r,i,s,o){qt("Not implemented")}static startDrawing(t,r,i,s){var x;const{target:o,offsetX:a,offsetY:l,pointerId:c,pointerType:u}=s;if(h(We,tu)&&h(We,tu)!==u)return;const{viewport:{rotation:d}}=t,{width:p,height:f}=o.getBoundingClientRect(),y=L(We,Ch,new AbortController),g=t.combinedSignal(y);if(h(We,eu)||L(We,eu,c),h(We,tu)??L(We,tu,u),window.addEventListener("pointerup",v=>{var w;h(We,eu)===v.pointerId?this._endDraw(v):(w=h(We,nu))==null||w.delete(v.pointerId)},{signal:g}),window.addEventListener("pointercancel",v=>{var w;h(We,eu)===v.pointerId?this._currentParent.endDrawingSession():(w=h(We,nu))==null||w.delete(v.pointerId)},{signal:g}),window.addEventListener("pointerdown",v=>{h(We,tu)===v.pointerType&&((h(We,nu)||L(We,nu,new Set)).add(v.pointerId),h(We,mr).isCancellable()&&(h(We,mr).removeLastElement(),h(We,mr).isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:g}),window.addEventListener("contextmenu",jo,{signal:g}),o.addEventListener("pointermove",this._drawMove.bind(this),{signal:g}),o.addEventListener("touchmove",v=>{v.timeStamp===h(We,Ph)&&Qn(v)},{signal:g}),t.toggleDrawing(),(x=r._editorUndoBar)==null||x.hide(),h(We,mr)){t.drawLayer.updateProperties(this._currentDrawId,h(We,mr).startNew(a,l,p,f,d));return}r.updateUIForDefaultProperties(this),L(We,mr,this.createDrawerInstance(a,l,p,f,d)),L(We,_h,this.getDefaultDrawingOptions()),this._currentParent=t,{id:this._currentDrawId}=t.drawLayer.draw(this._mergeSVGProperties(h(We,_h).toSVGProperties(),h(We,mr).defaultSVGProperties),!0,!1)}static _drawMove(t){var o;if(L(We,Ph,-1),!h(We,mr))return;const{offsetX:r,offsetY:i,pointerId:s}=t;if(h(We,eu)===s){if(((o=h(We,nu))==null?void 0:o.size)>=1){this._endDraw(t);return}this._currentParent.drawLayer.updateProperties(this._currentDrawId,h(We,mr).add(r,i)),L(We,Ph,t.timeStamp),Qn(t)}}static _cleanup(t){t&&(this._currentDrawId=-1,this._currentParent=null,L(We,mr,null),L(We,_h,null),L(We,tu,null),L(We,Ph,NaN)),h(We,Ch)&&(h(We,Ch).abort(),L(We,Ch,null),L(We,eu,NaN),L(We,nu,null))}static _endDraw(t){const r=this._currentParent;if(r){if(r.toggleDrawing(!0),this._cleanup(!1),(t==null?void 0:t.target)===r.div&&r.drawLayer.updateProperties(this._currentDrawId,h(We,mr).end(t.offsetX,t.offsetY)),this.supportMultipleDrawings){const i=h(We,mr),s=this._currentDrawId,o=i.getLastElement();r.addCommands({cmd:()=>{r.drawLayer.updateProperties(s,i.setLastElement(o))},undo:()=>{r.drawLayer.updateProperties(s,i.removeLastElement())},mustExec:!1,type:_t.DRAW_STEP});return}this.endDrawing(!1)}}static endDrawing(t){const r=this._currentParent;if(!r)return null;if(r.toggleDrawing(!0),r.cleanUndoStack(_t.DRAW_STEP),!h(We,mr).isEmpty()){const{pageDimensions:[i,s],scale:o}=r,a=r.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:h(We,mr).getOutlines(i*o,s*o,o,this._INNER_MARGIN),drawingOptions:h(We,_h),mustBeCommitted:!t});return this._cleanup(!0),a}return r.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(t){}static deserializeDraw(t,r,i,s,o,a){qt("Not implemented")}static async deserialize(t,r,i){var d,p;const{rawDims:{pageWidth:s,pageHeight:o,pageX:a,pageY:l}}=r.viewport,c=this.deserializeDraw(a,l,s,o,this._INNER_MARGIN,t),u=await super.deserialize(t,r,i);return u.createDrawingOptions(t),B(d=u,Ky,C4).call(d,{drawOutlines:c}),B(p=u,Nh,Q0).call(p),u.onScaleChanging(),u.rotate(),u}serializeDraw(t){const[r,i]=this.pageTranslation,[s,o]=this.pageDimensions;return h(this,as).serialize([r,i,s,o],t)}renderAnnotationElement(t){return t.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}};as=new WeakMap,Zm=new WeakMap,mr=new WeakMap,Ch=new WeakMap,_h=new WeakMap,eu=new WeakMap,tu=new WeakMap,nu=new WeakMap,Ph=new WeakMap,Ky=new WeakSet,C4=function({drawOutlines:t,drawId:r,drawingOptions:i}){L(this,as,t),this._drawingOptions||(this._drawingOptions=i),this.annotationElementId||this._uiManager.a11yAlert(`pdfjs-editor-${this.editorType}-added-alert`),r>=0?(this._drawId=r,this.parent.drawLayer.finalizeDraw(r,t.defaultProperties)):this._drawId=B(this,Jy,_4).call(this,t,this.parent),B(this,Th,Z0).call(this,t.box)},Jy=new WeakSet,_4=function(t,r){const{id:i}=r.drawLayer.draw(We._mergeSVGProperties(this._drawingOptions.toSVGProperties(),t.defaultSVGProperties),!1,!1);return i},Qy=new WeakSet,P4=function(){this._drawId===null||!this.parent||(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())},Nh=new WeakSet,Q0=function(t=this.parent){if(!(this._drawId!==null&&this.parent===t)){if(this._drawId!==null){this.parent.drawLayer.updateParent(this._drawId,t.drawLayer);return}this._drawingOptions.updateAll(),this._drawId=B(this,Jy,_4).call(this,h(this,as),t)}},IA=new WeakSet,Tj=function([t,r,i,s]){const{parentDimensions:[o,a],rotation:l}=this;switch(l){case 90:return[r,1-t,i*(a/o),s*(o/a)];case 180:return[1-t,1-r,i,s];case 270:return[1-r,t,i*(a/o),s*(o/a)];default:return[t,r,i,s]}},eg=new WeakSet,Jb=function(){const{x:t,y:r,width:i,height:s,parentDimensions:[o,a],rotation:l}=this;switch(l){case 90:return[1-r,t,i*(o/a),s*(a/o)];case 180:return[1-t,1-r,i,s];case 270:return[r,1-t,i*(o/a),s*(a/o)];default:return[t,r,i,s]}},Th=new WeakSet,Z0=function(t){if([this.x,this.y,this.width,this.height]=B(this,IA,Tj).call(this,t),this.div){this.fixAndSetPosition();const[r,i]=this.parentDimensions;this.setDims(this.width*r,this.height*i)}this._onResized()},ru=new WeakSet,rp=function(){const{x:t,y:r,width:i,height:s,rotation:o,parentRotation:a,parentDimensions:[l,c]}=this;switch((o*4+a)/90){case 1:return[1-r-s,t,s,i];case 2:return[1-t-i,1-r-s,i,s];case 3:return[r,1-t-i,s,i];case 4:return[t,r-i*(l/c),s*(c/l),i*(l/c)];case 5:return[1-r,t,i*(l/c),s*(c/l)];case 6:return[1-t-s*(c/l),1-r,s*(c/l),i*(l/c)];case 7:return[r-i*(l/c),1-t-s*(c/l),i*(l/c),s*(c/l)];case 8:return[t-i,r-s,i,s];case 9:return[1-r,t-i,s,i];case 10:return[1-t,1-r,i,s];case 11:return[r-s,1-t,s,i];case 12:return[t-s*(c/l),r,s*(c/l),i*(l/c)];case 13:return[1-r-i*(l/c),t-s*(c/l),i*(l/c),s*(c/l)];case 14:return[1-t,1-r-i*(l/c),s*(c/l),i*(l/c)];case 15:return[r,1-t,i*(l/c),s*(c/l)];default:return[t,r,i,s]}},Me(We,"_currentDrawId",-1),Me(We,"_currentParent",null),_(We,mr,null),_(We,Ch,null),_(We,_h,null),_(We,eu,NaN),_(We,tu,null),_(We,nu,null),_(We,Ph,NaN),Me(We,"_INNER_MARGIN",3);let nx=We;var ga,gr,vr,Lh,tg,hi,Rr,$s,kh,Rh,Ih,ng,Qb;class jee{constructor(e,t,r,i,s,o){_(this,ng);_(this,ga,new Float64Array(6));_(this,gr,void 0);_(this,vr,void 0);_(this,Lh,void 0);_(this,tg,void 0);_(this,hi,void 0);_(this,Rr,"");_(this,$s,0);_(this,kh,new N2);_(this,Rh,void 0);_(this,Ih,void 0);L(this,Rh,r),L(this,Ih,i),L(this,Lh,s),L(this,tg,o),[e,t]=B(this,ng,Qb).call(this,e,t);const a=L(this,gr,[NaN,NaN,NaN,NaN,e,t]);L(this,hi,[e,t]),L(this,vr,[{line:a,points:h(this,hi)}]),h(this,ga).set(a,0)}updateProperty(e,t){e==="stroke-width"&&L(this,tg,t)}isEmpty(){return!h(this,vr)||h(this,vr).length===0}isCancellable(){return h(this,hi).length<=10}add(e,t){[e,t]=B(this,ng,Qb).call(this,e,t);const[r,i,s,o]=h(this,ga).subarray(2,6),a=e-s,l=t-o;return Math.hypot(h(this,Rh)*a,h(this,Ih)*l)<=2?null:(h(this,hi).push(e,t),isNaN(r)?(h(this,ga).set([s,o,e,t],2),h(this,gr).push(NaN,NaN,NaN,NaN,e,t),{path:{d:this.toSVGPath()}}):(isNaN(h(this,ga)[0])&&h(this,gr).splice(6,6),h(this,ga).set([r,i,s,o,e,t],0),h(this,gr).push(...Ue.createBezierPoints(r,i,s,o,e,t)),{path:{d:this.toSVGPath()}}))}end(e,t){const r=this.add(e,t);return r||(h(this,hi).length===2?{path:{d:this.toSVGPath()}}:null)}startNew(e,t,r,i,s){L(this,Rh,r),L(this,Ih,i),L(this,Lh,s),[e,t]=B(this,ng,Qb).call(this,e,t);const o=L(this,gr,[NaN,NaN,NaN,NaN,e,t]);L(this,hi,[e,t]);const a=h(this,vr).at(-1);return a&&(a.line=new Float32Array(a.line),a.points=new Float32Array(a.points)),h(this,vr).push({line:o,points:h(this,hi)}),h(this,ga).set(o,0),L(this,$s,0),this.toSVGPath(),null}getLastElement(){return h(this,vr).at(-1)}setLastElement(e){return h(this,vr)?(h(this,vr).push(e),L(this,gr,e.line),L(this,hi,e.points),L(this,$s,0),{path:{d:this.toSVGPath()}}):h(this,kh).setLastElement(e)}removeLastElement(){if(!h(this,vr))return h(this,kh).removeLastElement();h(this,vr).pop(),L(this,Rr,"");for(let e=0,t=h(this,vr).length;e<t;e++){const{line:r,points:i}=h(this,vr)[e];L(this,gr,r),L(this,hi,i),L(this,$s,0),this.toSVGPath()}return{path:{d:h(this,Rr)}}}toSVGPath(){const e=Ue.svgRound(h(this,gr)[4]),t=Ue.svgRound(h(this,gr)[5]);if(h(this,hi).length===2)return L(this,Rr,`${h(this,Rr)} M ${e} ${t} Z`),h(this,Rr);if(h(this,hi).length<=6){const i=h(this,Rr).lastIndexOf("M");L(this,Rr,`${h(this,Rr).slice(0,i)} M ${e} ${t}`),L(this,$s,6)}if(h(this,hi).length===4){const i=Ue.svgRound(h(this,gr)[10]),s=Ue.svgRound(h(this,gr)[11]);return L(this,Rr,`${h(this,Rr)} L ${i} ${s}`),L(this,$s,12),h(this,Rr)}const r=[];h(this,$s)===0&&(r.push(`M ${e} ${t}`),L(this,$s,6));for(let i=h(this,$s),s=h(this,gr).length;i<s;i+=6){const[o,a,l,c,u,d]=h(this,gr).slice(i,i+6).map(Ue.svgRound);r.push(`C${o} ${a} ${l} ${c} ${u} ${d}`)}return L(this,Rr,h(this,Rr)+r.join(" ")),L(this,$s,h(this,gr).length),h(this,Rr)}getOutlines(e,t,r,i){const s=h(this,vr).at(-1);return s.line=new Float32Array(s.line),s.points=new Float32Array(s.points),h(this,kh).build(h(this,vr),e,t,r,h(this,Lh),h(this,tg),i),L(this,ga,null),L(this,gr,null),L(this,vr,null),L(this,Rr,null),h(this,kh)}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}ga=new WeakMap,gr=new WeakMap,vr=new WeakMap,Lh=new WeakMap,tg=new WeakMap,hi=new WeakMap,Rr=new WeakMap,$s=new WeakMap,kh=new WeakMap,Rh=new WeakMap,Ih=new WeakMap,ng=new WeakSet,Qb=function(e,t){return Ue._normalizePoint(e,t,h(this,Rh),h(this,Ih),h(this,Lh))};var fi,Zy,e2,ls,va,ya,rg,ig,Mh,Eo,Ja,MA,Lj,FA,kj,DA,Rj;class N2 extends Ue{constructor(){super(...arguments);_(this,Eo);_(this,MA);_(this,FA);_(this,DA);_(this,fi,void 0);_(this,Zy,0);_(this,e2,void 0);_(this,ls,void 0);_(this,va,void 0);_(this,ya,void 0);_(this,rg,void 0);_(this,ig,void 0);_(this,Mh,void 0)}build(t,r,i,s,o,a,l){L(this,va,r),L(this,ya,i),L(this,rg,s),L(this,ig,o),L(this,Mh,a),L(this,e2,l??0),L(this,ls,t),B(this,FA,kj).call(this)}get thickness(){return h(this,Mh)}setLastElement(t){return h(this,ls).push(t),{path:{d:this.toSVGPath()}}}removeLastElement(){return h(this,ls).pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const t=[];for(const{line:r}of h(this,ls)){if(t.push(`M${Ue.svgRound(r[4])} ${Ue.svgRound(r[5])}`),r.length===6){t.push("Z");continue}if(r.length===12&&isNaN(r[6])){t.push(`L${Ue.svgRound(r[10])} ${Ue.svgRound(r[11])}`);continue}for(let i=6,s=r.length;i<s;i+=6){const[o,a,l,c,u,d]=r.subarray(i,i+6).map(Ue.svgRound);t.push(`C${o} ${a} ${l} ${c} ${u} ${d}`)}}return t.join("")}serialize([t,r,i,s],o){const a=[],l=[],[c,u,d,p]=B(this,MA,Lj).call(this);let f,y,g,x,v,w,S,C,N;switch(h(this,ig)){case 0:N=Ue._rescale,f=t,y=r+s,g=i,x=-s,v=t+c*i,w=r+(1-u-p)*s,S=t+(c+d)*i,C=r+(1-u)*s;break;case 90:N=Ue._rescaleAndSwap,f=t,y=r,g=i,x=s,v=t+u*i,w=r+c*s,S=t+(u+p)*i,C=r+(c+d)*s;break;case 180:N=Ue._rescale,f=t+i,y=r,g=-i,x=s,v=t+(1-c-d)*i,w=r+u*s,S=t+(1-c)*i,C=r+(u+p)*s;break;case 270:N=Ue._rescaleAndSwap,f=t+i,y=r+s,g=-i,x=-s,v=t+(1-u-p)*i,w=r+(1-c-d)*s,S=t+(1-u)*i,C=r+(1-c)*s;break}for(const{line:$,points:R}of h(this,ls))a.push(N($,f,y,g,x,o?new Array($.length):null)),l.push(N(R,f,y,g,x,o?new Array(R.length):null));return{lines:a,points:l,rect:[v,w,S,C]}}static deserialize(t,r,i,s,o,{paths:{lines:a,points:l},rotation:c,thickness:u}){const d=[];let p,f,y,g,x;switch(c){case 0:x=Ue._rescale,p=-t/i,f=r/s+1,y=1/i,g=-1/s;break;case 90:x=Ue._rescaleAndSwap,p=-r/s,f=-t/i,y=1/s,g=1/i;break;case 180:x=Ue._rescale,p=t/i+1,f=-r/s,y=-1/i,g=1/s;break;case 270:x=Ue._rescaleAndSwap,p=r/s+1,f=t/i+1,y=-1/s,g=-1/i;break}if(!a){a=[];for(const w of l){const S=w.length;if(S===2){a.push(new Float32Array([NaN,NaN,NaN,NaN,w[0],w[1]]));continue}if(S===4){a.push(new Float32Array([NaN,NaN,NaN,NaN,w[0],w[1],NaN,NaN,NaN,NaN,w[2],w[3]]));continue}const C=new Float32Array(3*(S-2));a.push(C);let[N,$,R,k]=w.subarray(0,4);C.set([NaN,NaN,NaN,NaN,N,$],0);for(let W=4;W<S;W+=2){const X=w[W],M=w[W+1];C.set(Ue.createBezierPoints(N,$,R,k,X,M),(W-2)*3),[N,$,R,k]=[R,k,X,M]}}}for(let w=0,S=a.length;w<S;w++)d.push({line:x(a[w].map(C=>C??NaN),p,f,y,g),points:x(l[w].map(C=>C??NaN),p,f,y,g)});const v=new this.prototype.constructor;return v.build(d,i,s,1,c,u,o),v}get box(){return h(this,fi)}updateProperty(t,r){return t==="stroke-width"?B(this,DA,Rj).call(this,r):null}updateParentDimensions([t,r],i){const[s,o]=B(this,Eo,Ja).call(this);L(this,va,t),L(this,ya,r),L(this,rg,i);const[a,l]=B(this,Eo,Ja).call(this),c=a-s,u=l-o,d=h(this,fi);return d[0]-=c,d[1]-=u,d[2]+=2*c,d[3]+=2*u,d}updateRotation(t){return L(this,Zy,t),{path:{transform:this.rotationTransform}}}get viewBox(){return h(this,fi).map(Ue.svgRound).join(" ")}get defaultProperties(){const[t,r]=h(this,fi);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${Ue.svgRound(t)} ${Ue.svgRound(r)}`}}}get rotationTransform(){const[,,t,r]=h(this,fi);let i=0,s=0,o=0,a=0,l=0,c=0;switch(h(this,Zy)){case 90:s=r/t,o=-t/r,l=t;break;case 180:i=-1,a=-1,l=t,c=r;break;case 270:s=-r/t,o=t/r,c=r;break;default:return""}return`matrix(${i} ${s} ${o} ${a} ${Ue.svgRound(l)} ${Ue.svgRound(c)})`}getPathResizingSVGProperties([t,r,i,s]){const[o,a]=B(this,Eo,Ja).call(this),[l,c,u,d]=h(this,fi);if(Math.abs(u-o)<=Ue.PRECISION||Math.abs(d-a)<=Ue.PRECISION){const x=t+i/2-(l+u/2),v=r+s/2-(c+d/2);return{path:{"transform-origin":`${Ue.svgRound(t)} ${Ue.svgRound(r)}`,transform:`${this.rotationTransform} translate(${x} ${v})`}}}const p=(i-2*o)/(u-2*o),f=(s-2*a)/(d-2*a),y=u/i,g=d/s;return{path:{"transform-origin":`${Ue.svgRound(l)} ${Ue.svgRound(c)}`,transform:`${this.rotationTransform} scale(${y} ${g}) translate(${Ue.svgRound(o)} ${Ue.svgRound(a)}) scale(${p} ${f}) translate(${Ue.svgRound(-o)} ${Ue.svgRound(-a)})`}}}getPathResizedSVGProperties([t,r,i,s]){const[o,a]=B(this,Eo,Ja).call(this),l=h(this,fi),[c,u,d,p]=l;if(l[0]=t,l[1]=r,l[2]=i,l[3]=s,Math.abs(d-o)<=Ue.PRECISION||Math.abs(p-a)<=Ue.PRECISION){const v=t+i/2-(c+d/2),w=r+s/2-(u+p/2);for(const{line:S,points:C}of h(this,ls))Ue._translate(S,v,w,S),Ue._translate(C,v,w,C);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${Ue.svgRound(t)} ${Ue.svgRound(r)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}const f=(i-2*o)/(d-2*o),y=(s-2*a)/(p-2*a),g=-f*(c+o)+t+o,x=-y*(u+a)+r+a;if(f!==1||y!==1||g!==0||x!==0)for(const{line:v,points:w}of h(this,ls))Ue._rescale(v,g,x,f,y,v),Ue._rescale(w,g,x,f,y,w);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${Ue.svgRound(t)} ${Ue.svgRound(r)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([t,r],i){const[s,o]=i,a=h(this,fi),l=t-a[0],c=r-a[1];if(h(this,va)===s&&h(this,ya)===o)for(const{line:u,points:d}of h(this,ls))Ue._translate(u,l,c,u),Ue._translate(d,l,c,d);else{const u=h(this,va)/s,d=h(this,ya)/o;L(this,va,s),L(this,ya,o);for(const{line:p,points:f}of h(this,ls))Ue._rescale(p,l,c,u,d,p),Ue._rescale(f,l,c,u,d,f);a[2]*=u,a[3]*=d}return a[0]=t,a[1]=r,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${Ue.svgRound(t)} ${Ue.svgRound(r)}`}}}get defaultSVGProperties(){const t=h(this,fi);return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${Ue.svgRound(t[0])} ${Ue.svgRound(t[1])}`,transform:this.rotationTransform||null},bbox:t}}}fi=new WeakMap,Zy=new WeakMap,e2=new WeakMap,ls=new WeakMap,va=new WeakMap,ya=new WeakMap,rg=new WeakMap,ig=new WeakMap,Mh=new WeakMap,Eo=new WeakSet,Ja=function(t=h(this,Mh)){const r=h(this,e2)+t/2*h(this,rg);return h(this,ig)%180===0?[r/h(this,va),r/h(this,ya)]:[r/h(this,ya),r/h(this,va)]},MA=new WeakSet,Lj=function(){const[t,r,i,s]=h(this,fi),[o,a]=B(this,Eo,Ja).call(this,0);return[t+o,r+a,i-2*o,s-2*a]},FA=new WeakSet,kj=function(){const t=L(this,fi,new Float32Array([1/0,1/0,-1/0,-1/0]));for(const{line:s}of h(this,ls)){if(s.length<=12){for(let l=4,c=s.length;l<c;l+=6)Ke.pointBoundingBox(s[l],s[l+1],t);continue}let o=s[4],a=s[5];for(let l=6,c=s.length;l<c;l+=6){const[u,d,p,f,y,g]=s.subarray(l,l+6);Ke.bezierBoundingBox(o,a,u,d,p,f,y,g,t),o=y,a=g}}const[r,i]=B(this,Eo,Ja).call(this);t[0]=yi(t[0]-r,0,1),t[1]=yi(t[1]-i,0,1),t[2]=yi(t[2]+r,0,1),t[3]=yi(t[3]+i,0,1),t[2]-=t[0],t[3]-=t[1]},DA=new WeakSet,Rj=function(t){const[r,i]=B(this,Eo,Ja).call(this);L(this,Mh,t);const[s,o]=B(this,Eo,Ja).call(this),[a,l]=[s-r,o-i],c=h(this,fi);return c[0]-=a,c[1]-=l,c[2]+=2*a,c[3]+=2*l,c};class OS extends Nj{constructor(e){super(),this._viewParameters=e,super.updateProperties({fill:"none",stroke:tn._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(e,t){e==="stroke-width"&&(t??(t=this["stroke-width"]),t*=this._viewParameters.realScale),super.updateSVGProperty(e,t)}clone(){const e=new OS(this._viewParameters);return e.updateAll(this),e}}var OA,Ij;const Sp=class Sp extends nx{constructor(t){super({...t,name:"inkEditor"});_(this,OA);this._willKeepAspectRatio=!0,this.defaultL10nId="pdfjs-editor-ink-editor"}static initialize(t,r){tn.initialize(t,r),this._defaultDrawingOptions=new OS(r.viewParameters)}static getDefaultDrawingOptions(t){const r=this._defaultDrawingOptions.clone();return r.updateProperties(t),r}static get supportMultipleDrawings(){return!0}static get typesMap(){return Ct(this,"typesMap",new Map([[_t.INK_THICKNESS,"stroke-width"],[_t.INK_COLOR,"stroke"],[_t.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(t,r,i,s,o){return new jee(t,r,i,s,o,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(t,r,i,s,o,a){return N2.deserialize(t,r,i,s,o,a)}static async deserialize(t,r,i){let s=null;if(t instanceof ON){const{data:{inkLists:a,rect:l,rotation:c,id:u,color:d,opacity:p,borderStyle:{rawWidth:f},popupRef:y},parent:{page:{pageNumber:g}}}=t;s=t={annotationType:ht.INK,color:Array.from(d),thickness:f,opacity:p,paths:{points:a},boxes:null,pageIndex:g-1,rect:l.slice(0),rotation:c,annotationElementId:u,id:u,deleted:!1,popupRef:y}}const o=await super.deserialize(t,r,i);return o._initialData=s,o}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:t,_drawingOptions:r,parent:i}=this;r.updateSVGProperty("stroke-width"),i.drawLayer.updateProperties(t,r.toSVGProperties())}static onScaleChangingWhenDrawing(){const t=this._currentParent;t&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),t.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:t,thickness:r,opacity:i}){this._drawingOptions=Sp.getDefaultDrawingOptions({stroke:Ke.makeHexColor(...t),"stroke-width":r,"stroke-opacity":i})}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:r,points:i,rect:s}=this.serializeDraw(t),{_drawingOptions:{stroke:o,"stroke-opacity":a,"stroke-width":l}}=this,c={annotationType:ht.INK,color:tn._colorManager.convert(o),opacity:a,thickness:l,paths:{lines:r,points:i},pageIndex:this.pageIndex,rect:s,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return t?(c.isCopy=!0,c):this.annotationElementId&&!B(this,OA,Ij).call(this,c)?null:(c.id=this.annotationElementId,c)}renderAnnotationElement(t){const{points:r,rect:i}=this.serializeDraw(!1);return t.updateEdited({rect:i,thickness:this._drawingOptions["stroke-width"],points:r}),null}};OA=new WeakSet,Ij=function(t){const{color:r,thickness:i,opacity:s,pageIndex:o}=this._initialData;return this._hasBeenMoved||this._hasBeenResized||t.color.some((a,l)=>a!==r[l])||t.thickness!==i||t.opacity!==s||t.pageIndex!==o},Me(Sp,"_type","ink"),Me(Sp,"_editorType",ht.INK),Me(Sp,"_defaultDrawingOptions",null);let N4=Sp;class T4 extends N2{toSVGPath(){let e=super.toSVGPath();return e.endsWith("Z")||(e+="Z"),e}}const sb=8,k0=3;var Fh,t2,L4,Co,jA,Mj,BA,Fj,n2,k4,sg,Zb,$A,Dj,zA,Oj,VA,jj,r2,R4,i2,I4,UA,Bj;class or{static extractContoursFromText(e,{fontFamily:t,fontStyle:r,fontWeight:i},s,o,a,l){let c=new OffscreenCanvas(1,1),u=c.getContext("2d",{alpha:!1});const d=200,p=u.font=`${r} ${i} ${d}px ${t}`,{actualBoundingBoxLeft:f,actualBoundingBoxRight:y,actualBoundingBoxAscent:g,actualBoundingBoxDescent:x,fontBoundingBoxAscent:v,fontBoundingBoxDescent:w,width:S}=u.measureText(e),C=1.5,N=Math.ceil(Math.max(Math.abs(f)+Math.abs(y)||0,S)*C),$=Math.ceil(Math.max(Math.abs(g)+Math.abs(x)||d,Math.abs(v)+Math.abs(w)||d)*C);c=new OffscreenCanvas(N,$),u=c.getContext("2d",{alpha:!0,willReadFrequently:!0}),u.font=p,u.filter="grayscale(1)",u.fillStyle="white",u.fillRect(0,0,N,$),u.fillStyle="black",u.fillText(e,N*(C-1)/2,$*(3-C)/2);const R=B(this,r2,R4).call(this,u.getImageData(0,0,N,$).data),k=B(this,VA,jj).call(this,R),W=B(this,i2,I4).call(this,k),X=B(this,n2,k4).call(this,R,N,$,W);return this.processDrawnLines({lines:{curves:X,width:N,height:$},pageWidth:s,pageHeight:o,rotation:a,innerMargin:l,mustSmooth:!0,areContours:!0})}static process(e,t,r,i,s){const[o,a,l]=B(this,UA,Bj).call(this,e),[c,u]=B(this,zA,Oj).call(this,o,a,l,Math.hypot(a,l)*h(this,Fh).sigmaSFactor,h(this,Fh).sigmaR,h(this,Fh).kernelSize),d=B(this,i2,I4).call(this,u),p=B(this,n2,k4).call(this,c,a,l,d);return this.processDrawnLines({lines:{curves:p,width:a,height:l},pageWidth:t,pageHeight:r,rotation:i,innerMargin:s,mustSmooth:!0,areContours:!0})}static processDrawnLines({lines:e,pageWidth:t,pageHeight:r,rotation:i,innerMargin:s,mustSmooth:o,areContours:a}){i%180!==0&&([t,r]=[r,t]);const{curves:l,width:c,height:u}=e,d=e.thickness??0,p=[],f=Math.min(t/c,r/u),y=f/t,g=f/r,x=[];for(const{points:w}of l){const S=o?B(this,$A,Dj).call(this,w):w;if(!S)continue;x.push(S);const C=S.length,N=new Float32Array(C),$=new Float32Array(3*(C===2?2:C-2));if(p.push({line:$,points:N}),C===2){N[0]=S[0]*y,N[1]=S[1]*g,$.set([NaN,NaN,NaN,NaN,N[0],N[1]],0);continue}let[R,k,W,X]=S;R*=y,k*=g,W*=y,X*=g,N.set([R,k,W,X],0),$.set([NaN,NaN,NaN,NaN,R,k],0);for(let M=4;M<C;M+=2){const j=N[M]=S[M]*y,K=N[M+1]=S[M+1]*g;$.set(Ue.createBezierPoints(R,k,W,X,j,K),(M-2)*3),[R,k,W,X]=[W,X,j,K]}}if(p.length===0)return null;const v=a?new T4:new N2;return v.build(p,t,r,1,i,a?0:d,s),{outline:v,newCurves:x,areContours:a,thickness:d,width:c,height:u}}static async compressSignature({outlines:e,areContours:t,thickness:r,width:i,height:s}){let o=1/0,a=-1/0,l=0;for(const S of e){l+=S.length;for(let C=2,N=S.length;C<N;C++){const $=S[C]-S[C-2];o=Math.min(o,$),a=Math.max(a,$)}}let c;o>=-128&&a<=127?c=Int8Array:o>=-32768&&a<=32767?c=Int16Array:c=Int32Array;const u=e.length,d=sb+k0*u,p=new Uint32Array(d);let f=0;p[f++]=d*Uint32Array.BYTES_PER_ELEMENT+(l-2*u)*c.BYTES_PER_ELEMENT,p[f++]=0,p[f++]=i,p[f++]=s,p[f++]=t?0:1,p[f++]=Math.max(0,Math.floor(r??0)),p[f++]=u,p[f++]=c.BYTES_PER_ELEMENT;for(const S of e)p[f++]=S.length-2,p[f++]=S[0],p[f++]=S[1];const y=new CompressionStream("deflate-raw"),g=y.writable.getWriter();await g.ready,g.write(p);const x=c.prototype.constructor;for(const S of e){const C=new x(S.length-2);for(let N=2,$=S.length;N<$;N++)C[N-2]=S[N]-S[N-2];g.write(C)}g.close();const v=await new Response(y.readable).arrayBuffer(),w=new Uint8Array(v);return j7(w)}static async decompressSignature(e){try{const t=cZ(e),{readable:r,writable:i}=new DecompressionStream("deflate-raw"),s=i.getWriter();await s.ready,s.write(t).then(async()=>{await s.ready,await s.close()}).catch(()=>{});let o=null,a=0;for await(const S of r)o||(o=new Uint8Array(new Uint32Array(S.buffer,0,4)[0])),o.set(S,a),a+=S.length;const l=new Uint32Array(o.buffer,0,o.length>>2),c=l[1];if(c!==0)throw new Error(`Invalid version: ${c}`);const u=l[2],d=l[3],p=l[4]===0,f=l[5],y=l[6],g=l[7],x=[],v=(sb+k0*y)*Uint32Array.BYTES_PER_ELEMENT;let w;switch(g){case Int8Array.BYTES_PER_ELEMENT:w=new Int8Array(o.buffer,v);break;case Int16Array.BYTES_PER_ELEMENT:w=new Int16Array(o.buffer,v);break;case Int32Array.BYTES_PER_ELEMENT:w=new Int32Array(o.buffer,v);break}a=0;for(let S=0;S<y;S++){const C=l[k0*S+sb],N=new Float32Array(C+2);x.push(N);for(let $=0;$<k0-1;$++)N[$]=l[k0*S+sb+$+1];for(let $=0;$<C;$++)N[$+2]=N[$]+w[a++]}return{areContours:p,thickness:f,outlines:x,width:u,height:d}}catch(t){return ft(`decompressSignature: ${t}`),null}}}Fh=new WeakMap,t2=new WeakSet,L4=function(e,t,r,i){return r-=e,i-=t,r===0?i>0?0:4:r===1?i+6:2-i},Co=new WeakMap,jA=new WeakSet,Mj=function(e,t,r,i,s,o,a){const l=B(this,t2,L4).call(this,r,i,s,o);for(let c=0;c<8;c++){const u=(-c+l-a+16)%8,d=h(this,Co)[2*u],p=h(this,Co)[2*u+1];if(e[(r+d)*t+(i+p)]!==0)return u}return-1},BA=new WeakSet,Fj=function(e,t,r,i,s,o,a){const l=B(this,t2,L4).call(this,r,i,s,o);for(let c=0;c<8;c++){const u=(c+l+a+16)%8,d=h(this,Co)[2*u],p=h(this,Co)[2*u+1];if(e[(r+d)*t+(i+p)]!==0)return u}return-1},n2=new WeakSet,k4=function(e,t,r,i){const s=e.length,o=new Int32Array(s);for(let u=0;u<s;u++)o[u]=e[u]<=i?1:0;for(let u=1;u<r-1;u++)o[u*t]=o[u*t+t-1]=0;for(let u=0;u<t;u++)o[u]=o[t*r-1-u]=0;let a=1,l;const c=[];for(let u=1;u<r-1;u++){l=1;for(let d=1;d<t-1;d++){const p=u*t+d,f=o[p];if(f===0)continue;let y=u,g=d;if(f===1&&o[p-1]===0)a+=1,g-=1;else if(f>=1&&o[p+1]===0)a+=1,g+=1,f>1&&(l=f);else{f!==1&&(l=Math.abs(f));continue}const x=[d,u],v=g===d+1,w={isHole:v,points:x,id:a,parent:0};c.push(w);let S;for(const M of c)if(M.id===l){S=M;break}S?S.isHole?w.parent=v?S.parent:l:w.parent=v?l:S.parent:w.parent=v?l:0;const C=B(this,jA,Mj).call(this,o,t,u,d,y,g,0);if(C===-1){o[p]=-a,o[p]!==1&&(l=Math.abs(o[p]));continue}let N=h(this,Co)[2*C],$=h(this,Co)[2*C+1];const R=u+N,k=d+$;y=R,g=k;let W=u,X=d;for(;;){const M=B(this,BA,Fj).call(this,o,t,W,X,y,g,1);N=h(this,Co)[2*M],$=h(this,Co)[2*M+1];const j=W+N,K=X+$;x.push(K,j);const U=W*t+X;if(o[U+1]===0?o[U]=-a:o[U]===1&&(o[U]=a),j===u&&K===d&&W===R&&X===k){o[p]!==1&&(l=Math.abs(o[p]));break}else y=W,g=X,W=j,X=K}}}return c},sg=new WeakSet,Zb=function(e,t,r,i){if(r-t<=4){for(let R=t;R<r-2;R+=2)i.push(e[R],e[R+1]);return}const s=e[t],o=e[t+1],a=e[r-4]-s,l=e[r-3]-o,c=Math.hypot(a,l),u=a/c,d=l/c,p=u*o-d*s,f=l/a,y=1/c,g=Math.atan(f),x=Math.cos(g),v=Math.sin(g),w=y*(Math.abs(x)+Math.abs(v)),S=y*(1-w+w**2),C=Math.max(Math.atan(Math.abs(v+x)*S),Math.atan(Math.abs(v-x)*S));let N=0,$=t;for(let R=t+2;R<r-2;R+=2){const k=Math.abs(p-u*e[R+1]+d*e[R]);k>N&&($=R,N=k)}N>(c*C)**2?(B(this,sg,Zb).call(this,e,t,$+2,i),B(this,sg,Zb).call(this,e,$,r,i)):i.push(s,o)},$A=new WeakSet,Dj=function(e){const t=[],r=e.length;return B(this,sg,Zb).call(this,e,0,r,t),t.push(e[r-2],e[r-1]),t.length<=4?null:t},zA=new WeakSet,Oj=function(e,t,r,i,s,o){const a=new Float32Array(o**2),l=-2*i**2,c=o>>1;for(let g=0;g<o;g++){const x=(g-c)**2;for(let v=0;v<o;v++)a[g*o+v]=Math.exp((x+(v-c)**2)/l)}const u=new Float32Array(256),d=-2*s**2;for(let g=0;g<256;g++)u[g]=Math.exp(g**2/d);const p=e.length,f=new Uint8Array(p),y=new Uint32Array(256);for(let g=0;g<r;g++)for(let x=0;x<t;x++){const v=g*t+x,w=e[v];let S=0,C=0;for(let $=0;$<o;$++){const R=g+$-c;if(!(R<0||R>=r))for(let k=0;k<o;k++){const W=x+k-c;if(W<0||W>=t)continue;const X=e[R*t+W],M=a[$*o+k]*u[Math.abs(X-w)];S+=X*M,C+=M}}const N=f[v]=Math.round(S/C);y[N]++}return[f,y]},VA=new WeakSet,jj=function(e){const t=new Uint32Array(256);for(const r of e)t[r]++;return t},r2=new WeakSet,R4=function(e){const t=e.length,r=new Uint8ClampedArray(t>>2);let i=-1/0,s=1/0;for(let a=0,l=r.length;a<l;a++){if(e[(a<<2)+3]===0){i=r[a]=255;continue}const u=r[a]=e[a<<2];u>i&&(i=u),u<s&&(s=u)}const o=255/(i-s);for(let a=0;a<t;a++)r[a]=(r[a]-s)*o;return r},i2=new WeakSet,I4=function(e){let t,r=-1/0,i=-1/0;const s=e.findIndex(l=>l!==0);let o=s,a=s;for(t=s;t<256;t++){const l=e[t];l>r&&(t-o>i&&(i=t-o,a=t-1),r=l,o=t)}for(t=a-1;t>=0&&!(e[t]>e[t+1]);t--);return t},UA=new WeakSet,Bj=function(e){const t=e,{width:r,height:i}=e,{maxDim:s}=h(this,Fh);let o=r,a=i;if(r>s||i>s){let p=r,f=i,y=Math.log2(Math.max(r,i)/s);const g=Math.floor(y);y=y===g?g-1:g;for(let v=0;v<y;v++){o=Math.ceil(p/2),a=Math.ceil(f/2);const w=new OffscreenCanvas(o,a);w.getContext("2d").drawImage(e,0,0,p,f,0,0,o,a),p=o,f=a,e!==t&&e.close(),e=w.transferToImageBitmap()}const x=Math.min(s/o,s/a);o=Math.round(o*x),a=Math.round(a*x)}const c=new OffscreenCanvas(o,a).getContext("2d",{willReadFrequently:!0});c.filter="grayscale(1)",c.drawImage(e,0,0,e.width,e.height,0,0,o,a);const u=c.getImageData(0,0,o,a).data;return[B(this,r2,R4).call(this,u),o,a]},_(or,t2),_(or,jA),_(or,BA),_(or,n2),_(or,sg),_(or,$A),_(or,zA),_(or,VA),_(or,r2),_(or,i2),_(or,UA),_(or,Fh,{maxDim:512,sigmaSFactor:.02,sigmaR:25,kernelSize:16}),_(or,Co,new Int32Array([0,1,-1,1,-1,0,-1,-1,0,-1,1,-1,1,0,1,1]));class jN extends Nj{constructor(){super(),super.updateProperties({fill:tn._defaultLineColor,"stroke-width":0})}clone(){const e=new jN;return e.updateAll(this),e}}class BN extends OS{constructor(e){super(e),super.updateProperties({stroke:tn._defaultLineColor,"stroke-width":1})}clone(){const e=new BN(this._viewParameters);return e.updateAll(this),e}}var iu,ba,su,Dh;const Ki=class Ki extends nx{constructor(t){super({...t,mustBeCommitted:!0,name:"signatureEditor"});_(this,iu,!1);_(this,ba,null);_(this,su,null);_(this,Dh,null);this._willKeepAspectRatio=!0,L(this,su,t.signatureData||null),L(this,ba,null),this.defaultL10nId="pdfjs-editor-signature-editor1"}static initialize(t,r){tn.initialize(t,r),this._defaultDrawingOptions=new jN,this._defaultDrawnSignatureOptions=new BN(r.viewParameters)}static getDefaultDrawingOptions(t){const r=this._defaultDrawingOptions.clone();return r.updateProperties(t),r}static get supportMultipleDrawings(){return!1}static get typesMap(){return Ct(this,"typesMap",new Map)}static get isDrawer(){return!1}get telemetryFinalData(){return{type:"signature",hasDescription:!!h(this,ba)}}static computeTelemetryFinalData(t){const r=t.get("hasDescription");return{hasAltText:r.get(!0)??0,hasNoAltText:r.get(!1)??0}}get isResizable(){return!0}onScaleChanging(){this._drawId!==null&&super.onScaleChanging()}render(){if(this.div)return this.div;let t,r;const{_isCopy:i}=this;if(i&&(this._isCopy=!1,t=this.x,r=this.y),super.render(),this._drawId===null)if(h(this,su)){const{lines:s,mustSmooth:o,areContours:a,description:l,uuid:c,heightInPage:u}=h(this,su),{rawDims:{pageWidth:d,pageHeight:p},rotation:f}=this.parent.viewport,y=or.processDrawnLines({lines:s,pageWidth:d,pageHeight:p,rotation:f,innerMargin:Ki._INNER_MARGIN,mustSmooth:o,areContours:a});this.addSignature(y,u,l,c)}else this.div.setAttribute("data-l10n-args",JSON.stringify({description:""})),this.div.hidden=!0,this._uiManager.getSignature(this);return i&&(this._isCopy=!0,this._moveAfterPaste(t,r)),this.div}setUuid(t){L(this,Dh,t),this.addEditToolbar()}getUuid(){return h(this,Dh)}get description(){return h(this,ba)}set description(t){L(this,ba,t),super.addEditToolbar().then(r=>{r==null||r.updateEditSignatureButton(t)})}getSignaturePreview(){const{newCurves:t,areContours:r,thickness:i,width:s,height:o}=h(this,su),a=Math.max(s,o),l=or.processDrawnLines({lines:{curves:t.map(c=>({points:c})),thickness:i,width:s,height:o},pageWidth:a,pageHeight:a,rotation:0,innerMargin:0,mustSmooth:!1,areContours:r});return{areContours:r,outline:l.outline}}get toolbarButtons(){return this._uiManager.signatureManager?[["editSignature",this._uiManager.signatureManager]]:super.toolbarButtons}addSignature(t,r,i,s){const{x:o,y:a}=this,{outline:l}=L(this,su,t);L(this,iu,l instanceof T4),this.description=i,this.div.setAttribute("data-l10n-args",JSON.stringify({description:i}));let c;h(this,iu)?c=Ki.getDefaultDrawingOptions():(c=Ki._defaultDrawnSignatureOptions.clone(),c.updateProperties({"stroke-width":l.thickness})),this._addOutlines({drawOutlines:l,drawingOptions:c});const[u,d]=this.parentDimensions,[,p]=this.pageDimensions;let f=r/p;f=f>=1?.5:f,this.width*=f/this.height,this.width>=1&&(f*=.9/this.width,this.width=.9),this.height=f,this.setDims(u*this.width,d*this.height),this.x=o,this.y=a,this.center(),this._onResized(),this.onScaleChanging(),this.rotate(),this._uiManager.addToAnnotationStorage(this),this.setUuid(s),this._reportTelemetry({action:"pdfjs.signature.inserted",data:{hasBeenSaved:!!s,hasDescription:!!i}}),this.div.hidden=!1}getFromImage(t){const{rawDims:{pageWidth:r,pageHeight:i},rotation:s}=this.parent.viewport;return or.process(t,r,i,s,Ki._INNER_MARGIN)}getFromText(t,r){const{rawDims:{pageWidth:i,pageHeight:s},rotation:o}=this.parent.viewport;return or.extractContoursFromText(t,r,i,s,o,Ki._INNER_MARGIN)}getDrawnSignature(t){const{rawDims:{pageWidth:r,pageHeight:i},rotation:s}=this.parent.viewport;return or.processDrawnLines({lines:t,pageWidth:r,pageHeight:i,rotation:s,innerMargin:Ki._INNER_MARGIN,mustSmooth:!1,areContours:!1})}createDrawingOptions({areContours:t,thickness:r}){t?this._drawingOptions=Ki.getDefaultDrawingOptions():(this._drawingOptions=Ki._defaultDrawnSignatureOptions.clone(),this._drawingOptions.updateProperties({"stroke-width":r}))}serialize(t=!1){if(this.isEmpty())return null;const{lines:r,points:i,rect:s}=this.serializeDraw(t),{_drawingOptions:{"stroke-width":o}}=this,a={annotationType:ht.SIGNATURE,isSignature:!0,areContours:h(this,iu),color:[0,0,0],thickness:h(this,iu)?0:o,pageIndex:this.pageIndex,rect:s,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return t?(a.paths={lines:r,points:i},a.uuid=h(this,Dh),a.isCopy=!0):a.lines=r,h(this,ba)&&(a.accessibilityData={type:"Figure",alt:h(this,ba)}),a}static deserializeDraw(t,r,i,s,o,a){return a.areContours?T4.deserialize(t,r,i,s,o,a):N2.deserialize(t,r,i,s,o,a)}static async deserialize(t,r,i){var o;const s=await super.deserialize(t,r,i);return L(s,iu,t.areContours),L(s,ba,((o=t.accessibilityData)==null?void 0:o.alt)||""),L(s,Dh,t.uuid),s}};iu=new WeakMap,ba=new WeakMap,su=new WeakMap,Dh=new WeakMap,Me(Ki,"_type","signature"),Me(Ki,"_editorType",ht.SIGNATURE),Me(Ki,"_defaultDrawingOptions",null);let M4=Ki;var hn,yr,ou,kl,au,og,Rl,Oh,wa,cs,ag,jh,e1,Bh,t1,lg,ew,cg,tw,ug,nw,s2,D4,dg,rw,HA,$j;class F4 extends tn{constructor(t){super({...t,name:"stampEditor"});_(this,jh);_(this,Bh);_(this,lg);_(this,cg);_(this,ug);_(this,s2);_(this,dg);_(this,HA);_(this,hn,null);_(this,yr,null);_(this,ou,null);_(this,kl,null);_(this,au,null);_(this,og,"");_(this,Rl,null);_(this,Oh,!1);_(this,wa,null);_(this,cs,!1);_(this,ag,!1);L(this,kl,t.bitmapUrl),L(this,au,t.bitmapFile),this.defaultL10nId="pdfjs-editor-stamp-editor"}static initialize(t,r){tn.initialize(t,r)}static isHandlingMimeForPasting(t){return N_.includes(t)}static paste(t,r){r.pasteEditor({mode:ht.STAMP},{bitmapFile:t.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var t;return{type:"stamp",hasAltText:!!((t=this.altTextData)!=null&&t.altText)}}static computeTelemetryFinalData(t){const r=t.get("hasAltText");return{hasAltText:r.get(!0)??0,hasNoAltText:r.get(!1)??0}}async mlGuessAltText(t=null,r=!0){if(this.hasAltTextData())return null;const{mlManager:i}=this._uiManager;if(!i)throw new Error("No ML.");if(!await i.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:s,width:o,height:a}=t||this.copyCanvas(null,null,!0).imageData,l=await i.guess({name:"altText",request:{data:s,width:o,height:a,channels:s.length/(o*a)}});if(!l)throw new Error("No response from the AI service.");if(l.error)throw new Error("Error from the AI service.");if(l.cancel)return null;if(!l.output)throw new Error("No valid response from the AI service.");const c=l.output;return await this.setGuessedAltText(c),r&&!this.hasAltTextData()&&(this.altTextData={alt:c,decorative:!1}),c}remove(){var t;h(this,yr)&&(L(this,hn,null),this._uiManager.imageManager.deleteId(h(this,yr)),(t=h(this,Rl))==null||t.remove(),L(this,Rl,null),h(this,wa)&&(clearTimeout(h(this,wa)),L(this,wa,null))),super.remove()}rebuild(){if(!this.parent){h(this,yr)&&B(this,lg,ew).call(this);return}super.rebuild(),this.div!==null&&(h(this,yr)&&h(this,Rl)===null&&B(this,lg,ew).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(t){this._isDraggable=!0,t&&this.div.focus()}isEmpty(){return!(h(this,ou)||h(this,hn)||h(this,kl)||h(this,au)||h(this,yr)||h(this,Oh))}get toolbarButtons(){return[["altText",this.createAltText()]]}get isResizable(){return!0}render(){if(this.div)return this.div;let t,r;return this._isCopy&&(t=this.x,r=this.y),super.render(),this.div.hidden=!0,this.createAltText(),h(this,Oh)||(h(this,hn)?B(this,cg,tw).call(this):B(this,lg,ew).call(this)),this._isCopy&&this._moveAfterPaste(t,r),this._uiManager.addShouldRescale(this),this.div}setCanvas(t,r){const{id:i,bitmap:s}=this._uiManager.imageManager.getFromCanvas(t,r);r.remove(),i&&this._uiManager.imageManager.isValidId(i)&&(L(this,yr,i),s&&L(this,hn,s),L(this,Oh,!1),B(this,cg,tw).call(this))}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;h(this,wa)!==null&&clearTimeout(h(this,wa)),L(this,wa,setTimeout(()=>{L(this,wa,null),B(this,s2,D4).call(this)},200))}copyCanvas(t,r,i=!1){var f;t||(t=224);const{width:s,height:o}=h(this,hn),a=new Ia;let l=h(this,hn),c=s,u=o,d=null;if(r){if(s>r||o>r){const k=Math.min(r/s,r/o);c=Math.floor(s*k),u=Math.floor(o*k)}d=document.createElement("canvas");const y=d.width=Math.ceil(c*a.sx),g=d.height=Math.ceil(u*a.sy);h(this,cs)||(l=B(this,ug,nw).call(this,y,g));const x=d.getContext("2d");x.filter=this._uiManager.hcmFilter;let v="white",w="#cfcfd8";this._uiManager.hcmFilter!=="none"?w="black":(f=window.matchMedia)!=null&&f.call(window,"(prefers-color-scheme: dark)").matches&&(v="#8f8f9d",w="#42414d");const S=15,C=S*a.sx,N=S*a.sy,$=new OffscreenCanvas(C*2,N*2),R=$.getContext("2d");R.fillStyle=v,R.fillRect(0,0,C*2,N*2),R.fillStyle=w,R.fillRect(0,0,C,N),R.fillRect(C,N,C,N),x.fillStyle=x.createPattern($,"repeat"),x.fillRect(0,0,y,g),x.drawImage(l,0,0,l.width,l.height,0,0,y,g)}let p=null;if(i){let y,g;if(a.symmetric&&l.width<t&&l.height<t)y=l.width,g=l.height;else if(l=h(this,hn),s>t||o>t){const w=Math.min(t/s,t/o);y=Math.floor(s*w),g=Math.floor(o*w),h(this,cs)||(l=B(this,ug,nw).call(this,y,g))}const v=new OffscreenCanvas(y,g).getContext("2d",{willReadFrequently:!0});v.drawImage(l,0,0,l.width,l.height,0,0,y,g),p={width:y,height:g,data:v.getImageData(0,0,y,g).data}}return{canvas:d,width:c,height:u,imageData:p}}static async deserialize(t,r,i){var x;let s=null,o=!1;if(t instanceof tj){const{data:{rect:v,rotation:w,id:S,structParent:C,popupRef:N},container:$,parent:{page:{pageNumber:R}},canvas:k}=t;let W,X;k?(delete t.canvas,{id:W,bitmap:X}=i.imageManager.getFromCanvas($.id,k),k.remove()):(o=!0,t._hasNoCanvas=!0);const M=((x=await r._structTree.getAriaAttributes(`${TN}${S}`))==null?void 0:x.get("aria-label"))||"";s=t={annotationType:ht.STAMP,bitmapId:W,bitmap:X,pageIndex:R-1,rect:v.slice(0),rotation:w,annotationElementId:S,id:S,deleted:!1,accessibilityData:{decorative:!1,altText:M},isSvg:!1,structParent:C,popupRef:N}}const a=await super.deserialize(t,r,i),{rect:l,bitmap:c,bitmapUrl:u,bitmapId:d,isSvg:p,accessibilityData:f}=t;o?(i.addMissingCanvas(t.id,a),L(a,Oh,!0)):d&&i.imageManager.isValidId(d)?(L(a,yr,d),c&&L(a,hn,c)):L(a,kl,u),L(a,cs,p);const[y,g]=a.pageDimensions;return a.width=(l[2]-l[0])/y,a.height=(l[3]-l[1])/g,f&&(a.altTextData=f),a._initialData=s,L(a,ag,!!s),a}serialize(t=!1,r=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const i={annotationType:ht.STAMP,bitmapId:h(this,yr),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:h(this,cs),structTreeParentId:this._structTreeParentId};if(t)return i.bitmapUrl=B(this,dg,rw).call(this,!0),i.accessibilityData=this.serializeAltText(!0),i.isCopy=!0,i;const{decorative:s,altText:o}=this.serializeAltText(!1);if(!s&&o&&(i.accessibilityData={type:"Figure",alt:o}),this.annotationElementId){const l=B(this,HA,$j).call(this,i);if(l.isSame)return null;l.isSameAltText?delete i.accessibilityData:i.accessibilityData.structParent=this._initialData.structParent??-1}if(i.id=this.annotationElementId,r===null)return i;r.stamps||(r.stamps=new Map);const a=h(this,cs)?(i.rect[2]-i.rect[0])*(i.rect[3]-i.rect[1]):null;if(!r.stamps.has(h(this,yr)))r.stamps.set(h(this,yr),{area:a,serialized:i}),i.bitmap=B(this,dg,rw).call(this,!1);else if(h(this,cs)){const l=r.stamps.get(h(this,yr));a>l.area&&(l.area=a,l.serialized.bitmap.close(),l.serialized.bitmap=B(this,dg,rw).call(this,!1))}return i}renderAnnotationElement(t){return t.updateEdited({rect:this.getRect(0,0)}),null}}hn=new WeakMap,yr=new WeakMap,ou=new WeakMap,kl=new WeakMap,au=new WeakMap,og=new WeakMap,Rl=new WeakMap,Oh=new WeakMap,wa=new WeakMap,cs=new WeakMap,ag=new WeakMap,jh=new WeakSet,e1=function(t,r=!1){if(!t){this.remove();return}L(this,hn,t.bitmap),r||(L(this,yr,t.id),L(this,cs,t.isSvg)),t.file&&L(this,og,t.file.name),B(this,cg,tw).call(this)},Bh=new WeakSet,t1=function(){if(L(this,ou,null),this._uiManager.enableWaiting(!1),!!h(this,Rl)){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&h(this,hn)){this.addEditToolbar().then(()=>{this._editToolbar.hide(),this._uiManager.editAltText(this,!0)});return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&h(this,hn)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}},lg=new WeakSet,ew=function(){if(h(this,yr)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(h(this,yr)).then(i=>B(this,jh,e1).call(this,i,!0)).finally(()=>B(this,Bh,t1).call(this));return}if(h(this,kl)){const i=h(this,kl);L(this,kl,null),this._uiManager.enableWaiting(!0),L(this,ou,this._uiManager.imageManager.getFromUrl(i).then(s=>B(this,jh,e1).call(this,s)).finally(()=>B(this,Bh,t1).call(this)));return}if(h(this,au)){const i=h(this,au);L(this,au,null),this._uiManager.enableWaiting(!0),L(this,ou,this._uiManager.imageManager.getFromFile(i).then(s=>B(this,jh,e1).call(this,s)).finally(()=>B(this,Bh,t1).call(this)));return}const t=document.createElement("input");t.type="file",t.accept=N_.join(",");const r=this._uiManager._signal;L(this,ou,new Promise(i=>{t.addEventListener("change",async()=>{if(!t.files||t.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const s=await this._uiManager.imageManager.getFromFile(t.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),B(this,jh,e1).call(this,s)}i()},{signal:r}),t.addEventListener("cancel",()=>{this.remove(),i()},{signal:r})}).finally(()=>B(this,Bh,t1).call(this))),t.click()},cg=new WeakSet,tw=function(){var d;const{div:t}=this;let{width:r,height:i}=h(this,hn);const[s,o]=this.pageDimensions,a=.75;if(this.width)r=this.width*s,i=this.height*o;else if(r>a*s||i>a*o){const p=Math.min(a*s/r,a*o/i);r*=p,i*=p}const[l,c]=this.parentDimensions;this.setDims(r*l/s,i*c/o),this._uiManager.enableWaiting(!1);const u=L(this,Rl,document.createElement("canvas"));u.setAttribute("role","img"),this.addContainer(u),this.width=r/s,this.height=i/o,(d=this._initialOptions)!=null&&d.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(t.hidden=!1),B(this,s2,D4).call(this),h(this,ag)||(this.parent.addUndoableEditor(this),L(this,ag,!0)),this._reportTelemetry({action:"inserted_image"}),h(this,og)&&this.div.setAttribute("aria-description",h(this,og)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-stamp-added-alert")},ug=new WeakSet,nw=function(t,r){const{width:i,height:s}=h(this,hn);let o=i,a=s,l=h(this,hn);for(;o>2*t||a>2*r;){const c=o,u=a;o>2*t&&(o=o>=16384?Math.floor(o/2)-1:Math.ceil(o/2)),a>2*r&&(a=a>=16384?Math.floor(a/2)-1:Math.ceil(a/2));const d=new OffscreenCanvas(o,a);d.getContext("2d").drawImage(l,0,0,c,u,0,0,o,a),l=d.transferToImageBitmap()}return l},s2=new WeakSet,D4=function(){const[t,r]=this.parentDimensions,{width:i,height:s}=this,o=new Ia,a=Math.ceil(i*t*o.sx),l=Math.ceil(s*r*o.sy),c=h(this,Rl);if(!c||c.width===a&&c.height===l)return;c.width=a,c.height=l;const u=h(this,cs)?h(this,hn):B(this,ug,nw).call(this,a,l),d=c.getContext("2d");d.filter=this._uiManager.hcmFilter,d.drawImage(u,0,0,u.width,u.height,0,0,a,l)},dg=new WeakSet,rw=function(t){if(t){if(h(this,cs)){const s=this._uiManager.imageManager.getSvgUrl(h(this,yr));if(s)return s}const r=document.createElement("canvas");return{width:r.width,height:r.height}=h(this,hn),r.getContext("2d").drawImage(h(this,hn),0,0),r.toDataURL()}if(h(this,cs)){const[r,i]=this.pageDimensions,s=Math.round(this.width*r*Ou.PDF_TO_CSS_UNITS),o=Math.round(this.height*i*Ou.PDF_TO_CSS_UNITS),a=new OffscreenCanvas(s,o);return a.getContext("2d").drawImage(h(this,hn),0,0,h(this,hn).width,h(this,hn).height,0,0,s,o),a.transferToImageBitmap()}return structuredClone(h(this,hn))},HA=new WeakSet,$j=function(t){var a;const{pageIndex:r,accessibilityData:{altText:i}}=this._initialData,s=t.pageIndex===r,o=(((a=t.accessibilityData)==null?void 0:a.alt)||"")===i;return{isSame:!this._hasBeenMoved&&!this._hasBeenResized&&s&&o,isSameAltText:o}},Me(F4,"_type","stamp"),Me(F4,"_editorType",ht.STAMP);var $h,hg,xa,lu,Il,us,cu,fg,zh,_o,Ml,br,Fl,uu,pg,Ye,du,qA,zj,zs,na,o2,j4,a2,B4,mg,iw;const uo=class uo{constructor({uiManager:e,pageIndex:t,div:r,structTreeLayer:i,accessibilityManager:s,annotationLayer:o,drawLayer:a,textLayer:l,viewport:c,l10n:u}){_(this,qA);_(this,zs);_(this,o2);_(this,a2);_(this,mg);_(this,$h,void 0);_(this,hg,!1);_(this,xa,null);_(this,lu,null);_(this,Il,null);_(this,us,new Map);_(this,cu,!1);_(this,fg,!1);_(this,zh,!1);_(this,_o,null);_(this,Ml,null);_(this,br,null);_(this,Fl,null);_(this,uu,null);_(this,pg,-1);_(this,Ye,void 0);const d=[...h(uo,du).values()];if(!uo._initialized){uo._initialized=!0;for(const p of d)p.initialize(u,e)}e.registerEditorTypes(d),L(this,Ye,e),this.pageIndex=t,this.div=r,L(this,$h,s),L(this,xa,o),this.viewport=c,L(this,br,l),this.drawLayer=a,this._structTree=i,h(this,Ye).addLayer(this)}get isEmpty(){return h(this,us).size===0}get isInvisible(){return this.isEmpty&&h(this,Ye).getMode()===ht.NONE}updateToolbar(e){h(this,Ye).updateToolbar(e)}updateMode(e=h(this,Ye).getMode()){switch(B(this,mg,iw).call(this),e){case ht.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case ht.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case ht.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:t}=this.div;for(const r of h(uo,du).values())t.toggle(`${r._type}Editing`,e===r._editorType);this.div.hidden=!1}hasTextLayer(e){var t;return e===((t=h(this,br))==null?void 0:t.div)}setEditingState(e){h(this,Ye).setEditingState(e)}addCommands(e){h(this,Ye).addCommands(e)}cleanUndoStack(e){h(this,Ye).cleanUndoStack(e)}toggleDrawing(e=!1){this.div.classList.toggle("drawing",!e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){var t;(t=h(this,xa))==null||t.div.classList.toggle("disabled",!e)}async enable(){var r;L(this,zh,!0),this.div.tabIndex=0,this.togglePointerEvents(!0),(r=h(this,uu))==null||r.abort(),L(this,uu,null);const e=new Set;for(const i of h(this,us).values())i.enableEditing(),i.show(!0),i.annotationElementId&&(h(this,Ye).removeChangedExistingAnnotation(i),e.add(i.annotationElementId));if(!h(this,xa)){L(this,zh,!1);return}const t=h(this,xa).getEditableAnnotations();for(const i of t){if(i.hide(),h(this,Ye).isDeletedAnnotationElement(i.data.id)||e.has(i.data.id))continue;const s=await this.deserialize(i);s&&(this.addOrRebuild(s),s.enableEditing())}L(this,zh,!1)}disable(){var i;if(L(this,fg,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1),h(this,br)&&!h(this,uu)){L(this,uu,new AbortController);const s=h(this,Ye).combinedSignal(h(this,uu));h(this,br).div.addEventListener("pointerdown",o=>{const{clientX:l,clientY:c,timeStamp:u}=o,d=h(this,pg);if(u-d>500){L(this,pg,u);return}L(this,pg,-1);const{classList:p}=this.div;p.toggle("getElements",!0);const f=document.elementsFromPoint(l,c);if(p.toggle("getElements",!1),!this.div.contains(f[0]))return;let y;const g=new RegExp(`^${I7}[0-9]+$`);for(const v of f)if(g.test(v.id)){y=v.id;break}if(!y)return;const x=h(this,us).get(y);(x==null?void 0:x.annotationElementId)===null&&(o.stopPropagation(),o.preventDefault(),x.dblclick())},{signal:s,capture:!0})}const e=new Map,t=new Map;for(const s of h(this,us).values())if(s.disableEditing(),!!s.annotationElementId){if(s.serialize()!==null){e.set(s.annotationElementId,s);continue}else t.set(s.annotationElementId,s);(i=this.getEditableAnnotation(s.annotationElementId))==null||i.show(),s.remove()}if(h(this,xa)){const s=h(this,xa).getEditableAnnotations();for(const o of s){const{id:a}=o.data;if(h(this,Ye).isDeletedAnnotationElement(a))continue;let l=t.get(a);if(l){l.resetAnnotationElement(o),l.show(!1),o.show();continue}l=e.get(a),l&&(h(this,Ye).addChangedExistingAnnotation(l),l.renderAnnotationElement(o)&&l.show(!1)),o.show()}}B(this,mg,iw).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:r}=this.div;for(const s of h(uo,du).values())r.remove(`${s._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),L(this,fg,!1)}getEditableAnnotation(e){var t;return((t=h(this,xa))==null?void 0:t.getEditableAnnotation(e))||null}setActiveEditor(e){h(this,Ye).getActive()!==e&&h(this,Ye).setActiveEditor(e)}enableTextSelection(){var e;if(this.div.tabIndex=-1,(e=h(this,br))!=null&&e.div&&!h(this,Fl)){L(this,Fl,new AbortController);const t=h(this,Ye).combinedSignal(h(this,Fl));h(this,br).div.addEventListener("pointerdown",B(this,qA,zj).bind(this),{signal:t}),h(this,br).div.classList.add("highlighting")}}disableTextSelection(){var e;this.div.tabIndex=0,(e=h(this,br))!=null&&e.div&&h(this,Fl)&&(h(this,Fl).abort(),L(this,Fl,null),h(this,br).div.classList.remove("highlighting"))}enableClick(){if(h(this,lu))return;L(this,lu,new AbortController);const e=h(this,Ye).combinedSignal(h(this,lu));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:e});const t=this.pointerup.bind(this);this.div.addEventListener("pointerup",t,{signal:e}),this.div.addEventListener("pointercancel",t,{signal:e})}disableClick(){var e;(e=h(this,lu))==null||e.abort(),L(this,lu,null)}attach(e){h(this,us).set(e.id,e);const{annotationElementId:t}=e;t&&h(this,Ye).isDeletedAnnotationElement(t)&&h(this,Ye).removeDeletedAnnotationElement(e)}detach(e){var t;h(this,us).delete(e.id),(t=h(this,$h))==null||t.removePointerInTextLayer(e.contentDiv),!h(this,fg)&&e.annotationElementId&&h(this,Ye).addDeletedAnnotationElement(e)}remove(e){this.detach(e),h(this,Ye).removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1}changeParent(e){var t;e.parent!==this&&(e.parent&&e.annotationElementId&&(h(this,Ye).addDeletedAnnotationElement(e.annotationElementId),tn.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),(t=e.parent)==null||t.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),h(this,Ye).addEditor(e),this.attach(e),!e.isAttachedToDOM){const t=e.render();this.div.append(t),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(!h(this,zh)),h(this,Ye).addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){var r;if(!e.isAttachedToDOM)return;const{activeElement:t}=document;e.div.contains(t)&&!h(this,Il)&&(e._focusEventsAllowed=!1,L(this,Il,setTimeout(()=>{L(this,Il,null),e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:h(this,Ye)._signal}),t.focus())},0))),e._structTreeParentId=(r=h(this,$h))==null?void 0:r.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||(e.parent=this),e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const t=()=>e._uiManager.rebuild(e),r=()=>{e.remove()};this.addCommands({cmd:t,undo:r,mustExec:!1})}getNextId(){return h(this,Ye).getId()}combinedSignal(e){return h(this,Ye).combinedSignal(e)}canCreateNewEmptyEditor(){var e;return(e=h(this,zs,na))==null?void 0:e.canCreateNewEmptyEditor()}async pasteEditor(e,t){this.updateToolbar(e),await h(this,Ye).updateMode(e.mode);const{offsetX:r,offsetY:i}=B(this,a2,B4).call(this),s=this.getNextId(),o=B(this,o2,j4).call(this,{parent:this,id:s,x:r,y:i,uiManager:h(this,Ye),isCentered:!0,...t});o&&this.add(o)}async deserialize(e){var t;return await((t=h(uo,du).get(e.annotationType??e.annotationEditorType))==null?void 0:t.deserialize(e,this,h(this,Ye)))||null}createAndAddNewEditor(e,t,r={}){const i=this.getNextId(),s=B(this,o2,j4).call(this,{parent:this,id:i,x:e.offsetX,y:e.offsetY,uiManager:h(this,Ye),isCentered:t,...r});return s&&this.add(s),s}addNewEditor(e={}){this.createAndAddNewEditor(B(this,a2,B4).call(this),!0,e)}setSelected(e){h(this,Ye).setSelected(e)}toggleSelected(e){h(this,Ye).toggleSelected(e)}unselect(e){h(this,Ye).unselect(e)}pointerup(e){var i;const{isMac:t}=Or.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div||!h(this,cu)||(L(this,cu,!1),(i=h(this,zs,na))!=null&&i.isDrawer&&h(this,zs,na).supportMultipleDrawings))return;if(!h(this,hg)){L(this,hg,!0);return}const r=h(this,Ye).getMode();if(r===ht.STAMP||r===ht.SIGNATURE){h(this,Ye).unselectAll();return}this.createAndAddNewEditor(e,!1)}pointerdown(e){var i;if(h(this,Ye).getMode()===ht.HIGHLIGHT&&this.enableTextSelection(),h(this,cu)){L(this,cu,!1);return}const{isMac:t}=Or.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div)return;if(L(this,cu,!0),(i=h(this,zs,na))!=null&&i.isDrawer){this.startDrawingSession(e);return}const r=h(this,Ye).getActive();L(this,hg,!r||r.isEmpty())}startDrawingSession(e){if(this.div.focus({preventScroll:!0}),h(this,_o)){h(this,zs,na).startDrawing(this,h(this,Ye),!1,e);return}h(this,Ye).setCurrentDrawingSession(this),L(this,_o,new AbortController);const t=h(this,Ye).combinedSignal(h(this,_o));this.div.addEventListener("blur",({relatedTarget:r})=>{r&&!this.div.contains(r)&&(L(this,Ml,null),this.commitOrRemove())},{signal:t}),h(this,zs,na).startDrawing(this,h(this,Ye),!1,e)}pause(e){if(e){const{activeElement:t}=document;this.div.contains(t)&&L(this,Ml,t);return}h(this,Ml)&&setTimeout(()=>{var t;(t=h(this,Ml))==null||t.focus(),L(this,Ml,null)},0)}endDrawingSession(e=!1){return h(this,_o)?(h(this,Ye).setCurrentDrawingSession(null),h(this,_o).abort(),L(this,_o,null),L(this,Ml,null),h(this,zs,na).endDrawing(e)):null}findNewParent(e,t,r){const i=h(this,Ye).findParent(t,r);return i===null||i===this?!1:(i.changeParent(e),!0)}commitOrRemove(){return h(this,_o)?(this.endDrawingSession(),!0):!1}onScaleChanging(){h(this,_o)&&h(this,zs,na).onScaleChangingWhenDrawing(this)}destroy(){var e,t;this.commitOrRemove(),((e=h(this,Ye).getActive())==null?void 0:e.parent)===this&&(h(this,Ye).commitOrRemove(),h(this,Ye).setActiveEditor(null)),h(this,Il)&&(clearTimeout(h(this,Il)),L(this,Il,null));for(const r of h(this,us).values())(t=h(this,$h))==null||t.removePointerInTextLayer(r.contentDiv),r.setParent(null),r.isAttachedToDOM=!1,r.div.remove();this.div=null,h(this,us).clear(),h(this,Ye).removeLayer(this)}render({viewport:e}){this.viewport=e,Zh(this.div,e);for(const t of h(this,Ye).getEditors(this.pageIndex))this.add(t),t.rebuild();this.updateMode()}update({viewport:e}){h(this,Ye).commitOrRemove(),B(this,mg,iw).call(this);const t=this.viewport.rotation,r=e.rotation;if(this.viewport=e,Zh(this.div,{rotation:r}),t!==r)for(const i of h(this,us).values())i.rotate(r)}get pageDimensions(){const{pageWidth:e,pageHeight:t}=this.viewport.rawDims;return[e,t]}get scale(){return h(this,Ye).viewParameters.realScale}};$h=new WeakMap,hg=new WeakMap,xa=new WeakMap,lu=new WeakMap,Il=new WeakMap,us=new WeakMap,cu=new WeakMap,fg=new WeakMap,zh=new WeakMap,_o=new WeakMap,Ml=new WeakMap,br=new WeakMap,Fl=new WeakMap,uu=new WeakMap,pg=new WeakMap,Ye=new WeakMap,du=new WeakMap,qA=new WeakSet,zj=function(e){h(this,Ye).unselectAll();const{target:t}=e;if(t===h(this,br).div||(t.getAttribute("role")==="img"||t.classList.contains("endOfContent"))&&h(this,br).div.contains(t)){const{isMac:r}=Or.platform;if(e.button!==0||e.ctrlKey&&r)return;h(this,Ye).showAllEditors("highlight",!0,!0),h(this,br).div.classList.add("free"),this.toggleDrawing(),tx.startHighlighting(this,h(this,Ye).direction==="ltr",{target:h(this,br).div,x:e.x,y:e.y}),h(this,br).div.addEventListener("pointerup",()=>{h(this,br).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:h(this,Ye)._signal}),e.preventDefault()}},zs=new WeakSet,na=function(){return h(uo,du).get(h(this,Ye).getMode())},o2=new WeakSet,j4=function(e){const t=h(this,zs,na);return t?new t.prototype.constructor(e):null},a2=new WeakSet,B4=function(){const{x:e,y:t,width:r,height:i}=this.div.getBoundingClientRect(),s=Math.max(0,e),o=Math.max(0,t),a=Math.min(window.innerWidth,e+r),l=Math.min(window.innerHeight,t+i),c=(s+a)/2-e,u=(o+l)/2-t,[d,p]=this.viewport.rotation%180===0?[c,u]:[u,c];return{offsetX:d,offsetY:p}},mg=new WeakSet,iw=function(){for(const e of h(this,us).values())e.isEmpty()&&e.remove()},Me(uo,"_initialized",!1),_(uo,du,new Map([m4,N4,F4,tx,M4].map(e=>[e._editorType,e])));let O4=uo;var Po,pi,Vh,l2,WA,Vj,c2,z4,GA,Uj,u2,V4;const rr=class rr{constructor({pageIndex:e}){_(this,c2);_(this,GA);_(this,u2);_(this,Po,null);_(this,pi,new Map);_(this,Vh,new Map);this.pageIndex=e}setParent(e){if(!h(this,Po)){L(this,Po,e);return}if(h(this,Po)!==e){if(h(this,pi).size>0)for(const t of h(this,pi).values())t.remove(),e.append(t);L(this,Po,e)}}static get _svgFactory(){return Ct(this,"_svgFactory",new Qw)}draw(e,t=!1,r=!1){const i=ci(rr,l2)._++,s=B(this,c2,z4).call(this),o=rr._svgFactory.createElement("defs");s.append(o);const a=rr._svgFactory.createElement("path");o.append(a);const l=`path_p${this.pageIndex}_${i}`;a.setAttribute("id",l),a.setAttribute("vector-effect","non-scaling-stroke"),t&&h(this,Vh).set(i,a);const c=r?B(this,GA,Uj).call(this,o,l):null,u=rr._svgFactory.createElement("use");return s.append(u),u.setAttribute("href",`#${l}`),this.updateProperties(s,e),h(this,pi).set(i,s),{id:i,clipPathId:`url(#${c})`}}drawOutline(e,t){const r=ci(rr,l2)._++,i=B(this,c2,z4).call(this),s=rr._svgFactory.createElement("defs");i.append(s);const o=rr._svgFactory.createElement("path");s.append(o);const a=`path_p${this.pageIndex}_${r}`;o.setAttribute("id",a),o.setAttribute("vector-effect","non-scaling-stroke");let l;if(t){const d=rr._svgFactory.createElement("mask");s.append(d),l=`mask_p${this.pageIndex}_${r}`,d.setAttribute("id",l),d.setAttribute("maskUnits","objectBoundingBox");const p=rr._svgFactory.createElement("rect");d.append(p),p.setAttribute("width","1"),p.setAttribute("height","1"),p.setAttribute("fill","white");const f=rr._svgFactory.createElement("use");d.append(f),f.setAttribute("href",`#${a}`),f.setAttribute("stroke","none"),f.setAttribute("fill","black"),f.setAttribute("fill-rule","nonzero"),f.classList.add("mask")}const c=rr._svgFactory.createElement("use");i.append(c),c.setAttribute("href",`#${a}`),l&&c.setAttribute("mask",`url(#${l})`);const u=c.cloneNode();return i.append(u),c.classList.add("mainOutline"),u.classList.add("secondaryOutline"),this.updateProperties(i,e),h(this,pi).set(r,i),r}finalizeDraw(e,t){h(this,Vh).delete(e),this.updateProperties(e,t)}updateProperties(e,t){var l;if(!t)return;const{root:r,bbox:i,rootClass:s,path:o}=t,a=typeof e=="number"?h(this,pi).get(e):e;if(a){if(r&&B(this,u2,V4).call(this,a,r),i&&B(l=rr,WA,Vj).call(l,a,i),s){const{classList:c}=a;for(const[u,d]of Object.entries(s))c.toggle(u,d)}if(o){const u=a.firstChild.firstChild;B(this,u2,V4).call(this,u,o)}}}updateParent(e,t){if(t===this)return;const r=h(this,pi).get(e);r&&(h(t,Po).append(r),h(this,pi).delete(e),h(t,pi).set(e,r))}remove(e){h(this,Vh).delete(e),h(this,Po)!==null&&(h(this,pi).get(e).remove(),h(this,pi).delete(e))}destroy(){L(this,Po,null);for(const e of h(this,pi).values())e.remove();h(this,pi).clear(),h(this,Vh).clear()}};Po=new WeakMap,pi=new WeakMap,Vh=new WeakMap,l2=new WeakMap,WA=new WeakSet,Vj=function(e,[t,r,i,s]){const{style:o}=e;o.top=`${100*r}%`,o.left=`${100*t}%`,o.width=`${100*i}%`,o.height=`${100*s}%`},c2=new WeakSet,z4=function(){const e=rr._svgFactory.create(1,1,!0);return h(this,Po).append(e),e.setAttribute("aria-hidden",!0),e},GA=new WeakSet,Uj=function(e,t){const r=rr._svgFactory.createElement("clipPath");e.append(r);const i=`clip_${t}`;r.setAttribute("id",i),r.setAttribute("clipPathUnits","objectBoundingBox");const s=rr._svgFactory.createElement("use");return r.append(s),s.setAttribute("href",`#${t}`),s.classList.add("clip"),i},u2=new WeakSet,V4=function(e,t){for(const[r,i]of Object.entries(t))i===null?e.removeAttribute(r):e.setAttribute(r,i)},_(rr,WA),_(rr,l2,0);let $4=rr;globalThis._pdfjsTestingUtils={HighlightOutliner:v4};globalThis.pdfjsLib={AbortException:Du,AnnotationEditorLayer:O4,AnnotationEditorParamsType:_t,AnnotationEditorType:ht,AnnotationEditorUIManager:ef,AnnotationLayer:h4,AnnotationMode:Sc,AnnotationType:Kn,build:vee,ColorPicker:ex,createValidAbsoluteUrl:M7,DOMSVGFactory:Qw,DrawLayer:$4,FeatureTest:Or,fetchData:E2,getDocument:jO,getFilenameFromUrl:uZ,getPdfFilenameFromUrl:dZ,getUuid:O7,getXfaPageViewport:fZ,GlobalWorkerOptions:Ea,ImageKind:Nb,InvalidPDFException:__,isDataScheme:FS,isPdfFile:kN,isValidExplicitDest:EZ,MathClamp:yi,noContextMenu:jo,normalizeUnicode:aZ,OPS:Xw,OutputScale:Ia,PasswordResponses:QQ,PDFDataRangeTransport:BO,PDFDateString:RN,PDFWorker:G1,PermissionFlag:JQ,PixelsPerInch:Ou,RenderingCancelledException:LN,ResponseException:Yw,setLayerDimensions:Zh,shadow:Ct,SignatureExtractor:or,stopEvent:Qn,SupportedImageMimeTypes:N_,TextLayer:q1,TouchManager:Jw,updateUrlHash:F7,Util:Ke,VerbosityLevel:RS,version:VO,XfaLayer:UO};Ea.workerSrc=`//cdnjs.cloudflare.com/ajax/libs/pdf.js/${VO}/pdf.worker.min.js`;function Bee(){const{currentEmployee:n,setCurrentEmployee:e,saveEmployee:t}=pN(),[r,i]=I.useState(!1),{toast:s}=fN(),o=(u,d)=>{e(p=>({...p,[u]:d}))},a=(u,d,p)=>{e(f=>({...f,documentos:{...f.documentos,[u]:{...f.documentos[u],[d]:p}}}))},l=async(u,d)=>{if(d&&d.length>0){const p=f=>new Promise((y,g)=>{const x=new FileReader;x.onload=v=>{y({name:f.name,size:f.size,type:f.type,data:v.target.result})},x.onerror=v=>{g(v)},x.readAsDataURL(f)});try{const y=(await Promise.all(d.map(async g=>{if(g.type==="application/pdf"){const x=[];try{const v=await jO({data:atob(g.data.split(",")[1])}).promise;for(let w=1;w<=v.numPages;w++){const S=await v.getPage(w),C=S.getViewport({scale:2}),N=document.createElement("canvas"),$=N.getContext("2d");N.height=C.height,N.width=C.width,await S.render({canvasContext:$,viewport:C}).promise;const R=N.toDataURL("image/png");x.push({name:`${g.name}_page_${w}.png`,originalName:g.name,type:"image/png",data:R,page:w}),N.remove()}}catch(v){console.error("Erro ao processar PDF:",v),x.push({name:g.name,originalName:g.name,type:"application/pdf",data:null,error:"Erro ao processar PDF"})}return x}else return g.type.startsWith("image/")?[await p(g)]:[{name:g.name,originalName:g.name,type:g.type,data:null,error:"Formato de arquivo no suportado"}]}))).flat().filter(g=>g.data!==null||g.error);e(g=>({...g,documentos:{...g.documentos,[u]:{...g.documentos[u],arquivos:[...g.documentos[u].arquivos||[],...y],status:y.length>0?"concluido":"pendente"}}})),y.length>0?s({title:"Arquivos processados!",description:`${y.length} item(ns) anexado(s) com sucesso.`}):s({title:"Nenhum arquivo vlido para processar.",description:"Certifique-se de anexar imagens (JPG, PNG) ou PDFs.",variant:"destructive"})}catch(f){console.error("Erro geral ao processar arquivos:",f),s({title:"Erro ao processar arquivos",description:"Ocorreu um erro ao processar um ou mais arquivos.",variant:"destructive"})}}},c=async()=>{var $;console.log("handleGeneratePDF called");const u=new it;let d=15;const p=15,f=8,y=10,g=100,x=u.internal.pageSize.getWidth()-p*2-20,v=(R,k,W,X={})=>{const M=u.splitTextToSize(R,u.internal.pageSize.getWidth()-k-p);return u.text(M,k,W,X),W+M.length*f};console.log("currentEmployee:",n);const w=`Cadastro do Candidato - ${n.nomeCompleto||"Sem Nome"}`;u.setFontSize(18),u.text(w,p,d),d+=f*2,u.setFontSize(16),u.text("Informaes Pessoais:",p,d+f*.5),d+=f*1.5;const S={nomeCompleto:"Nome Completo",dataNascimento:"Data de Nascimento",nomePai:"Nome do Pai",nomeMae:"Nome da Me",sexo:"Sexo",estadoCivil:"Estado Civil",nacionalidade:"Nacionalidade",naturalidade:"Naturalidade",telefone:"Telefone",email:"E-mail",endereco:"Endereo Completo",cidade:"Cidade",estado:"Estado",cep:"CEP"};u.setFontSize(12);for(const R in n)if(n.hasOwnProperty(R)&&R!=="documentos"){const k=S[R]||R,W=n[R];u.setFont(void 0,"bold"),u.text(`${k}:`,p,d),u.setFont(void 0,"normal");const X=u.getTextWidth(`${k}: `);d=v(`${W}`,p+X+5,d),d+=f*.8}u.addPage(),d=p,u.setFontSize(16),u.text("Documentos:",p,d),d+=f*1.5;const C={numero:"Nmero",dataEmissao:"Data de Emisso",orgaoEmissor:"rgo Emissor",categoria:"Categoria",validade:"Validade",zona:"Zona",secao:"Seo",observacoes:"Observaes",status:"Status"};u.setFontSize(12);for(const R in n.documentos){const k=n.documentos[R];if(Object.values(k).some(X=>typeof X=="string"&&X.trim()!==""||Array.isArray(X)&&X.length>0)){R!==Object.keys(n.documentos)[0]&&(u.addPage(),d=p),u.setFontSize(14),u.text(`${R.toUpperCase()}:`,p,d+f*.5),d+=f*1.5,u.setFontSize(12);for(const X in k)if(k.hasOwnProperty(X)&&X!=="arquivos"){const M=C[X]||X,j=k[X];u.setFont(void 0,"bold"),u.text(`${M}:`,p+5,d),u.setFont(void 0,"normal");const K=u.getTextWidth(`${M}: `);d=v(`${j}`,p+5+K+5,d),d+=f*.5}if(k.arquivos&&k.arquivos.length>0){d+=f,u.setFontSize(12),d=v("Arquivos:",p+5,d),d+=f;for(const X of k.arquivos)if(X.data)try{const M=new Image;M.src=X.data;const j=M.width/M.height;let K=g,U=K*j;U>x&&(U=x,K=U/j),d+K>u.internal.pageSize.getHeight()-p&&(u.addPage(),d=p,u.setFontSize(14),u.text(`${R.toUpperCase()} (continuao):`,p,d+f*.5),d+=f*1.5,u.setFontSize(12),d=v("Arquivos (continuao):",p+5,d),d+=f);const le=($=X.type.split("/")[1])==null?void 0:$.toUpperCase(),Q=(u.internal.pageSize.getWidth()-U)/2;le==="PNG"||le==="JPEG"?(u.addImage(X.data,le,Q,d,U,K),d+=K+y):(u.setFontSize(11),d=v(`Formato de arquivo inesperado para exibio: ${X.name} (${X.type})`,p+10,d),d+=f)}catch(M){console.error("Error adding file to PDF:",M),u.setFontSize(11),d=v(`Erro ao carregar ou adicionar arquivo: ${X.name}`,p+10,d),d+=f}else X.error&&(u.setFontSize(11),d=v(`Erro ao processar arquivo ${X.originalName||X.name}: ${X.error}`,p+10,d),d+=f);d+=f*1.5}else d+=f*1.5;d+f*5>u.internal.pageSize.getHeight()-p&&(u.addPage(),d=p)}}const N=`cadastro_${n.nomeCompleto.replace(/[^a-zA-Z0-9]/g,"_")||"sem_nome"}.pdf`;u.save(N),s({title:"PDF Gerado",description:"O relatrio do candidato foi gerado com sucesso."})};return T.jsxs(Mr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"max-w-6xl mx-auto space-y-8",children:[T.jsxs("div",{className:"text-center",children:[T.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Cadastro de Candidato"}),T.jsx("p",{className:"text-gray-600 mt-2",children:"Preencha os dados pessoais e documentao"})]}),T.jsxs("div",{children:[T.jsxs(Oi,{className:"document-card mb-6",children:[" ",T.jsxs(Lo,{children:[T.jsx(ko,{children:"Informaes Pessoais"}),T.jsx(_g,{children:"Dados bsicos do Candidato"})]}),T.jsx(ji,{children:T.jsx(TJ,{employeeData:n,onInputChange:o})})]}),T.jsxs(Oi,{className:"document-card",children:[T.jsxs(Lo,{children:[T.jsx(ko,{children:"Documentao"})," ",T.jsx(_g,{children:"Anexe e preencha os dados dos documentos do Candidato"})]}),T.jsx(ji,{children:T.jsx(JJ,{employeeData:n,onDocumentChange:a,onFileChange:l})})]}),T.jsxs("div",{className:"mt-6 flex items-center space-x-2",children:[T.jsx("input",{type:"checkbox",id:"policy-agreement",checked:r,onChange:u=>i(u.target.checked),className:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),T.jsxs("label",{htmlFor:"policy-agreement",className:"text-sm text-gray-700",children:["Li e concordo com a ",T.jsx("a",{href:"#",onClick:()=>{},className:"text-blue-600 hover:underline",children:"Poltica de Privacidade e Compartilhamento de Dados"}),"."]})]}),T.jsx("div",{className:"flex justify-center pt-4",children:T.jsxs(Cu,{onClick:c,size:"lg",className:"px-8",disabled:!r,children:[T.jsx(SW,{className:"w-4 h-4 mr-2"}),"Gerar PDF"]})})]})]})}function $ee(){const{employees:n,deleteEmployee:e}=pN(),{toast:t}=fN(),[r,i]=I.useState(""),[s,o]=I.useState("all"),a=n.filter(p=>{var g,x,v;if(!(((g=p.nomeCompleto)==null?void 0:g.toLowerCase().includes(r.toLowerCase()))||((x=p.email)==null?void 0:x.toLowerCase().includes(r.toLowerCase()))||((v=p.cargo)==null?void 0:v.toLowerCase().includes(r.toLowerCase()))))return!1;if(s==="all")return!0;const y=Object.values(p.documentos||{}).filter(w=>w.status==="pendente").length;return s==="complete"?y===0:s==="incomplete"?y>0:!0}),l=(p,f)=>{window.confirm(`Tem certeza que deseja excluir o colaborador ${f}?`)&&(e(p),t({title:"Colaborador excludo",description:`${f} foi removido do sistema.`}))},c=p=>{const f=p.documentos||{},y=Object.values(f).filter(v=>v.status==="pendente").length,g=Object.keys(f).length;return{completed:g-y,total:g,pending:y,isComplete:y===0}},u={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},d={hidden:{y:20,opacity:0},visible:{y:0,opacity:1,transition:{duration:.5}}};return T.jsxs(Mr.div,{variants:u,initial:"hidden",animate:"visible",className:"space-y-8",children:[T.jsxs(Mr.div,{variants:d,className:"text-center",children:[T.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Lista de Colaboradores"}),T.jsx("p",{className:"text-gray-600 mt-2",children:"Gerencie todos os colaboradores cadastrados no sistema"})]}),T.jsx(Mr.div,{variants:d,children:T.jsx(Oi,{className:"document-card",children:T.jsx(ji,{className:"pt-6",children:T.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[T.jsxs("div",{className:"flex-1 relative",children:[T.jsx(EW,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),T.jsx(yn,{placeholder:"Buscar por nome, email ou cargo...",value:r,onChange:p=>i(p.target.value),className:"pl-10"})]}),T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsx(bW,{className:"w-4 h-4 text-gray-500"}),T.jsxs(Uw,{value:s,onValueChange:o,children:[T.jsx(V1,{className:"w-48",children:T.jsx(Hw,{placeholder:"Filtrar por status"})}),T.jsxs(U1,{children:[T.jsx(Bn,{value:"all",children:"Todos"}),T.jsx(Bn,{value:"complete",children:"Completos"}),T.jsx(Bn,{value:"incomplete",children:"Incompletos"})]})]})]})]})})})}),T.jsx(Mr.div,{variants:d,children:a.length===0?T.jsx(Oi,{className:"document-card",children:T.jsxs(ji,{className:"text-center py-12",children:[T.jsx(m1,{className:"h-16 w-16 mx-auto mb-4 text-gray-400"}),T.jsx("h3",{className:"text-lg font-semibold text-gray-600 mb-2",children:n.length===0?"Nenhum colaborador cadastrado":"Nenhum resultado encontrado"}),T.jsx("p",{className:"text-gray-500",children:n.length===0?"Comece adicionando seu primeiro colaborador ao sistema.":"Tente ajustar os filtros de busca para encontrar o que procura."})]})}):T.jsx("div",{className:"grid gap-6",children:a.map((p,f)=>{var g;const y=c(p);return T.jsx(Mr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:f*.1},children:T.jsx(Oi,{className:"document-card hover:shadow-xl transition-all duration-300",children:T.jsxs(ji,{className:"p-6",children:[T.jsxs("div",{className:"flex items-start justify-between",children:[T.jsxs("div",{className:"flex items-start space-x-4",children:[T.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-purple-500 rounded-full flex items-center justify-center text-white font-bold text-lg",children:((g=p.nomeCompleto)==null?void 0:g.charAt(0))||"N"}),T.jsxs("div",{className:"flex-1",children:[T.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:p.nomeCompleto||"Nome no informado"}),T.jsxs("p",{className:"text-gray-600",children:[p.cargo||"Cargo no informado","  ",p.setor||"Setor no informado"]}),T.jsx("p",{className:"text-sm text-gray-500 mt-1",children:p.email||"Email no informado"}),T.jsx("div",{className:"flex items-center space-x-4 mt-3",children:T.jsxs("div",{className:"flex items-center space-x-2",children:[T.jsxs(j1,{variant:y.isComplete?"default":"secondary",children:[y.completed,"/",y.total," documentos"]}),T.jsx(j1,{variant:y.isComplete?"default":"outline",className:y.isComplete?"status-completed":"status-pending",children:y.isComplete?T.jsxs(T.Fragment,{children:[T.jsx(ZC,{className:"w-3 h-3 mr-1"}),"Completo"]}):T.jsxs(T.Fragment,{children:[T.jsx(oF,{className:"w-3 h-3 mr-1"}),y.pending," pendente",y.pending!==1?"s":""]})})]})})]})]}),T.jsxs("div",{className:"flex items-center space-x-2",children:[T.jsx(Cu,{variant:"outline",size:"sm",onClick:()=>t({title:" Funcionalidade em desenvolvimento",description:"A visualizao detalhada ser implementada em breve! "}),children:T.jsx(vW,{className:"w-4 h-4"})}),T.jsx(Cu,{variant:"outline",size:"sm",onClick:()=>t({title:" Funcionalidade em desenvolvimento",description:"A edio de colaboradores ser implementada em breve! "}),children:T.jsx(AW,{className:"w-4 h-4"})}),T.jsx(Cu,{variant:"outline",size:"sm",onClick:()=>l(p.id,p.nomeCompleto),className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:T.jsx(CW,{className:"w-4 h-4"})})]})]}),T.jsxs("div",{className:"mt-4",children:[T.jsxs("div",{className:"flex justify-between text-sm text-gray-600 mb-1",children:[T.jsx("span",{children:"Progresso da documentao"}),T.jsxs("span",{children:[Math.round(y.completed/y.total*100),"%"]})]}),T.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:T.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-500 h-2 rounded-full transition-all duration-300",style:{width:`${y.completed/y.total*100}%`}})})]}),T.jsx("div",{className:"mt-4 pt-4 border-t border-gray-100",children:T.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm text-gray-600",children:[T.jsxs("div",{children:[T.jsx("span",{className:"font-medium",children:"Unidade:"}),T.jsx("p",{children:p.unidade||"No informado"})]}),T.jsxs("div",{children:[T.jsx("span",{className:"font-medium",children:"Contrato:"}),T.jsx("p",{children:p.tipoContrato||"No informado"})]}),T.jsxs("div",{children:[T.jsx("span",{className:"font-medium",children:"Admisso:"}),T.jsx("p",{children:p.dataAdmissao?new Date(p.dataAdmissao).toLocaleDateString("pt-BR"):"No informado"})]}),T.jsxs("div",{children:[T.jsx("span",{className:"font-medium",children:"Cadastrado em:"}),T.jsx("p",{children:new Date(p.createdAt).toLocaleDateString("pt-BR")})]})]})})]})})},p.id)})})})]})}function zee(){return T.jsxs("div",{className:"container mx-auto px-4 py-8",children:[T.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Poltica de Privacidade"}),T.jsxs("section",{className:"mb-8",children:[T.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Introduo"}),T.jsx("p",{className:"text-gray-700",children:"Esta Poltica de Privacidade descreve como BIMBO Sistema de Candidatos  coleta, usa e protege suas informaes pessoais. Ao utilizar nossa aplicao, voc concorda com os termos desta Poltica de Privacidade."})]}),T.jsxs("section",{className:"mb-8",children:[T.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Informaes que Coletamos"}),T.jsx("p",{className:"text-gray-700",children:"Podemos coletar diferentes tipos de informaes em conexo com os servios que oferecemos, incluindo:"}),T.jsxs("ul",{className:"list-disc list-inside text-gray-700 ml-4",children:[T.jsx("li",{children:"Informaes de identificao pessoal (como nome, e-mail, telefone) fornecidas por voc."}),T.jsx("li",{children:"Informaes sobre o uso da aplicao."}),T.jsx("li",{children:"Informaes de documentos anexados (tratadas conforme descrito em nossa poltica de dados)."})]})]}),T.jsxs("section",{className:"mb-8",children:[T.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Como Usamos Suas Informaes"}),T.jsx("p",{className:"text-gray-700",children:"Utilizamos as informaes coletadas para diversos fins, como:"}),T.jsxs("ul",{className:"list-disc list-inside text-gray-700 ml-4",children:[T.jsx("li",{children:"Fornecer e manter nossos servios."}),T.jsx("li",{children:"Processar e gerenciar cadastros e documentos."}),T.jsx("li",{children:"Comunicar com voc."})]})]}),T.jsxs("section",{className:"mb-8",children:[T.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Compartilhamento de Informaes"}),T.jsx("p",{className:"text-gray-700",children:"No compartilhamos suas informaes pessoais com terceiros, exceto conforme necessrio para fornecer os servios, cumprir a lei ou proteger nossos direitos."})]}),T.jsxs("section",{className:"mb-8",children:[T.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Segurana dos Dados"}),T.jsx("p",{className:"text-gray-700",children:"Implementamos medidas de segurana para proteger suas informaes pessoais contra acesso no autorizado, alterao, divulgao ou destruio."})]}),T.jsxs("section",{className:"mb-8",children:[T.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Seus Direitos (LGPD)"}),T.jsx("p",{className:"text-gray-700",children:"De acordo com a Lei Geral de Proteo de Dados (LGPD), voc tem direitos em relao aos seus dados pessoais, incluindo o direito de acesso, correo, excluso e portabilidade. Para exercer seus direitos, entre em contato conosco."})]}),T.jsxs("section",{className:"mb-8",children:[T.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Alteraes a Esta Poltica de Privacidade"}),T.jsx("p",{className:"text-gray-700",children:"Podemos atualizar nossa Poltica de Privacidade periodicamente. Notificaremos voc sobre quaisquer alteraes, publicando a nova Poltica de Privacidade nesta pgina."})]}),T.jsxs("section",{children:[T.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Contato"}),T.jsx("p",{className:"text-gray-700",children:"Se voc tiver alguma dvida sobre esta Poltica de Privacidade, entre em contato conosco em @grupobimbo.com."})]})]})}const fR=[{id:"dashboard",label:"Dashboard",icon:wW},{id:"new-employee",label:"Novo Candidato",icon:PW},{id:"employee-list",label:"Lista de Candidatos",icon:m1}];function Vee(){const[n,e]=I.useState("new-employee"),[t,r]=I.useState(!1),i=()=>{switch(n){case"dashboard":return T.jsx(Xk,{});case"new-employee":return T.jsx(Bee,{});case"employee-list":return T.jsx($ee,{});case"privacy-policy":return T.jsx(zee,{});default:return T.jsx(Xk,{})}},s=o=>{e(o),r(!1)};return T.jsxs(T.Fragment,{children:[T.jsxs(BC,{children:[T.jsx("title",{children:"BIMBO - Sistema de Gerenciamento de Candidato"}),T.jsx("meta",{name:"description",content:"Sistema completo para cadastro e gerenciamento de candidato da empresa BIMBO, com controle de documentao e dados pessoais."})]}),T.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50",children:[T.jsxs("header",{className:"bg-white/80 backdrop-blur-sm border-b border-gray-200/50 sticky top-0 z-50",children:[T.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:T.jsxs("div",{className:"flex justify-between items-center h-16",children:[T.jsxs("div",{className:"flex items-center space-x-3",children:[T.jsx("img",{src:"/Bimbo.png",alt:"BIMBO Logo",className:"h-10"}),T.jsxs("div",{children:[T.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"BIMBO"}),T.jsx("p",{className:"text-xs text-gray-500",children:"Sistema de Candidato"})]})]}),T.jsx("nav",{className:"hidden md:flex space-x-1",children:fR.map(o=>{const a=o.icon,l=n===o.id;return T.jsxs(Cu,{variant:l?"default":"ghost",onClick:()=>s(o.id),className:`flex items-center space-x-2 ${l?"bimbo-gradient text-white":"text-gray-600 hover:text-gray-900"}`,children:[T.jsx(a,{className:"w-4 h-4"}),T.jsx("span",{children:o.label})]},o.id)})}),T.jsx(Cu,{variant:"ghost",size:"sm",className:"md:hidden",onClick:()=>r(!t),children:t?T.jsx(aF,{className:"w-5 h-5"}):T.jsx(xW,{className:"w-5 h-5"})})]})}),T.jsx(Ok,{children:t&&T.jsx(Mr.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"md:hidden bg-white border-t border-gray-200",children:T.jsx("div",{className:"px-4 py-2 space-y-1",children:fR.map(o=>{const a=o.icon,l=n===o.id;return T.jsxs(Cu,{variant:l?"default":"ghost",onClick:()=>s(o.id),className:`w-full justify-start flex items-center space-x-2 ${l?"bimbo-gradient text-white":"text-gray-600 hover:text-gray-900"}`,children:[T.jsx(a,{className:"w-4 h-4"}),T.jsx("span",{children:o.label})]},o.id)})})})})]}),T.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:T.jsx(Ok,{mode:"wait",children:T.jsx(Mr.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},children:i()},n)})}),T.jsx("footer",{className:"bg-white/50 backdrop-blur-sm border-t border-gray-200/50 mt-16",children:T.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:T.jsxs("div",{className:"text-center",children:[T.jsx("div",{className:"flex items-center justify-center space-x-2 mb-4",children:T.jsx("img",{src:"/Bimbo.png",alt:"BIMBO Logo",className:"h-8"})}),T.jsx("p",{className:"text-gray-600 text-sm",children:"Sistema de Gerenciamento de Candidato"}),T.jsx("p",{className:"text-gray-500 text-xs mt-2",children:" 2025 BIMBO. Todos os direitos reservados."}),T.jsx("button",{className:"text-gray-500 text-xs mt-1 underline hover:text-gray-700",onClick:()=>s("privacy-policy"),children:"Poltica de Privacidade"}),T.jsx("p",{className:"text-gray-400 text-xs mt-4",children:"Desenvolvido por Diogo Silva"})]})})}),T.jsx(ZG,{})]})]})}UE.createRoot(document.getElementById("root")).render(T.jsx(et.StrictMode,{children:T.jsx(Vee,{})}));export{$t as _,Hee as c,Tg as g};
